4149,154588,How do I use Java to read from a file that is actively being written to?,"I have an application that writes information to file. This information is used post-execution to determine pass/failure/correctness of the application. I'd like to be able to read the file as it is being written so that I can do these pass/failure/correctness checks in real time.I assume it is possible to do this, but what are the gotcha's involved when using Java? If the reading catches up to the writing, will it just wait for more writes up until the file is closed, or will the read throw an exception at this point? If the latter, what do I do then? My intuition is currently pushing me towards BufferedStreams. Is this the way to go?",[],<java><file><file-io>,154588,"Could not get the example to work using FileChannel.read(ByteBuffer) because it isn't a blocking read. Did however get the code below to work:--CODE--Of course the same thing would work as a timer instead of a thread, but I leave that up to the programmer. I'm still looking for a better way, but this works for me for now.Oh, and I'll caveat this with: I'm using 1.4.2. Yes I know I'm in the stone ages still.","[""boolean running = true;BufferedInputStream reader = new BufferedInputStream(new FileInputStream( \""out.txt\"" ) );public void run() {    while( running ) {        if( reader.available() > 0 ) {            System.out.print( (char)reader.read() );        }        else {            try {                sleep( 500 );            }            catch( InterruptedException ex ) {                running = false;            }        }    }}""]",Fundamental Programming Structures in Java,"{""Input and Output"": 1.8}"
6639,,How should I load files into my Java application?,How should I load files into my Java application?,[],<java><file><loading>,6640,"The short answerUse one of these two methods:[Class.getResource(String)](""http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getResource(java.lang.String)"")[Class.getResourceAsStream(String)](""http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getResourceAsStream(java.lang.String)"")For example:--CODE----The long answerTypically, one would not want to load files using absolute paths. For example, don__ do this if you can help it:--CODE--This technique is not recommended for at least two reasons. First, it creates a dependency on a particular operating system, which prevents the application from easily moving to another operating system. One of Java__ main benefits is the ability to run the same bytecode on many different platforms. Using an absolute path like this makes the code much less portable.Second, depending on the relative location of the file, this technique might create an external dependency and limit the application__ mobility. If the file exists outside the application__ current directory, this creates an external dependency and one would have to be aware of the dependency in order to move the application to another machine (error prone).Instead, use the getResource() methods in the Class class. This makes the application much more portable. It  can be moved to different platforms, machines, or directories and still function correctly.","[""InputStream inputStream = YourClass.class.getResourceAsStream(\""image.jpg\"");"", ""File file = new File(\""C:\\\\Users\\\\Joe\\\\image.jpg\"");""]",Fundamental Programming Structures in Java,"{""Input and Output"": 0.9}"
20880,20901,Java JPanel redraw issues,"I have a Java swing application with a panel that contains three JComboBoxes that do not draw properly.The combox boxes just show up as the down arrow on the right side, but without the label of the currently selected value.The boxes will redraw correctly if the window is resized either bigger or smaller by even one pixel.All of my googling has pointed to calling revalidate() on the JPanel to fix this, but that hasn't worked for me.Calling updateUI() on the JPanel has changed it from always displaying incorrectly to displaying incorrectly half of the time.  Has anyone else seen this and found a different way to force a redraw of the combo boxes?",[],<java><swing><jpanel>,20901,"Can you give us some more information on how you add the combo boxes to the JPanel?  This is a pretty common thing to do in Swing so I doubt that it's a JVM issue but I guess anything is possible.Specifically, I would double check to make sure you're not accessing the GUI from any background threads.  In this case, maybe you're reading the choices from a DB or something and updating the JComboBox from a background thread, which is a big no-no in Swing.  See SwingUtils.invokeLater().",[],User Interface Components with Swing,"{""Choice Components"": 1.7000000000000002}"
2158,2245,Creating a custom JButton in Java,"Is there a way to create a JButton with your own button graphic and not just with an image inside the button? If not, is there another way to create a custom JButton in java?",[],<java><swing><jbutton>,2245,"When I was first learning Java we had to make Yahtzee and I thought it would be cool to create custom Swing components and containers instead of just drawing everything on one JPanel.  The benefit of extending Swing components, of course, is to have the ability to add support for keyboard shortcuts and other accessibility features that you can't do just by having a paint() method print a pretty picture.  It may not be done the best way however, but it may be a good starting point for you.Edit 8/6 - If it wasn't apparent from the images, each Die is a button you can click. This will move it to the DiceContainer below.  Looking at the source code you can see that each Die button is drawn dynamically, based on its value.Here are the basic steps:Create a class that extends JComponentCall parent constructor super() in your constructorsMake sure you class implements MouseListenerPut this in the constructor:--CODE--Override these methods:--CODE--Override this method:--CODE--The amount of space you have to work with when drawing your button is defined by getPreferredSize(), assuming getMinimumSize() and getMaximumSize() return the same value.  I haven't experimented too much with this but, depending on the layout you use for your GUI your button could look completely different.And finally, the [source code](""https://github.com/kdeloach/labs/blob/master/java/yahtzee/src/Dice.java"").  In case I missed anything.  ","[""enableInputMethods(true);   addMouseListener(this);"", ""public Dimension getPreferredSize()  public Dimension getMinimumSize()  public Dimension getMaximumSize()"", ""public void paintComponent(Graphics g)""]",User Interface Components with Swing,"{""Sophisticated Layout Management"": 0.8, ""Introduction to Layout Management"": 0.6}"
33708,33715,"My (Java/Swing) MouseListener isn't listening, help me figure out why","So I've got a JPanel implementing MouseListener and MouseMotionListener:--CODE--The trouble is, none of these mouse functions are ever called. DisplayArea is created like this:--CODE--I am not really a Java programmer (this is part of an assignment), but I can't see anything glaringly obvious. Can someone smarter than I see anything?","[""import javax.swing.*;import java.awt.*;import java.awt.event.*;public class DisplayArea extends JPanel implements MouseListener, MouseMotionListener  {    public DisplayArea(Rectangle bounds, Display display) {        setLayout(null);        setBounds(bounds);        setOpaque(false);        setPreferredSize(new Dimension(bounds.width, bounds.height));        this.display = display;    }    public void paintComponent(Graphics g) {         Graphics2D g2 = (Graphics2D)g;         if (display.getControlPanel().Antialiasing()) {             g2.addRenderingHints(new RenderingHints(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON));         }         g2.setColor(Color.white);         g2.fillRect(0, 0, getWidth(), getHeight());    }    public void mousePressed(MouseEvent event) {        System.out.println(\""mousePressed()\"");        mx1 = event.getX();        my1 = event.getY();    }    public void mouseReleased(MouseEvent event) {        System.out.println(\""mouseReleased()\"");        mx2 = event.getX();        my2 = event.getY();        int mode = display.getControlPanel().Mode();        switch (mode) {        case ControlPanel.LINE:             System.out.println(\""Line from \"" + mx1 + \"", \"" + my1 + \"" to \"" + mx2 + \"", \"" + my2 + \"".\"");        }    }    public void mouseEntered(MouseEvent event) {        System.out.println(\""mouseEntered()\"");    }    public void mouseExited(MouseEvent event) {        System.out.println(\""mouseExited()\"");    }    public void mouseClicked(MouseEvent event) {        System.out.println(\""mouseClicked()\"");    }    public void mouseMoved(MouseEvent event) {        System.out.println(\""mouseMoved()\"");    }    public void mouseDragged(MouseEvent event) {         System.out.println(\""mouseDragged()\"");    }    private Display display = null;    private int mx1 = -1;    private int my1 = -1;    private int mx2 = -1;    private int my2 = -1;}"", ""da = new DisplayArea(new Rectangle(CONTROL_WIDTH, 0, DISPLAY_WIDTH, DISPLAY_HEIGHT), this);""]",<java><swing><actionlistener><mouselistener>,33715,"The implements mouselistener, mousemotionlistener just allows the displayArea class to listen to some, to be defined, Swing component's mouse events. You have to explicitly define what it should be listening at. So I suppose you could add something like this to the constructor:--CODE--","[""this.addMouseListener(this);this.addMouseMotionListener(this);""]",Graphical User Interface Programming,"{""Event Handling"": 1.9}"
37026,37046,Java: notify() vs. notifyAll() all over again,"If one Googles for ""difference between notify() and notifyAll()"" then a lot of explanations will pop up (leaving apart the javadoc paragraphs). It all boils down to the number of waiting threads being waken up: one in notify() and all in notifyAll().However (if I do understand the difference between these methods right), only one thread is always selected for further monitor acquisition; in the first case the one selected by the VM, in the second case the one selected by the system thread scheduler. The exact selection procedures for both of them (in the general case) are not known to the programmer.What's the useful difference between [notify()](""http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#notify%28%29"") and [notifyAll()](""http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#notifyAll%28%29"") then? Am I missing something?",[],<java><multithreading>,37046,"  However (if I do understand the difference between these methods right), only one thread is always selected for further monitor acquisition.That is not correct.  o.notifyAll() wakes all of the threads that are blocked in o.wait() calls.  The threads are only allowed to return from o.wait() one-by-one, but they each will get their turn.Simply put, it depends on why your threads are waiting to be notified. Do you want to tell one of the waiting threads that something happened, or do you want to tell all of them at the same time?In some cases, all waiting threads can take useful action once the wait finishes. An example would be a set of threads waiting for a certain task to finish; once the task has finished, all waiting threads can continue with their business. In such a case you would use notifyAll() to wake up all waiting threads at the same time.Another case, for example mutually exclusive locking, only one of the waiting threads can do something useful after being notified (in this case acquire the lock). In such a case, you would rather use notify(). Properly implemented, you could use notifyAll() in this situation as well, but you would unnecessarily wake threads that can't do anything anyway.In many cases, the code to await a condition will be written as a loop:--CODE--That way, if an o.notifyAll() call wakes more than one waiting thread, and the first one to return from the o.wait() makes leaves the condition in the false state, then the other threads that were awakened will go back to waiting.","[""synchronized(o) {    while (! IsConditionTrue()) {        o.wait();    }    DoSomethingThatOnlyMakesSenseWhenConditionIsTrue_and_MaybeMakeConditionFalseAgain();}""]",Concurrency,"{""Synchronization"": 1.9}"
53820,53831,Why does windows XP minimize my swing full screen window on my second screen?,"In the application I'm developping (in Java/swing), I have to show a full screen window on the second screen of the user.I did this using a code similar to the one you'll find below...Be, as soon as I click in a window opened by windows explorer, or as soon as I open windows explorer (i'm using windows XP), the full screen window is minimized...Do you know any way or workaround to fix this problem, or is there something important I did not understand with full screen windows?Thanks for the help,--CODE--","[""import javax.swing.JFrame;import javax.swing.JPanel;import javax.swing.JWindow;import java.awt.BorderLayout;import java.awt.Dimension;import java.awt.GraphicsDevice;import java.awt.GraphicsEnvironment;import java.awt.Window;import javax.swing.JButton;import javax.swing.JToggleButton;import java.awt.Rectangle;import java.awt.GridBagLayout;import javax.swing.JLabel;public class FullScreenTest {    private JFrame jFrame = null;  //  @jve:decl-index=0:visual-constraint=\""94,35\""    private JPanel jContentPane = null;    private JToggleButton jToggleButton = null;    private JPanel jFSPanel = null;  //  @jve:decl-index=0:visual-constraint=\""392,37\""    private JLabel jLabel = null;    private Window window;    /**     * This method initializes jFrame        *       * @return javax.swing.JFrame        */    private JFrame getJFrame() {        if (jFrame == null) {            jFrame = new JFrame();            jFrame.setSize(new Dimension(474, 105));            jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);            jFrame.setContentPane(getJContentPane());        }        return jFrame;    }    /**     * This method initializes jContentPane      *       * @return javax.swing.JPanel        */    private JPanel getJContentPane() {        if (jContentPane == null) {            jContentPane = new JPanel();            jContentPane.setLayout(null);            jContentPane.add(getJToggleButton(), null);        }        return jContentPane;    }    /**     * This method initializes jToggleButton         *       * @return javax.swing.JToggleButton         */    private JToggleButton getJToggleButton() {        if (jToggleButton == null) {            jToggleButton = new JToggleButton();            jToggleButton.setBounds(new Rectangle(50, 23, 360, 28));            jToggleButton.setText(\""Show Full Screen Window on 2nd screen\"");            jToggleButton.addActionListener(new java.awt.event.ActionListener() {                public void actionPerformed(java.awt.event.ActionEvent e) {                    showFullScreenWindow(jToggleButton.isSelected());                }            });        }        return jToggleButton;    }    protected void showFullScreenWindow(boolean b) {        if(window==null){            window = initFullScreenWindow();        }        window.setVisible(b);    }    private Window initFullScreenWindow() {        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();        GraphicsDevice[] gds = ge.getScreenDevices();        GraphicsDevice gd = gds[1];        JWindow window = new JWindow(gd.getDefaultConfiguration());        window.setContentPane(getJFSPanel());        gd.setFullScreenWindow(window);        return window;    }    /**     * This method initializes jFSPanel      *       * @return javax.swing.JPanel        */    private JPanel getJFSPanel() {        if (jFSPanel == null) {            jLabel = new JLabel();            jLabel.setBounds(new Rectangle(18, 19, 500, 66));            jLabel.setText(\""Hello ! Now, juste open windows explorer and see what happens...\"");            jFSPanel = new JPanel();            jFSPanel.setLayout(null);            jFSPanel.setSize(new Dimension(500, 107));            jFSPanel.add(jLabel, null);        }        return jFSPanel;    }    /**     * @param args     */    public static void main(String[] args) {        FullScreenTest me = new FullScreenTest();        me.getJFrame().setVisible(true);    }}""]",<java><windows><swing>,53831,"Usually when an application is in ""full screen"" mode it will take over the entire desktop.  For a user to get to another window they would have to alt-tab to it.  At that point windows would minimize the full screen app so that the other application could come to the front. This sounds like it may be a bug (undocumented feature...) in windows.  It should probably not be doing this for a dual screen setup.  One option to fix this is rather than setting it to be ""full screen"" just make the window the same size as the screen with location (0,0).  You can get screen information from the [GraphicsConfigurations on the GraphicsDevice](""http://java.sun.com/j2se/1.4.2/docs/api/java/awt/GraphicsDevice.html#getConfigurations%28%29"").  ",[],User Interface Components with Swing,"{""Introduction to Layout Management"": 0.65, ""Sophisticated Layout Management"": 0.85}"
64000,64183,Draining Standard Error in Java,"When launching a process from Java, both stderr and stdout can block on output if I don't read from the pipes.  Currently I have a thread that pro-actively reads from one and the main thread blocks on the other.Is there an easy way to join the two streams or otherwise cause the subprocess to continue while not losing the data in stderr? ",[],<java><multithreading><process-management>,64183,"Set the redirectErrorStream property on ProcessBuilder to send stderr output to stdout:--CODE--You should then create a thread to deal with the process stream, something like the following:--CODE--Where InputHandler is defined as:--CODE--Alternatively, just create two InputHandlers for the InputStream and ErrorStream. Knowing that the program will block if you don't read them is 90% of the battle :)","[""ProcessBuilder builder = new ProcessBuilder(command);builder.redirectErrorStream(true);"", ""Process p = builder.start();InputHandler outHandler = new InputHandler(p.getInputStream());"", ""private static class InputHandler extends Thread {    private final InputStream is;    private final ByteArrayOutputStream os;    public InputHandler(InputStream input) {        this.is = input;        this.os = new ByteArrayOutputStream();    }    public void run() {        try {            int c;            while ((c = is.read()) != -1) {                os.write(c);            }        } catch (Throwable t) {            throw new IllegalStateException(t);        }    }    public String getOutput() {        try {        os.flush();        } catch (Throwable t) {            throw new IllegalStateException(t);        }        return os.toString();    }}""]",Concurrency,"{""Tasks and Thread Pools"": 0.75}"
65128,65618,track down file handle,"I have a huge ear that uses log4j and there is a single config file that is used to set it up. In this config file there is no mention of certain log files but, additional files apart from those specified in the config file get generated in the logs folder. I've searched for other combinations of (logger|log4j|log).(properties|xml) and haven't found anything promising in all of the jar files included in the ear. How do I track down which is the offending thread/class that is creating these extra files?",[],<java><logging><file><jakarta-ee><websphere>,65618,"Try placing a breakpoint in the File class' constructors and the mkdir and createNewFile methods.  Generally, code will use the File class to create its files or directories.  You should have the Java source code for these classes included with your JVM.",[],Fundamental Programming Structures in Java,"{""Input and Output"": 0.8}"
584234,584261,Problem with threads,"*I'm using Java.I have this thread, agent, that explores a room to determine its size and clean it if it's dirty. Then I have the interface, which draws the agent as it explores the environment. Agent is subclassed from Thread, and Java takes care of managing the threads. All I do is create the thread and say object.start().This works very well under normal circustances. However, the menus are enabled during this time, and that means the user can mess with the room while the agent is exploring it. That shouldn't happen.So, once the user clicks the option that tells the agent to clean the room, I'd like to disable all the menus. Except this isn't working as it should. Here's the problem:--CODE--The problem is that the menus are enabled before the agent thread executes its function. I thought about using Thread.join() - that would garantee that the code to enable the menus is only executed after the agent thread ends. But, if I use Thread.join() the interface doesn't update itself while the agent is moving, because it's waiting for the agent to finish!I've thought about disabling the interface from the agent and then enabling it once the agent is done, but I'm not sure that would work and the biggest problem here is that the agent shouldn't be messing around with the menus.So, to sum it up, I need a thread executing to update the interface/draw the agent moving, but that thread cannot be the same that enables the menu. It seems currently there is one thread doing both. Assuming that's possible and not too complicated.","[""...public void ActionPerformed(ActionEvent e){    //disable the menus with setEnabled(false);    agent.start();    //enable the menus with setEnabled(true);}""]",<java><multithreading><user-interface>,584261,"  I've thought about disabling the  interface from the agent and then  enabling it once the agent is done,  but I'm not sure that would work and  the biggest problem here is that the  agent shouldn't be messing around with  the menus.You could make the agent call a method in the GUI class that re-enables the menus, when it is done. The method would, of course, call the appropriate Swing methods on the EDT.--CODE--If multiple agents can run concurrently, you'll need to check if all of them are done, before re-enabling the menu.","[""class Agent extends Thread{    @override    public void run()    {       // run around the room       // finally done       gui.agentIsDone();    }}class GUI extends JFrame{    ...    void agentIsDone()    {        SwingUtilities.invokeLater(new Runnable()        {            @override             public void run()            {                menus.setEnabled(true);            }        });    } }""]",Concurrency,"{""Thread Properties"": 0.75, ""Synchronization"": 0.55, ""Asynchronous Computations"": 0.7}"
85548,85589,"How to make Swing scroll with ""ensureIndexIsVisible""?",When I run this code the selected item is not visible.  I've already tried to run it in a separate thread with no luck.--CODE--,"[""import javax.swing.JFrame;import java.awt.Container;import javax.swing.JList;import javax.swing.ListSelectionModel;import javax.swing.JScrollPane;import java.awt.Dimension;public class ScrollList extends JFrame {    int defaultValue;    ScrollList() {        Container cp = getContentPane();        JList list = createList();        defaultValue = 20;        cp.add(createScrollPane(list));        pack();        setVisible(true);        list.ensureIndexIsVisible(defaultValue);    }    JList createList() {        Integer[] model = new Integer[73];        JList list = new JList(model);        for (int i = 1; i < model.length; i++)            model[i] = i;        list.setSelectedIndex(defaultValue);        return list;    }    JScrollPane createScrollPane(JList list) {        JScrollPane s = new JScrollPane(createList());        s.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);        s.setPreferredSize(new Dimension(100, 200));        return s;    }    public static void main(String[] args) {        new ScrollList();    }}""]",<java><swing>,85589,"I figured it out!!This is the code:--CODE--Instead of using the list that you passed into the createScrollPane() method, you create a new one.","[""import javax.swing.JFrame;import java.awt.Container;import javax.swing.JList;import javax.swing.ListSelectionModel;import javax.swing.JScrollPane;import java.awt.Dimension;public class ScrollList extends JFrame {    final int defaultValue = 20;    ScrollList() {        setDefaultCloseOperation(DISPOSE_ON_CLOSE);        Container cp = getContentPane();        JList list = createList();        cp.add(createScrollPane(list));        pack();        list.ensureIndexIsVisible(list.getSelectedIndex());        setVisible(true);    }    JList createList() {        Integer[] model = new Integer[73];        JList list = new JList(model);        for (int i = 1; i < model.length; i++)            model[i] = i;        list.setSelectedIndex(defaultValue);        return list;    }    JScrollPane createScrollPane(JList list) {        JScrollPane s = new JScrollPane(list); // MAJOR FIX HERE!        s.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);        s.setPreferredSize(new Dimension(100, 200));        return s;    }    public static void main(String[] args) {        new ScrollList();    }}""]",User Interface Components with Swing,"{""Text Input"": 1.6}"
94011,95636,How to abort a thread in a fast and clean way in java?,"Here is my problem: I've got a dialog with some parameters that the user can change (via a spinner for example). Each time one of these parameters is changed, I launch a thread to update a 3D view according to the new parameter value. If the user changes another value (or the same value again by clicking many times on the spinner arrow) while the first thread is working, I would like to abort the first thread (and the update of the 3D view) and launch a new one with the latest parameter value.How can I do something like that?PS: There is no loop in the run() method of my thread, so checking for a flag is not an option: the thread updating the 3D view basically only calls a single method that is very long to execute. I can't add any flag in this method asking to abort either as I do not have access to its code.",[],<java><multithreading>,95636,"Try interrupt() as some have said to see if it makes any difference to your thread.  If not, try destroying or closing a resource that will make the thread stop.  That has a chance of being a little better than trying to throw Thread.stop() at it.If performance is tolerable, you might view each 3D update as a discrete non-interruptible event and just let it run through to conclusion, checking afterward if there's a new latest update to perform.  This might make the GUI a little choppy to users, as they would be able to make five changes, then see the graphical results from how things were five changes ago, then see the result of their latest change.  But depending on how long this process is, it might be tolerable, and it would avoid having to kill the thread.  Design might look like this:--CODE--","[""boolean stopFlag = false;Object[] latestArgs = null;public void run() {  while (!stopFlag) {    if (latestArgs != null) {      Object[] args = latestArgs;      latestArgs = null;      perform3dUpdate(args);    } else {      Thread.sleep(500);    }  }}public void endThread() {  stopFlag = true;}public void updateSettings(Object[] args) {  latestArgs = args;}""]",Concurrency,"{""Thread States"": 0.8, ""Thread Properties"": 0.7}"
102171,102737,Method that returns the line number for a given JTextPane position?,"I'm looking for a method that computes the line number of a given text position in a JTextPane with wrapping enabled.Example:  This a very very very very very very very very very very very very very very very very very very very very very very long line.  This is another very very very very very very very very very very very very very very very very very very very very very very long line.|The cursor is on line number four, not two.Can someone provide me with the implementation of the method:--CODE--","[""int getLineNumber(JTextPane pane, int pos){     return ???}""]",<java><user-interface><swing><jtextpane>,102737,Try this--CODE--,"["" /**   * Return an int containing the wrapped line index at the given position   * @param component JTextPane   * @param int pos   * @return int   */  public int getLineNumber(JTextPane component, int pos)   {    int posLine;    int y = 0;    try    {      Rectangle caretCoords = component.modelToView(pos);      y = (int) caretCoords.getY();    }    catch (BadLocationException ex)    {    }    int lineHeight = component.getFontMetrics(component.getFont()).getHeight();    posLine = (y / lineHeight) + 1;    return posLine;  }""]",User Interface Components with Swing,"{""Text Input"": 0.8}"
103179,103295,How do I set an Application's Icon Globally in Swing?,"I know I can specify one for each form, or for the root form and then it'll cascade through to all of the children forms, but I'd like to have a way of overriding the default Java Coffee Cup for all forms even those I might forget.Any suggestions?",[],<java><swing>,103295,"You can make the root form (by which I assume you mean JFrame) be your own subclass of JFrame, and put standard functionality in its constructor, such as:--CODE--You can bundle other standard stuff in here too, such as memorizing the frame's window metrics as a user preference, managing splash panes, etc.Any new frames spawned by this one would also be instances of this JFrame subclass.  The only thing you have to remember is to instantiate your subclass, instead of JFrame.  I don't think there's any substitute for remembering to do this, but at least now it's a matter of remembering a subclass instead of a setIconImage call (among possibly other features).","[""this.setIconImage(STANDARD_ICON);""]",Graphical User Interface Programming,"{""Displaying Information in a Component"": 0.6, ""Displaying Frames"": 0.8}"
106446,,using JTables with netbeans 6.1 aka Matisse,"Before you answer: Yes I have read the jtable tutorial over at Sun. No, it did not help me. Yes, I am a dolt. Please don't answer with a reference to that document. What I am specifically interested in is how to dynamically add rows and columns to my Jtable via the Netbeans IDE. I already have an object that contains a hashmap with my data. I can't figure out where or what object I should be passing that object to. Thanks for your time! I have a vector that contains a series (of length l) of objects (each one corresponding to a row). How do I get that vector object to display on the JTable?",[],<java><swing><netbeans>,106462,"A JTable uses a TableModel to hold its data. Your hash/vector of data will need to be adapted to be used; you can write a TableModel implementation, using the hash/vector as backing data, or, if you won't be dynamically updating the hash/vector and needing it to show automatically, you can simply copy everything into an instance of DefaultTableModel, and use that.If you do use an adapter, and dynamically update the hash/vector, remember that all updates must be done in the event dispatch thread. :-)",[],User Interface Components with Swing,"{""Choice Components"": 0.6, ""Text Input"": 0.5}"
6113944,6115913,How cancel the execution of a SwingWorker?,"Currently I have two SwingWorker threads doing job on background. If an exception occurs, the method stop to work, but the thread still runnig. How I do to stop the execution and kill the thread of the doInBackground() if an exception occurs?this.cancel(true) don't destroy/close the thread. How can I achieve this?--CODE--I see these threads in the debug of Netbeans.--CODE--","[""@Overrideprotected Boolean doInBackground() throws Exception {        try {            while (true) {                //some code here                                   return true;            }        } catch (Exception e) {                   this.cancel(true); //<-- this not cancel the thread                           return false;        }    }"", ""'AWT-EventQueue-0' em execução'AWT-Windows' em execução'SwingWorker-pool-1-thread-1' em execução'SwingWorker-pool-1-thread-2' em execução//*em execução = in execution""]",<java><multithreading><swing><swingworker><cancellation>,6115913,"By default, SwingWorker reuses worker threads, so it is perfectly normal that, even though, doInBackground() has returned, to still see the thread that executed your method.You can identify this fact by looking at the thread names, as reported by NetBeans: SwingWorker-pool-1-thread-1, where that pool is managed by SwingWorker.If you want more control, you can also pass the SwingWorker instance to an Executor.Just check [SwingWorker](""https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingWorker.html"") and [Executor](""https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html"") javadoc for further information.Besides, SwingWorker.cancel() is not supposed to be called from doInBackground() but rather from another thread, generally the EDT, e.g. when user clicks a Cancel button in a progress dialog.",[],Concurrency,"{""Tasks and Thread Pools"": 0.6, ""Asynchronous Computations"": 0.75}"
118371,118388,How do you ensure multiple threads can safely access a class field?,"When a class field is accessed via a getter method by multiple threads, how do you maintain thread safety? Is the synchronized keyword sufficient?Is this safe:--CODE--or does the setter introduce further complications?","[""public class SomeClass {    private int val;    public synchronized int getVal() {        return val;    }    private void setVal(int val) {        this.val = val;    }}""]",<java><multithreading><synchronized>,118388,"If you use 'synchronized' on the setter here too, this code is threadsafe. However it may not be sufficiently granular; if you have 20 getters and setters and they're all synchronized, you may be creating a synchronization bottleneck.In this specific instance, with a single int variable, then eliminating the 'synchronized' and marking the int field 'volatile' will also ensure visibility (each thread will see the latest value of 'val' when calling the getter) but it may not be synchronized enough for your needs. For example, expecting--CODE--to set val to 2 if and only if it's already 1 is incorrect. For this you need an external lock, or some atomic compare-and-set method.I strongly suggest you read Java Concurrency In Practice by Brian Goetz et al, it has the best coverage of Java's concurrency constructs.","["" int old = someThing.getVal(); if (old == 1) {    someThing.setVal(2); }""]",Concurrency,"{""Thread-Safe Collections"": 0.75, ""Synchronization"": 0.9}"
119328,119586,"How do I truncate a java string to fit in a given number of bytes, once UTF-8 encoded?",How do I truncate a java String so that I know it will fit in a given number of bytes storage once it is UTF-8 encoded?,[],<java><string><unicode><utf-8><truncate>,119586,"Here is a simple loop that counts how big the UTF-8 representation is going to be, and truncates when it is exceeded:--CODE--This does handle [surrogate pairs](""http://en.wikipedia.org/wiki/UTF-16"") that appear in the input string. Java's UTF-8 encoder (correctly) outputs surrogate pairs as a single 4-byte sequence instead of two 3-byte sequences, so truncateWhenUTF8() will return the longest truncated string it can. If you ignore surrogate pairs in the implementation then the truncated strings may be shorted than they needed to be.I haven't done a lot of testing on that code, but here are some preliminary tests:--CODE--Updated Modified code example, it now handles surrogate pairs.","[""public static String truncateWhenUTF8(String s, int maxBytes) {    int b = 0;    for (int i = 0; i < s.length(); i++) {        char c = s.charAt(i);        // ranges from http://en.wikipedia.org/wiki/UTF-8        int skip = 0;        int more;        if (c <= 0x007f) {            more = 1;        }        else if (c <= 0x07FF) {            more = 2;        } else if (c <= 0xd7ff) {            more = 3;        } else if (c <= 0xDFFF) {            // surrogate area, consume next char as well            more = 4;            skip = 1;        } else {            more = 3;        }        if (b + more > maxBytes) {            return s.substring(0, i);        }        b += more;        i += skip;    }    return s;}"", ""private static void test(String s, int maxBytes, int expectedBytes) {    String result = truncateWhenUTF8(s, maxBytes);    byte[] utf8 = result.getBytes(Charset.forName(\""UTF-8\""));    if (utf8.length > maxBytes) {        System.out.println(\""BAD: our truncation of \"" + s + \"" was too big\"");    }    if (utf8.length != expectedBytes) {        System.out.println(\""BAD: expected \"" + expectedBytes + \"" got \"" + utf8.length);    }    System.out.println(s + \"" truncated to \"" + result);}public static void main(String[] args) {    test(\""abcd\"", 0, 0);    test(\""abcd\"", 1, 1);    test(\""abcd\"", 2, 2);    test(\""abcd\"", 3, 3);    test(\""abcd\"", 4, 4);    test(\""abcd\"", 5, 4);    test(\""a\\u0080b\"", 0, 0);    test(\""a\\u0080b\"", 1, 1);    test(\""a\\u0080b\"", 2, 1);    test(\""a\\u0080b\"", 3, 3);    test(\""a\\u0080b\"", 4, 4);    test(\""a\\u0080b\"", 5, 4);    test(\""a\\u0800b\"", 0, 0);    test(\""a\\u0800b\"", 1, 1);    test(\""a\\u0800b\"", 2, 1);    test(\""a\\u0800b\"", 3, 1);    test(\""a\\u0800b\"", 4, 4);    test(\""a\\u0800b\"", 5, 5);    test(\""a\\u0800b\"", 6, 5);    // surrogate pairs    test(\""\\uD834\\uDD1E\"", 0, 0);    test(\""\\uD834\\uDD1E\"", 1, 0);    test(\""\\uD834\\uDD1E\"", 2, 0);    test(\""\\uD834\\uDD1E\"", 3, 0);    test(\""\\uD834\\uDD1E\"", 4, 4);    test(\""\\uD834\\uDD1E\"", 5, 4);}""]",Fundamental Programming Structures in Java,"{""Strings"": 1.65}"
125333,125354,How to implement simple threading with a fixed number of worker threads,"I'm looking for the simplest, most straightforward way to implement the following:The main program instantiates workerthreads to do a task.Only n tasks can be running at once.When n is reached, no more workersare started until the count ofrunning threads drops back below n.",[],<java><multithreading><concurrency>,125354,"I think that [Executors.newFixedThreadPool](""http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool(int)"") fits your requirements.  There are a number of different ways to use the resulting ExecutorService, depending on whether you want a result returned to the main thread, or whether the task is totally self-contained, and whether you have a collection of tasks to perform up front, or whether tasks are queued in response to some event.  --CODE--Alternatively, if you have a new asynchronous task to perform in response to some event, you probably just want to use the ExecutorService's simple execute(Runnable) method.","[""  Collection<YourTask> tasks = new ArrayList<YourTask>();  YourTask yt1 = new YourTask();  ...  tasks.add(yt1);  ...  ExecutorService exec = Executors.newFixedThreadPool(5);  List<Future<YourResultType>> results = exec.invokeAll(tasks);""]",Concurrency,"{""Tasks and Thread Pools"": 1.55, ""Synchronization"": 0.6}"
133988,134014,Synchronizing on String objects in Java,"I have a webapp that I am in the middle of doing some load/performance testing on, particularily on a feature where we expect a few hundred users to be accessing the same page and hitting refresh about every 10 seconds on this page. One area of improvement that we found we could make with this function was to cache the responses from the web service for some period of time, since the data is not changing.After implementing this basic caching, in some further testing I found out that I didn't consider how concurrent threads could access the Cache at the same time. I found that within the matter of ~100ms, about 50 threads were trying to fetch the object from the Cache, finding that it had expired, hitting the web service to fetch the data, and then putting the object back in the cache.The original code looked something like this:--CODE--So, to make sure that only one thread was calling the web service when the object at key expired, I thought I needed to synchronize the Cache get/set operation, and it seemed like using the cache key would be a good candidate for an object to synchronize on (this way, calls to this method for email b@b.com would not be blocked by method calls to a@a.com).I updated the method to look like this:--CODE--I also added logging lines for things like ""before synchronization block"", ""inside synchronization block"", ""about to leave synchronization block"", and ""after synchronization block"", so I could determine if I was effectively synchronizing the get/set operation.However it doesn't seem like this has worked. My test logs have output like:  (log output is 'threadname' 'logger name' 'message')  http-80-Processor253 jsp.view-page - getSomeDataForEmail: about to enter synchronization block  http-80-Processor253 jsp.view-page - getSomeDataForEmail: inside synchronization block  http-80-Processor253 cache.StaticCache - get: object at key [SomeData-test@test.com] has expired  http-80-Processor253 cache.StaticCache - get: key [SomeData-test@test.com] returning value [null]  http-80-Processor263 jsp.view-page - getSomeDataForEmail: about to enter synchronization block  http-80-Processor263 jsp.view-page - getSomeDataForEmail: inside synchronization block  http-80-Processor263 cache.StaticCache - get: object at key [SomeData-test@test.com] has expired  http-80-Processor263 cache.StaticCache - get: key [SomeData-test@test.com] returning value [null]  http-80-Processor131 jsp.view-page - getSomeDataForEmail: about to enter synchronization block  http-80-Processor131 jsp.view-page - getSomeDataForEmail: inside synchronization block  http-80-Processor131 cache.StaticCache - get: object at key [SomeData-test@test.com] has expired  http-80-Processor131 cache.StaticCache - get: key [SomeData-test@test.com] returning value [null]  http-80-Processor104 jsp.view-page - getSomeDataForEmail: inside synchronization block  http-80-Processor104 cache.StaticCache - get: object at key [SomeData-test@test.com] has expired  http-80-Processor104 cache.StaticCache - get: key [SomeData-test@test.com] returning value [null]  http-80-Processor252 jsp.view-page - getSomeDataForEmail: about to enter synchronization block  http-80-Processor283 jsp.view-page - getSomeDataForEmail: about to enter synchronization block  http-80-Processor2 jsp.view-page - getSomeDataForEmail: about to enter synchronization block  http-80-Processor2 jsp.view-page - getSomeDataForEmail: inside synchronization block  I wanted to see only one thread at a time entering/exiting the synchronization block around the get/set operations.Is there an issue in synchronizing on String objects? I thought the cache-key would be a good choice as it is unique to the operation, and even though the final String key is declared within the method, I was thinking that each thread would be getting a reference to the same object and therefore would synchronization on this single object.What am I doing wrong here?Update: after looking further at the logs, it seems like methods with the same synchronization logic where the key is always the same, such as --CODE--do not exhibit the same concurrency problem - only one thread at a time is entering the block.Update 2: Thanks to everyone for the help! I accepted the first answer about intern()ing Strings, which solved my initial problem - where multiple threads were entering synchronized blocks where I thought they shouldn't, because the key's had the same value.As others have pointed out, using intern() for such a purpose and synchronizing on those Strings does indeed turn out to be a bad idea - when running JMeter tests against the webapp to simulate the expected load, I saw the used heap size grow to almost 1GB in just under 20 minutes.Currently I'm using the simple solution of just synchronizing the entire method - but I really like the code samples provided by martinprobst and MBCook, but since I have about 7 similar getData() methods in this class currently (since it needs about 7 different pieces of data from a web service), I didn't want to add almost-duplicate logic about getting and releasing locks to each method. But this is definitely very, very valuable info for future usage. I think these are ultimately the correct answers on how best to make an operation like this thread-safe, and I'd give out more votes to these answers if I could!","[""private SomeData[] getSomeDataByEmail(WebServiceInterface service, String email) {  final String key = \""Data-\"" + email;  SomeData[] data = (SomeData[]) StaticCache.get(key);  if (data == null) {      data = service.getSomeDataForEmail(email);      StaticCache.set(key, data, CACHE_TIME);  }  else {      logger.debug(\""getSomeDataForEmail: using cached object\"");  }  return data;}"", ""private SomeData[] getSomeDataByEmail(WebServiceInterface service, String email) {  SomeData[] data = null;  final String key = \""Data-\"" + email;  synchronized(key) {          data =(SomeData[]) StaticCache.get(key);    if (data == null) {        data = service.getSomeDataForEmail(email);        StaticCache.set(key, data, CACHE_TIME);    }    else {      logger.debug(\""getSomeDataForEmail: using cached object\"");    }  }  return data;}"", ""final String key = \""blah\"";...synchronized(key) { ...""]",<java><multithreading><synchronization><thread-safety><synchronized>,134014,"Without putting my brain fully into gear, from a quick scan of what you say it looks as though you need to intern() your Strings:--CODE--Two Strings with the same value are otherwise not necessarily the same object.Note that this may introduce a new point of contention, since deep in the VM, intern() may have to acquire a lock. I have no idea what modern VMs look like in this area, but one hopes they are fiendishly optimised.I assume you know that StaticCache still needs to be thread-safe. But the contention there should be tiny compared with what you'd have if you were locking on the cache rather than just the key while calling getSomeDataForEmail.Response to question update:I think that's because a string literal always yields the same object. Dave Costa points out in a comment that it's even better than that: a literal always yields the canonical representation. So all String literals with the same value anywhere in the program would yield the same object.EditOthers have pointed out that synchronizing on intern strings is actually a really bad idea - partly because creating intern strings is permitted to cause them to exist in perpetuity, and partly because if more than one bit of code anywhere in your program synchronizes on intern strings, you have dependencies between those bits of code, and preventing deadlocks or other bugs may be impossible.Strategies to avoid this by storing a lock object per key string are being developed in other answers as I type.Here's an alternative - it still uses a singular lock, but we know we're going to need one of those for the cache anyway, and you were talking about 50 threads, not 5000, so that may not be fatal. I'm also assuming that the performance bottleneck here is slow blocking I/O in DoSlowThing() which will therefore hugely benefit from not being serialised. If that's not the bottleneck, then:If the CPU is busy then this approach may not be sufficient and you need another approach.If the CPU is not busy, and access to server is not a bottleneck, then this approach is overkill, and you might as well forget both this and per-key locking, put a big synchronized(StaticCache) around the whole operation, and do it the easy way.Obviously this approach needs to be soak tested for scalability before use -- I guarantee nothing.This code does NOT require that StaticCache is synchronized or otherwise thread-safe. That needs to be revisited if any other code (for example scheduled clean-up of old data) ever touches the cache.IN_PROGRESS is a dummy value - not exactly clean, but the code's simple and it saves having two hashtables. It doesn't handle InterruptedException because I don't know what your app wants to do in that case. Also, if DoSlowThing() consistently fails for a given key this code as it stands is not exactly elegant, since every thread through will retry it. Since I don't know what the failure criteria are, and whether they are liable to be temporary or permanent, I don't handle this either, I just make sure threads don't block forever. In practice you may want to put a data value in the cache which indicates 'not available', perhaps with a reason, and a timeout for when to retry.--CODE--Every time anything is added to the cache, all threads wake up and check the cache (no matter what key they're after), so it's possible to get better performance with less contentious algorithms. However, much of that work will take place during your copious idle CPU time blocking on I/O, so it may not be a problem.This code could be commoned-up for use with multiple caches, if you define suitable abstractions for the cache and its associated lock, the data it returns, the IN_PROGRESS dummy, and the slow operation to perform. Rolling the whole thing into a method on the cache might not be a bad idea.","[""final String firstkey = \""Data-\"" + email;final String key = firstkey.intern();"", ""// do not attempt double-check locking here. I mean it.synchronized(StaticObject) {    data = StaticCache.get(key);    while (data == IN_PROGRESS) {        // another thread is getting the data        StaticObject.wait();        data = StaticCache.get(key);    }    if (data == null) {        // we must get the data        StaticCache.put(key, IN_PROGRESS, TIME_MAX_VALUE);    }}if (data == null) {    // we must get the data    try {        data = server.DoSlowThing(key);    } finally {        synchronized(StaticObject) {            // WARNING: failure here is fatal, and must be allowed to terminate            // the app or else waiters will be left forever. Choose a suitable            // collection type in which replacing the value for a key is guaranteed.            StaticCache.put(key, data, CURRENT_TIME);            StaticObject.notifyAll();        }    }}""]",Concurrency,"{""Synchronization"": 1.7000000000000002}"
146498,147428,JTable column spanning,"I am trying to make a JTable that has column spans available. Specifically, I am looking to nest a JTable inside another JTable, and when the user clicks to view the nested table, it should expand to push down the rows below and fill the empty space. This is similar to what you see in MS Access where you can nest tables, and clicking the expand button on a row will show you the corresponding entries in the nested table. If someone knows of a way to perform a column span with JTable, can you please point me in the right direction? Or if you know of an alternative way to do this, I am open to suggestions. The application is being built with Swing. Elements in the table, both high level and low level, have to be editable in any solution. Using nested JTables this won't be a problem, and any other solution would have to take this into consideration as well.",[],<java><swing><jtable>,147428,"As a pointer in the right direction, try [this article](""http://www.swingwiki.org/howto:column_spanning"") at SwingWiki that explains the TableUI method of column spanning quite well. Before this, I also tried some alternatives such as overriding the TableCellRenderer paint methods without much success.",[],User Interface Components with Swing,"{""Choice Components"": 0.7}"
154791,159358,Java TreeNode: How to prevent getChildCount from doing expensive operation?,"I'm writing a Java Tree in which tree nodes could have children that take a long time to compute (in this case, it's a file system, where there may be network timeouts that prevent getting a list of files from an attached drive).The problem I'm finding is this:getChildCount() is called before the user specifically requests opening a particular branch of the tree.  I believe this is done so the JTree knows whether to show a + icon next to the node.An accurate count of children from getChildCount() would need to perform the potentially expensive operation If I fake the value of getChildCount(), the tree only allocates space for that many child nodes before asking for an enumeration of the children.  (If I return '1', I'll only see 1 child listed, despite that there are more)The enumeration of the children can be expensive and time-consuming, I'm okay with that.  But I'm not okay with getChildCount() needing to know the exact number of children.Any way I can work around this?Added: The other problem is that if one of the nodes represents a floppy drive (how archaic!), the drive will be polled before the user asks for its files; if there's no disk in the drive, this results in a system error.Update: Unfortunately, implementing the TreeWillExpand listener isn't the solution.  That can allow you to veto an expansion, but the number of nodes shown is still restricted by the value returned by TreeNode.getChildCount().",[],<java><swing><jtree>,159358,"There are a few parts to the solution:Like Lorenzo Boccaccia said, use the [TreeWillExpandListener](""http://java.sun.com/docs/books/tutorial/uiswing/components/tree.html#data"")Also, need to call nodesWereInserted on the tree, so the proper number of nodes will be displayed.  [See this code](""http://www.jroller.com/Thierry/resource/SwingX/LazyLoadingTreeNode.java"")I have determined that if you don't know the child count, TreeNode.getChildCount() needs to return at least 1 (it can't return 0)",[],Collections,"{""Concrete Collections"": 0.7}"
156472,156489,Is there a good drop-in replacement for Java's JEditorPane?,"I'm not happy with the rendering of HTML by Swing's JEditorPane. In particular bullets for unordered lists are hideous. Customising the rendering seems extremely difficult. Therefore I'm looking for a replacement with better HTML rendering.Does this exist? (I asked Google, and found nothing except a promising dead link).",[],<java><swing><jeditorpane>,156489,"Something that I looked at extensively a while back - and there are many options - however I nearly ended up using [http://lobobrowser.org/cobra.jsp](""http://lobobrowser.org/cobra.jsp""), but then the project was cancelled so I can't tell you how it all turned out...",[],User Interface Components with Swing,"{""Choice Components"": 0.7, ""Text Input"": 0.65}"
2345966,,Java JComponent Scrollable resetting position,"I have a a JPanel with a BorderLayout()BorderLayout.CENTER contains a JComponent which implements scrollableAnd the north contains a JLabel, when ever I call setText() on the JLabel, the positioning of the JComponent resets back to the default position, of viewing the top left point? Are there methods to get around this, I have had a look in the api but I cannot see anything.Any help would be much appreciated.",[],<java><swing><jcomponent><scrollable>,2345993,"  BorderLayout.CENTER contains a  JComponent which implements scrollableThat only has meaning when the compnent is added to a JScrollPane. It has no relevance regarding the layout of a component.  when ever I call setText() on the  JLabel, the positioning of the  JComponent resets back to the default  positionI really have no idea what your program is doing. This probably invokes the layout manager which is putting the component in the proper position. So if this changes position it means it wasn't in the proper position before.So basically we don't have enough information to provide an answer.If you need more help post your [SSCCE](""http://sscce.org""). ",[],User Interface Components with Swing,"{""Choice Components"": 0.8, ""Sophisticated Layout Management"": 0.85}"
19778040,19778176,Java HashMaps with only put and get - possibly concurrency issues?,"I've worked with ConcurrentHashMaps, but I'm not quite sure if that will cover all of the bases here.I have a Spring Component. This Component will contain a Map. This will simply be a quick reference for objects in an external service. If the map does not contain a matching String, it will make a call to the external service, retrieve the object, and store it in the mapping. Then other classes can use the mapping for quick retrieval and usage. As such, there are only put() and get() operations performed on the map. Entries are never removed.That being said, I'm a little concerned that ConcurrentHashMap may not provide the atomic control I'd like. Fetching SomeObject from the external service is potentially expensive. I'd rather not have two separate threads calling in at nearly the same time, resulting in multiple calls for the same value to the external service. The idea is this:--CODE--Or this:--CODE--The former is certainly simpler, but the latter would ensure that one two or more threads won't try to simultaneously trigger a fetching of the same SomeObject. Alternatively, I suppose I could try locking out only gets that attempt to retrieve a SomeObject that is already in the process of being fetched and does not block retrieving SomeObjects that already exist, but that would require a wait mechanism on the various string values and I'm not sure how to best implement that.","[""Map<String, SomeObject> map = Collections.concurrentHashMap(    new HashMap<String, SomeObject>());public SomeObject getSomeObject(String key){    if (!map.containsKey(key)){        map.put(key, retrieveSomeObjectFromService(key));    }    return map.get(key);"", ""Map<String, SomeObject> map = new HashMap<String, SomeObject>();public SomeObject getSomeObject(String key){    synchronized(map){        if (!map.containsKey(key)){            map.put(key, retrieveSomeObjectFromService(key));        }    }    return map.get(key);}""]",<java><multithreading><concurrency><hashmap><synchronized>,19778176,"I would suggest you do a little bit of both!Fast path, just 1 get out of the concurrent hashmap.Slow path, full sync and lock--CODE--Do you understand why we need the 2nd get inside of the lock?  Leaving that out leaves a case where we end up making the inside object twice, and having different copies of it floating around.Also doing the assign the result to value and nullcheck vs using the contains method - understand why that is better?  If we do a .contains then a .get, we just did 2 hashmap lookup.  If I just do a get, I can cut my hashmap lookup time in half.Another version Peter suggested.. less lines of code, but not my personal preference:--CODE--","[""private final ConcurrentHashMap<String, Object> map = new ConcurrentHashMap<String, Object>();private final ReentrantLock lock = new ReentrantLock();public Object getSomeObject(String key) {    Object value = map.get(key);    if (value == null) {        try {            lock.lock();            value = map.get(key);            if (value == null) {                value = retrieveSomeObjectFromService(key);                map.put(key, value);            }        } finally {            lock.unlock();        }    }    return value;}"", ""private final ConcurrentHashMap<String, Object> map = new ConcurrentHashMap<String, Object>();public Object getSomeObject(String key) {    Object value = map.get(key);    if (value == null) {        synchronized (map) {            value = map.get(key);            if (value == null) {                value = retrieveSomeObjectFromService(key);                map.put(key, value);            }        }    }    return value;}""]",Concurrency,"{""Thread-Safe Collections"": 0.85, ""Synchronization"": 0.8}"
52070533,52070742,"How to construct a Path ""with zero elements""?","I'm about to write a test of a custom FileVisitor which requires the filename of a path.The documentation of [Path's getFileName](""https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getFileName()"") reads  Returns:      a path representing the name of the file or directory, or null if this path has zero elementsApart from using a mock - which I try to avoid - how do I construct a Path with zero elements?Paths.get("""") - requires a non-null argument, the empty string is one elementnew File("""").toPath() - requires also a non-null argument, the empty string is one element, tooanything like Paths.get(""."") or Paths.get(""./"") also have non-zero elementsFor all of these, the filename is never null.Probably it's a behavior of the WindowsFileSystem implementation in Java.Does anyone know if other implementation of FileSystem behave differently and it's actually possible, that getFileName() returns null?",[],<java><file><nio>,52070742,(At least on OSX) java.nio.file.Paths.get('/') results in such a zero-element sun.nio.fs.UnixPath.,[],Fundamental Programming Structures in Java,"{""Input and Output"": 0.6}"
15448025,,Swing jfilechooser blocking other frames after passing null,I want my jfilechooser to display without blocking parent but i tried everything and still it is blocking parent. Any Solution....--CODE--,"[""public class main_class {    public static void main(String[] args) {        JFrame parent_frame = new JFrame(\""PARENT\"");        if (parent_frame != null) {            parent_frame.setBounds(50, 50, 500, 500);            parent_frame.setVisible(true);            parent_frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);            JFileChooser chooser = new JFileChooser();            chooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);            int returnVal = chooser.showDialog(null, \""Ok\"");        }    }}""]",<java><swing>,15448084,"By default, showDialog will use a modal dialog.JFileChooser is simply based on a JComponent, so, so long as you don't mind that your  code won't block, you could add the JFileChooser to a frame/dialog that you can yourself.  ",[],User Interface Components with Swing,"{""Choice Components"": 0.8}"
26290043,26296967,"Optimizing java heap usage by String using StringBuffer , StringBuilder , String.intern()","I am monitoring the performance and CPU of a large java application , using VisualVM. When I look at its memory profile I see maximum heap (about 50%) is being used up by char arrays.Following is a screenshot of the memory profile:In the memory profile at any given time i see roughly about 9000 char[] objects. The application accepts a large file as input. The file roughly has about 80 lines each line consisting of 15-20 delimited config options. The application parses the file and stores these lines in a ArrayList of Strings. It then parses these string to get the individual config options for each server. The application also frequently logs each event to the console.Java implementation of Strings uses char[] internally along with a reference to array and 3 integer.From different posts on the internet it seems like StringBuffer , StringBuilder , String.intern() are more memory efficient data types. How do they compare to java.lang.String ? Has anybody benchmarked them ? If the application uses multithreading (which it does)are they a safe alternative ? ",[],<java><string><optimization><heap-memory><visualvm>,26296967,"What I do is is have one or more String pools.  I do this to a) not create new Strings if I have one in the pool and b) reduce the retained memory size, sometimes by a factor of 3-5. You can write a simple string interner yourself but I suggest you consider how the data is read in first to determine the optimal solution.  This matters as you can easily make matters worse if you don't have an efficient solution.As EJP points out processing a line at a time is more efficient, as is parsing each line as you read it. i.e. an int or double takes up far less space than the same String (unless you have a very high rate of duplication)Here is an example of a StringInterner which takes a StringBuilder to avoid creating objects needlessly.  You first populate a recycled StringBuilder with the text and if a String matching that text is in the interner, that String is returned (or a toString() of the StringBuilder is.) The benefit is that you only create objects (and no more than needed) when you see a new String (or at least one not in the array) This can get a 80% to 99% hit rate and reduce memory consumption (and garbage) dramatically when loading many strings of data.--CODE--This class is interesting in that it is not thread safe in the tradition sense, but will work correctly when used concurrently, in fact might work more efficiently when multiple threads have different views of the contents of the array.","[""public class StringInterner {    @NotNull    private final String[] interner;    private final int mask;    public StringInterner(int capacity) {        int n = nextPower2(capacity, 128);        interner = new String[n];        mask = n - 1;    }    @Override    @NotNull    public String intern(@NotNull CharSequence cs) {        long hash = 0;        for (int i = 0; i < cs.length(); i++)            hash = 57 * hash + cs.charAt(i);        int h = hash(hash) &amp; mask;        String s = interner[h];        if (isEqual(s, cs))            return s;        String s2 = cs.toString();        return interner[h] = s2;    }    static boolean isEqual(@Nullable CharSequence s, @NotNull CharSequence cs) {        if (s == null) return false;        if (s.length() != cs.length()) return false;        for (int i = 0; i < cs.length(); i++)            if (s.charAt(i) != cs.charAt(i))                return false;        return true;    }    static int nextPower2(int n, int min) {        if (n < min) return min;        if ((n &amp; (n - 1)) == 0) return n;        int i = min;        while (i < n) {            i *= 2;            if (i <= 0) return 1 << 30;        }        return i;    }    static int hash(long n) {        n ^= (n >> 43) ^ (n >> 21);        n ^= (n >> 15) ^ (n >> 7);        return (int) n;    }}""]",Fundamental Programming Structures in Java,"{""Strings"": 0.8}"
51297382,,arraylist of character arrays java,I originally have an arraylist of strings but I want to save it as an arraylist of those strings.toCharArray() instead. Is it possible to make an arraylist that stores char arrays? Here is how I tried to implement it.--CODE--,"[""String[] words = new String[]{\""peter\"",\""month\"",\""tweet\"", \""pete\"", \""twee\"", \""pet\"", \""et\""};    HashMap<Integer,ArrayList<Character[]>> ordered = new HashMap<>();    int length = 0;    int max = 0; //max Length of words left    for(String word: words){        if(ordered.containsKey(length) == false){ //if int length key doesnt exist yet             ordered.put(length, new ArrayList<Character[]>()); //put key in hashmap with value of arraylist with the one value             ordered.get(length).add(word.toCharArray());        }    }""]",<java><arrays><string><arraylist><char>,51297427,"Note that toCharArray() returns an array of primitives (char[]), and not an array of the boxing class (Character[] as you currently have). Additionally, you're only adding the given array to the map if the length of the array isn't in the map, which probably isn't the behavior you wanted (i.e., you should move the line ordered.get(length).add(word.toCharArray()); outside the if statement).Also, note that Java 8's streams can do a lot of the heavy lifting for you:--CODE--EDIT:As per the question in the comment, this is also entirely possible in Java 7 without streams:--CODE--","[""String[] words = new String[]{\""peter\"",\""month\"",\""tweet\"", \""pete\"", \""twee\"", \""pet\"", \""et\""};Map<Integer, List<char[]>> ordered =    Arrays.stream(word)          .map(String::toCharArray)          .collect(Collectors.groupingBy(x -> x.length));"", ""String[] words = new String[]{\""peter\"",\""month\"",\""tweet\"", \""pete\"", \""twee\"", \""pet\"", \""et\""};Map<Integer, List<char[]>> ordered = new HashMap<>();for (String word: words) {    int length = words.length();    // if int length key doesnt exist in the map already    List<char[]> list = orderd.get(length);    if (list == null) {        list = new ArrayList<>();        orderd.put(length, list);    }    list.add(word);}""]",Collections,"{""Concrete Collections"": 0.8, ""Maps"": 0.8}"
40956750,,JList never get updated,"After the user buy something from the machine, the machine should update the quantity. How do I update the quantity?The loop works fine and in debug mode, it shows i and newQty value. This code in GUI class. --CODE--In actionPerformed() I have this code. --CODE--Here some pics. So, you can see what's going on with (quantity)A1: Coke - 1.25(1) should be A1: Coke - 1.25 (0)[](""https://i.stack.imgur.com/Rl1Es.png"")After buying it.[](""https://i.stack.imgur.com/h5v2n.png"")[](""https://i.stack.imgur.com/MCch8.png"")","[""char letter = 'A';        for (int i = 0; i < stock.length;) {            for (int j = 1; j < 7 &amp;&amp; i < stock.length; j++) {                stock[i].setId(letter + \""\"" + j);                i++;            }            letter++;        }    for (int i = 0; i < stock.length; ++i) {   listModel.addElement(stock[i].getId() + \"": \"" + stock[i].getDescription()   + \"" - \"" + stock[i].getPrice() + \""(\"" + stock[i].getQuantity() + \"")\"");        }        listOfItem.setModel(listModel);"", ""if (e.getActionCommand().equals(\""Vend!\"")) {        for (int i = 0; i < stock.length; ++i) {            if (userSelection.equals(stock[i].getId())) {                if (userBalance < stock[i].getPrice()) {         JOptionPane.showMessageDialog(null, \""You do not have enough money. \""        + \""Please add more money or select a different item.\"");            }                else if (stock[i].getQuantity() == 0) {    JOptionPane.showMessageDialog(null, \""Sorry, we are out of this item.\"");                }        else {            int newQty = stock[i].getQuantity() - 1;            stock[i].setQuantity(newQty);            userBalance -= stock[i].getPrice();            MoneyRemainingText.setText(String.valueOf(userBalance));            JOptionPane.showMessageDialog(null, \""You bought \"" + stock[i].getDescription() + \"" for $\""                    + stock[i].getPrice() + \"". Your change is $\"" + userBalance);            vendingMachine.setVisible(false);            selectTextField.setText(\""\"");            --userBalance;            setSelection();        }    }        }    }""]",<java><swing>,40957182,"Using a list here is a mistake.List is smething that u append a price and it is added on the stack.However If you want to save the day try --CODE--The only obligation you have here is to get the index(line number you want to edit).PS:I would need more code , to debbug.","[""model.setElementAt(\""Your new text\"", index);""]",User Interface Components with Swing,"{""Choice Components"": 0.8}"
21570278,,How do I show only the first letters of a string?,I'm prompting the user to enter their first and last name but I can't figure out how to show just their first and last initials--CODE--,"[""import javax.swing.*;//import java.awt.*;public class Lab2Program2 {    public static void main (String [] args) {    String firstName;    String lastName;    firstName = JOptionPane.showInputDialog(null, \""What is your first name?\"");    lastName = JOptionPane.showInputDialog(null, \""What is your last name?\"");    JOptionPane.showMessageDialog(null, \"" Your initials are \"" +                             firstName + \"" \"" + lastName);    }}""]",<java><string><substring><joptionpane>,21570347,"If you want to show a message box like you were doing before, this should work:--CODE--","[""JOptionPane.showMessageDialog(null,     \""Your initials are \"" + firstName.substring(0, 1) + \"" \"" + lastName.substring(0, 1));""]",Fundamental Programming Structures in Java,"{""Strings"": 1.0}"
11681711,11682571,Set column indexes after moving a column in JTable,"I'm using a JTable, and I need to allow moving of its columns. But there comes the problem. Once they have rearranged, it's like just they have changed there content and title only. But I also need their indexes to be changed as well.To make this more clear, I'll give an example. Let's say my first column is called ""names"". When calling the 'setName()' method, a name must always go to that column, no matter where the column is. But not to the first column..Hope you got my point!I've finished writing required methods. Hope there is a way to achieve this without touching the finished methods. Any help is much appreciated!!!",[],<java><swing><jtable>,11682571,"  To make this more clear, I'll give an example. Let's say my first column is called ""names"". When calling the 'setName()' method, a name must always go to that column, no matter where the column is. But not to the first column..Hope you got my point!If you want to change the data, simply alter the underlying TableModel directly. The order of the columns never changes in the TableModel, it is only in the view (the JTable) that those columns are re-ordered.If you do want to go through the table, you will have to convert from 'view-coordinates' to 'model-coordinates' by using the available JTable#convertColumnIndexToModel (view -> model) and the JTable#convertColumnIndexToView (model->view) methods as @MadProgrammer mentioned.You should certainly not update the setValueAt method of the TableModel as you mentioned in one of your comments. As said before, the TableModel does not change the order of the columns, so the setValueAt should always be called with 'model coordinates', hence there is no need to transform those",[],User Interface Components with Swing,"{""Choice Components"": 0.8}"
8177602,,Threading java - two simultaneous work pools,"I have a situation as follows:A SimpleAsyncTaskExecutor is working on a work list where it does some work (usually with concurrent parameter set to 2 or 3). Now everytime a thread dispatched from SimpleAsyncTaskExecutor FINISHES, I want it to add an item (not actually produced/evaluated by the task) to a work pool. This work pool is then worked on by a second SimpleAsyncTaskExecutor and is worked on. A producer/consumer problem.Easiest approach?",[],<java><multithreading><producer-consumer>,8178412,Have you looked at BlockingQueue.  Sounds like you need a queue between the two.,[],Concurrency,"{""Synchronization"": 0.8}"
17249304,,Set JMenu Direction RTL,I have a jMenuBar1 and there are two jMenu items (say jMenu1 and jMenu2) added to the jMenuBar1.I managed to align the jMenuBar1 object with this line of code :--CODE--Now I am trying to align the text in jMenu Items to right and making the text RTL(Right to Left) but nothing seems to work.I have already tried --CODE--and no luck.any solution will be highly appreciated. ,"[""jMenuBar1.add(Box.createHorizontalGlue());    "", ""Menu1.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);jMenu1.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);""]",<java><swing><right-to-left><jmenu>,17250860,You might need to give us more information maybe some screen shots of what you have and what you are trying to achieve as menu.setComponentOrientation() seems to work fine for me...I get thisrunning this--CODE--,"[""import javax.swing.*;import java.awt.*;public class MenuTest extends JFrame{    public static void display()    {        JFrame frame = new JFrame();        frame.setSize(400,400);        frame.setLayout(new GridLayout(6,1));        JMenuBar menuBar = new JMenuBar();        menuBar.applyComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);        JMenu jMenu1 = new JMenu(\""Menu1\"");        jMenu1.setMinimumSize(new Dimension(200, 20));        jMenu1.setMaximumSize(new Dimension(200, 20));        jMenu1.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);        JMenu jMenu2 = new JMenu(\""Menu2\"");        jMenu2.setMinimumSize(new Dimension(200, 20));        jMenu2.setMaximumSize(new Dimension(200, 20));        JMenuItem menuItem1 = new JMenuItem(\""Item1\"");        JMenuItem menuItem2 = new JMenuItem(\""Item2\"");        menuItem1.setMinimumSize(new Dimension(200, 20));        menuItem1.setMaximumSize(new Dimension(200, 20));        menuItem1.setPreferredSize(new Dimension(200, 20));        menuItem1.setSize(new Dimension(200, 20));        menuItem2.setMinimumSize(new Dimension(200, 20));        menuItem2.setMaximumSize(new Dimension(200, 20));        menuItem1.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);        menuItem2.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);        jMenu1.setHorizontalAlignment(JMenu.TRAILING);        jMenu1.add(menuItem1);        jMenu1.add(menuItem2);        menuBar.add(jMenu1);        menuBar.add(jMenu2);        menuBar.setSize(frame.getWidth(), 20);        frame.add(menuBar);        frame.setVisible(true);    }    public static void main(String[] args)    {        EventQueue.invokeLater(                new Runnable() {                    @Override                    public void run() {                        MenuTest.display();                    }                }         );    }}""]",User Interface Components with Swing,"{""Menus"": 0.9}"
3420311,3420431,Java Swing button colors,I am using NET Beans IDE for developing my application in LINUX. I have used synthetica package to generate new look and feel. All is well till now.Now my next stage is to add colors to buttons when some database status changes.For example:In a restaurant i have 2 tables and when 8 people came in to dine and i will create 2 table in my software  since the people are unattended i want the buttons to those 2 tables to be green. When the order is processed for any of those tables the button color of the processed table should be changed to orange. When it is under processing it should be flashing color. How to do this in java ? I will take care of database update i just want to know how to change the colors of the buttons and adding flashing technique.,[],<java><swing><netbeans>,3420431,"Here is a [ related to flashing a component.Addendum: You can learn more in the article How to Use Buttons](""https://stackoverflow.com/questions/2123841"">). In particular, you can use setForeground() to change the color of a button's text, but the corresponding setBackground() doesn't read well on some platforms. Using a [Border](""http://download.oracle.com/javase/tutorial/uiswing/components/border.html"") is one alternative; a colored panel, shown below, is another.--CODE--","[""package overflow;import java.awt.Color;import java.awt.EventQueue;import java.awt.GridLayout;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import java.util.ArrayList;import java.util.List;import java.util.Random;import javax.swing.JButton;import javax.swing.JFrame;import javax.swing.JPanel;import javax.swing.Timer;public class ButtonTest extends JPanel implements ActionListener {    private static final int N = 4;    private static final Random rnd = new Random();    private final Timer timer = new Timer(1000, this);    private final List<ButtonPanel> panels = new ArrayList<ButtonPanel>();    public ButtonTest() {        this.setLayout(new GridLayout(N, N, N, N));        for (int i = 0; i < N * N; i++) {            ButtonPanel bp = new ButtonPanel(i);            panels.add(bp);            this.add(bp);        }    }    @Override    public void actionPerformed(ActionEvent e) {        for (JPanel p : panels) {            p.setBackground(new Color(rnd.nextInt()));        }    }    private static class ButtonPanel extends JPanel {        public ButtonPanel(int i) {            this.setBackground(new Color(rnd.nextInt()));            this.add(new JButton(\""Button \"" + String.valueOf(i)));        }    }    public static void main(String[] args) {        EventQueue.invokeLater(new Runnable() {            @Override            public void run() {                JFrame f = new JFrame(\""ButtonTest\"");                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);                ButtonTest bt = new ButtonTest();                f.add(bt);                f.pack();                f.setLocationRelativeTo(null);                f.setVisible(true);                bt.timer.start();            }        });    }}""]",User Interface Components with Swing,"{""Choice Components"": 0.85}"
17745738,17745838,"Reading and writing files ""simultaneously"" in different processes","I've got two Java processes, Processor and Simulator. The Simulator writes to File X a prescribed data record (10 lines of text) every 5s. The Processor reads this file continually, waiting for tokens to indicate a valid record. The code is this (with some substitutions for filenames):In Simulator, every 5s:--CODE--In Processor, constantly:--CODE--Previously, the Processor was hooked to an InputStream and there was no problem using the Scanner (configured appropriately) to read data as it arrived.Here, I can see that the data is being written correctly when it is generated by refreshing the file in Notepad. But when using a file rather than an InputStream, the if ( parseDataBundle()) { line is never reached.What am I doing wrong? The Processor seems to have hold of the file resource, since I can't delete it whilst it's running. My gut thinks it's probably something to do with a misuse of concurrency.","[""FileWriter fileWriter = new FileWriter(DATA_FILE, true);BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);bufferedWriter.write(DATA);bufferedWriter.close();"", ""mScanner = new Scanner(new BufferedReader(        new FileReader(DATA_FILE)));mScanner.useLocale(Locale.UK);while (true) {                  while (mScanner.hasNextLine()) {    // Parse the data bundle.    if (parseDataBundle()) {            ...        }    }}""]",<java><file><io><ipc>,17745838,"I would say it's a misuse of files.  Files are not a designed for messaging.  Once you have reached the end of the file, that is it.  The only way to avoid this is to make sure you only read when you know there is more data (by checking the length)  This is more complicated when using text.You can use files with text but it is tricky. You have to have one thread polling the file size and when it changes, read just the bytes added (and no more). This can be written to a pipe. Your reading thread can read from the pipe using InputStreamReader and BufferedReader.To vary the polling interval you can use an escalating sleep interval like--CODE--The benefit of this approach is the that time it sleeps for adjusts to the rate it gets messages.","[""long lastSize = int maxSleep = 5000, sleep = 200;while(!Thread.currentThread().isInterrupted()) {     long size = file.length();     if (size > lastSize) {        copyData(size - lastSize);        lastSize = size;        sleep = 200;     } else {        Thread.sleep(sleep);        sleep += 200;        if (sleep > maxSleep)            sleep = maxSleep;}""]",Fundamental Programming Structures in Java,"{""Input and Output"": 0.8}"
30153362,30153426,What does it mean to have a synchronized block on a different monitor than 'this' instance?,"I have the following piece of code. It has two objects, namely MultiThreadingTest, and the ThreadB object. When we say synchronized(b), what does it mean exactly? Can the 'main' thread get a lock on b before ThreadB finishes it's execution? I can't understand the significance of monitor object in the synchronized block.--CODE--","["" package threads;    class MultiThreadingTest    {        public static void main(String[] args)        {            ThreadB b = new ThreadB();            b.setName(\""Thread B\"");            b.start();            synchronized(b)                 {                System.out.println(\""Current thread : \""+ Thread.currentThread().getName());                          try                {                    System.out.println(\""Waiting for b to complete...\"");                    b.wait();                }                catch (InterruptedException e)                {                    e.printStackTrace();                }                   System.out.println(\""Total = \""+b.total );            }        }    }    class ThreadB extends Thread    {        int total;        public void run()        {            synchronized(this)            {                System.out.println(\""Current thread : \""+Thread.currentThread().getName());                for(int i=0;i<100;i++)                {                    total = total + i;                }                notify();            }        }    }""]",<java><multithreading>,30153426,"synchronized(this) means that you won't be able to enter this block of code if another thread is inside a block of code that is also synchronized on the object referenced by this.synchronized(b) means that you won't be able to enter this block of code if another thread is inside a block of code that is also synchronized on the object referenced by b.They thus do the exact same thing. The only difference is the object that is used to lock.Note that waiting, synchronizing and notifying on an object of type Thread is a really really bad idea. It confuses things, and will lead to unwanted behavior because other methods (join() for example) also use the Thread as a monitor.",[],Concurrency,"{""Synchronization"": 0.9}"
46783376,46783494,Peculiar behavior of split() of string class,"To my understanding following program should print 0,0 as an output.However, when I run this program I am getting 1,0 as an output.--CODE--Please help me understand what is going on here ?","[""public class Test1 {    public static void main(String[] args) {        System.out.println(\""\"".split(\"";\"").length); //1        System.out.println(\"";\"".split(\"";\"").length);//0    }}""]",<java><string>,46783494,relavant code--CODE--,"[""        // If no match was found, return this        if (off == 0)            return new String[]{this};        // Add remaining segment        if (!limited || list.size() < limit)            list.add(substring(off, value.length));""]",Fundamental Programming Structures in Java,"{""Strings"": 1.0}"
13454589,,How to improve GUI by changing BoxLayout into a different LayoutManager?,"I've a big problem with Swing in Java, I used BoxLayout for this but still it looks bad.Any suggestions about my usage of layouts, or how to change it to look like in assumptions? ([here are assumptions](""http://imgur.com/a/NKA48#0""))--CODE--EDIT: I almost solve this problem, I need to move all elements to left ([how it look like](""http://i.imgur.com/9kdZs.png""))but I have no idea how ;/ Here is constructor of this class.--CODE--","[""Container main = new Container();    Container left = new Container();// here goin buttons    Container right = new Container(); // here goin tabs +  more buttons, textfields and other stuff    BoxLayout lewyL = new BoxLayout(left, BoxLayout.Y_AXIS);    left.setLayout(lewyL);    left.add(rastrowa); //radiobutton    left.add(wektorowa);//radiobutton    left.add(apDwuliniowa);//checkbox    left.add(wczytaj);//button    left.add(zapisz);//obutton    left.add(wyczysc);//button    BoxLayout prawyL = new BoxLayout(right, BoxLayout.Y_AXIS);    right.setLayout(prawyL);    right.add(zakladki);// tabs (mostly i use BoxLayout but for last one i need something more \""complicated\"")"", ""            JLabel label = new JLabel(\""O wektor\"");    JLabel labelA = new JLabel(\""a:\"");    JLabel labelB = new JLabel(\""b:\"");    JButton wykonaj = new JButton(\""Wykonaj\"");    JTextField a = new JTextField(5);    JTextField b = new JTextField(5);    add(label);    add(labelA);    add(a);    add(labelB);    add(b);    add(wykonaj);   ""]",<java><swing><awt><layout-manager><boxlayout>,13454738,"There's nothing wrong with the way it looks (in my opinion), but if you want it to look a little better, why don't you convert the left panel (which is 6x1) into a 3x2 panel, with the checkboxes/radiobuttons on the left, and buttons on the right? Sounds like a job for GridLayout - one of my favorite classes...--CODE--Note that the 3,2 defines the number of rows,columns. When adding panels, they are added to the grid from left-to-right, and top-to-bottom. GridLayout also auto-sizes the components, so all the buttons etc will be the same width and height, making it look more consistent.The [GridLayout documentation](""http://docs.oracle.com/javase/1.4.2/docs/api/java/awt/GridLayout.html"") might be useful, and the [Visual Guide to Layout Managers](""http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html"") is a great place to see other layout managers that might work better for your different situations. I personally find BorderLayout and GridLayout to be the most useful, and cover about 95% of the situations I ever need for my GUIs.","[""JPanel leftPanel = new JPanel(new GridLayout(3,2));leftPanel.add(rastrowa);     //radiobuttonleftPanel.add(wczytaj);      //buttonleftPanel.add(wektorowa);    //radiobuttonleftPanel.add(zapisz);       //obuttonleftPanel.add(apDwuliniowa); //checkboxleftPanel.add(wyczysc);      //button""]",User Interface Components with Swing,"{""Sophisticated Layout Management"": 0.95, ""Introduction to Layout Management"": 0.85}"
32417425,32417505,MouseListener on JFrame only listens borders,"I am trying to create a JFrame that will register MouseEvents for my game. However, when the following code is run, the console only prints ""in"" and ""out"" when you drag the frame border and then move your cursor. Very confusing. I tried adding the component glassPane and then adding the MouseListener there but it still is unsuccessful. --CODE--","[""import java.awt.Dimension;import java.awt.event.MouseEvent;import java.awt.event.MouseListener;import javax.swing.JFrame;public class Window extends JFrame implements MouseListener {    private static final long serialVersionUID = -240840600533728354L;    public Window(int width, int height, String title, Game game) {        JFrame frame = new JFrame(title);        frame.setPreferredSize(new Dimension(width, height));        frame.setSize(new Dimension(width, height));        frame.setMaximumSize(new Dimension(width, height));        frame.setMinimumSize(new Dimension(width, height));        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        frame.setResizable(false);        frame.setLocationRelativeTo(null);        frame.add(game);        frame.setVisible(true);        frame.addMouseListener(this);        game.start();    }    @Override    public void mouseExited(MouseEvent e) {        System.out.println(\""out\"");    }    @Override    public void mouseClicked(MouseEvent e) {}    @Override    public void mousePressed(MouseEvent e) {}    @Override    public void mouseReleased(MouseEvent e) {}    @Override    public void mouseEntered(MouseEvent e) {}}""]",<java><swing><jframe><mouselistener>,32417505,"I think that the last thing that you want to do is to add the MouseListener to the JFrame, since the JFrame shouldn't have this responsibility. It's responsibility should be to hold and display the components that are added to it, and it is likely one of those components, probably the one that displays the game's active view, very likely a JPanel, which should get this MouseListener.Some side notes:I try to avoid extending JFrame and recommend that you do the same, unless you plan on overriding its behaviors (methods). Instead, create the JFrame when you need it.Your Window class in fact extends JFrame, but does not even create a displayable this object, so yet another (and stronger) reason not to have this class extend JFrame.I recommend having the Game object specify its own size by overriding its getPreferredSize() method, and then letting the JFrame achieve this by calling pack() on the JFrame after adding all components to it.Note that core Java already has a Window class, and you may wish to avoid having your class share names with core Java classes, just in case you wish to use one of those core classes later, and wish to avoid running into name clashes.",[],Graphical User Interface Programming,"{""Event Handling"": 0.9}"
44728150,44826204,Java making a copy of a list thread safe?,"I have multiple threads running in a Java application, and all of them need to access the same list. Only one thread, however, actually needs to insert/delete/change the list, and the others just need to access it.In the other threads, I want to make a copy of the list for me to use whenever I need to read it, but is there any way to do this in a thread safe way? If I had a method to copy the list element by element and the list changed, that would mess it up wouldn't it?EDIT:The list will not be deleted from very often, so would it work if I just copied it normally and caught exceptions? If the list grew in the middle of the copy and I missed it, it wouldn't really make a difference to functionality",[],<java><multithreading><list><concurrency>,44826204,"I decided to solve this by having a separate thread that handles the thread, with BlockingQueue for the other threads to submit to if they want to write to the list, or get from the list. If they wanted to write to the list it would submit an object with the content that they wanted to write, and if they wanted to read, it would submit a Future that the thread with the list would populate",[],Concurrency,"{""Synchronization"": 0.9}"
38026326,,precise behaviour of interrupt() method with respective to thread states in java,"I have read the post below What does java.lang.Thread.interrupt() do? but i have not been able to get it completely rightI quote from @Mike_q answer to above question as below  Thread.interrupt() sets the interrupted status/flag of the target thread. Then code running in that target thread MAY poll the interrupted status and handle it appropriately. Some methods that block such as Object.wait() may consume the interrupted status immediately and throw an appropriate exception (usually InterruptedException)It says while object is in WAITING it can consume interrupted status, so what happens when it is BLOCKED state waiting for object's lock ... ?i have experimented below with that scenario and code is at X: t2 is blocked--CODE--and output has below--CODE--it seems that InterruptedException has been called ,when sleep method is called later... why is that ...?again what is polling i didn't quite understand from what is said here  Polling occurs via the Thread.interrupted() method which returns the current thread's interrupted status AND clears that interrupt flag. Usually the thread might then do something such as throw InterruptedException.again whenever i called Thread2.interrupted() method in above code it returned false  (when i called just after t2.interrupt  and in catch block) ","[""    public class interruptsyc{    static Object resource = new Object();    public static void main(String []args)    {        System.out.println(\""started main\"");        Thread1 t1=new Thread1(\""thread 1\"");        t1.start();        delay(1000);        Thread2 t2 =new Thread2(\""thread 2\"");        t2.start();        delay(1000);        t2.interrupt(); // X: at this point t2 is in blocked state waiting for resource's lock        System.out.println(t2.getName()+t2.interrupted());        delay(1000);        System.out.println(\""end main\"");    }    static void delay(long n)    {        try        {        Thread.sleep(n);        }        catch(InterruptedException ex)        {            System.out.println(Thread.currentThread().getName()+Thread.interrupted());            ex.printStackTrace();        }    }    static class Thread1 extends Thread{        Thread1(String name)        {            setName(name);        }        public void run()        {            synchronized(resource)            {                System.out.println(\""start 1\"");                delay(6000);                System.out.println(\""end 1\"");            }        }    }    static class Thread2 extends Thread{        Thread2(String name )        {        setName(name);          }        public void run()        {            synchronized(resource)            {                System.out.println(\""start 2\"");                delay(2000);                System.out.println(\""end 2\"");            }        }    }}"", ""started mainstart 1falseend mainend 1start 2thread 2falsejava.lang.InterruptedException: sleep interrupted        at java.lang.Thread.sleep(Native Method)        at interruptsyc.delay(interruptsyc.java:25)        at interruptsyc$Thread2.run(interruptsyc.java:59)end 2""]",<java><multithreading><interrupt><thread-sleep><interrupted-exception>,38026604,"  it seems that InterruptedException has been called ,when sleep method is called later... why is that ...?Because blocking/sleeping methods don't block immediately. They first check if the thread has been interrupted, and if it has been, they throw an InterruptedException immediately, in order for the thread to stop ASAP.  whenever i called Thread2.interrupted() method in above code it returned falseBecause when blocking/sleeping methods throw an InterruptedException, they also clear the interrupt flag.This is in the javadoc of [Thread.sleep()](""https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep-long-""):  Throws InterruptedException - if any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.",[],Concurrency,"{""Thread Properties"": 0.9}"
40325618,40325670,The password validation sends out the wrong output?,"The program that I've written is giving me the wrong output. It verifies whether the input password is 6 characters long with letters and numbers, if one of the requirement is not met, then it should say ""Invalid Password."" Otherwise, then it should output ""Password Accepted."" But when I enter more than 6 character long password, though the password is all letters, it still say password accepted.--CODE--","[""import java.util.*;public class passwd {    public static void main(String[] args)    {        String in_pass;        int i = 0, x = 0, l = 0, d = 0;        boolean valid_len;        Scanner in = new Scanner(System.in);        System.out.print(\""Enter Password: \"");        in_pass = in.next();        int len = in_pass.length();        valid_len = (len >= 6) ? true : false;        char passwd_l;        char passwd_d;        if (valid_len == false)        {            System.out.println(\""Invalid Password\"");        }        else if (valid_len == true)        {            for (i = 0, x = 0; i < len; i++, x++)            {                passwd_l = in_pass.charAt(i);                if (Character.isLetter(passwd_l))                {                    l += i;                }                passwd_d = in_pass.charAt(x);                if (Character.isDigit(passwd_d))                {                    d += x;                }            }        }         if (i > 0 &amp;&amp; x > 0)        {            System.out.println(\""Password Accepted\"");        }     }  }""]",<java><string><for-loop><char><passwords>,40325670,Check out this one!    --CODE--,"[""else if (valid_len == true){       for (i = 0; i < len; i++){              passwd_l = in_pass.charAt(i);              if (Character.isLetter(passwd_l))              {                    l ++;              }              if (Character.isDigit(passwd_l))              {                    d ++;              }       }} if (l > 0 &amp;&amp; d > 0){       System.out.println(\""Password Accepted\"");} ""]",Fundamental Programming Structures in Java,"{""Strings"": 0.9}"
25786269,25786522,Change to Look and Feel of customized JFileChooser raises an exception,"When i open the dialog box through CustomizedJFileChooser. JfileChooser look and Feel not good. so, for look and feel i am adding the code --CODE--it raise the exception.Here is my code,--CODE--Here stack trace of excetpion:--CODE--Thank you.","[""UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());"", ""    public class FileChooser extends JFrame {    private JPanel contentPane;    MyFileChooser jc;    public static void main(String[] args) {        EventQueue.invokeLater(new Runnable() {            public void run() {                try {                    UIManager.setLookAndFeel(                            UIManager.getSystemLookAndFeelClassName());                    FileChooser frame = new FileChooser();                    frame.setVisible(true);                } catch (Exception e) {                    e.printStackTrace();                }            }        });    }        public FileChooser() {        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        contentPane = new JPanel();        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));        contentPane.setLayout(new BorderLayout(0, 0));        setContentPane(contentPane);        jc = new MyFileChooser();        JButton btnOpen = new JButton(\""open\"");        contentPane.add(btnOpen, BorderLayout.NORTH);        btnOpen.addActionListener(new ActionListener() {            public void actionPerformed(ActionEvent e) {                int returnVal = jc.showOpenDialog(FileChooser.this);            }        });          pack();         }         }         class MyFileChooser extends JFileChooser{         public MyFileChooser() {         JComboBox comboBox = new JComboBox();          comboBox.setModel(new DefaultComboBoxModel(new String[] { \""text\"", \""binary\"" }));          JPanel panel1 = (JPanel)this.getComponent(3);        JPanel panel2 = (JPanel) panel1.getComponent(3);           Component c1=panel2.getComponent(0);        Component c2=panel2.getComponent(1);        panel2.removeAll();        panel2.add(new JLabel(\""Document Name: \""));        panel2.add(comboBox);        panel2.add(c1);        panel2.add(c2);   }}"", ""java.lang.ArrayIndexOutOfBoundsException: No such child: 3at java.awt.Container.getComponent(Container.java:327)at MyFileChooser.<init>(FileChooser.java:62)at FileChooser.<init>(FileChooser.java:41)at FileChooser$1.run(FileChooser.java:27)at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:251)at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:727)at java.awt.EventQueue.access$200(EventQueue.java:103)at java.awt.EventQueue$3.run(EventQueue.java:688)at java.awt.EventQueue$3.run(EventQueue.java:686)at java.security.AccessController.doPrivileged(Native Method)at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)at java.awt.EventQueue.dispatchEvent(EventQueue.java:697)at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)""]",<java><swing><indexoutofboundsexception><look-and-feel><jfilechooser>,25786522,"The Component List has a zero-based index. Modify these two lines like below and it works. MyFileChooser has panel1 at index 2 and panel1 has the other panel also at index 2.--CODE--You forgot to add the third component to panel2. The combobox is teared but you can fix its height afterwards.My mistake, I forgot to add the panel containing the buttons. I have also added the combobox to its own panel and now it doesn't get teared anymore. Should work fine now.--CODE--}","[""JPanel panel1 = (JPanel) this.getComponent(2);JPanel panel2 = (JPanel) panel1.getComponent(2);"", ""class MyFileChooser extends JFileChooser {public MyFileChooser() {    JComboBox comboBox = new JComboBox();    comboBox.setModel(new DefaultComboBoxModel(new String[]{\""text\"", \""binary\""}));    JPanel panel1 = (JPanel) this.getComponent(2);      JPanel panel2 = (JPanel) panel1.getComponent(2);      Component c1=panel2.getComponent(0);      Component c2=panel2.getComponent(1);      Component c3=panel2.getComponent(2);      Component c4=panel2.getComponent(3);      Component c5=panel2.getComponent(4);      JPanel comboboxPanel = new JPanel();      comboboxPanel.setLayout(new FlowLayout());      comboboxPanel.add(new JLabel(\""Document Name: \""));      comboboxPanel.add(comboBox);      panel2.removeAll();      panel2.add(comboboxPanel);      panel2.add(Box.createRigidArea(new Dimension(5,5)));      panel2.add(c1);      panel2.add(c2);      panel2.add(c3);      panel2.add(c4);      panel2.add(c5);}""]",User Interface Components with Swing,"{""Dialog Boxes"": 0.8, ""Choice Components"": 0.85}"
6647944,,confusion about the results of java String,--CODE--I want to know why both the println methods are giving different results.Please explain in details.,"[""class Test{       public static void main(String s[]){              String s1=\""welcome\"",s2=\""come\"";                      System.out.println(s1==(\""wel\""+\""come\""));    //prints : true              System.out.println(s1==(\""wel\""+s2));        //prints : false      }}""]",<java><string><jdk1.6>,6648012,"== always compares the references themselves.In the first comparison, the constant string expression ""wel"" + ""come"" is evaluated at compile-time, and so you end up with the same interned reference as for the literal used to initialize s1.In the second case, the concatenation is performed at execution time, creating a new string.To compare two strings for equality of contents (rather than checking whether two references refer to the same object) use equals:--CODE--","[""System.out.println(s1.equals(\""wel\"" + \""come\""));System.out.println(s1.equals(\""wel\"" + s2));""]",Fundamental Programming Structures in Java,"{""Strings"": 1.0}"
26485866,,BufferedReader won't read after first line,"I have 4 text files a.txt,b.txt,c.txt and c.txt I have a codition to fetch line from a.txt and if the condition follows then I have another  condition to fetch further from either b,c or d (which ever follows the condition)--CODE--The Outer loop is for a.txt and inner 3 loops for b,c and d. The code only prints when first condition is satisfied in a.txt. IT'S NOT CHECKING for furthur lines in a.txt. I have tried it with Scanner method, but same problem is there.","[""import java.io.*; public class Scholarship { public static void main(String[] args) {    try{        FileInputStream fstream1 = new  FileInputStream(\""a.txt\"");         FileInputStream fstream2 = new  FileInputStream(\""b.txt\"");         FileInputStream fstream3 = new  FileInputStream(\""c.txt\"");         FileInputStream fstream4 = new  FileInputStream(\""d.txt\"");                    DataInputStream in1 = new DataInputStream(fstream1);             DataInputStream in2 = new DataInputStream(fstream2);             DataInputStream in3 = new DataInputStream(fstream3);             DataInputStream in4 = new DataInputStream(fstream4);              BufferedReader br1 = new BufferedReader(new InputStreamReader(in1));              BufferedReader br2 = new BufferedReader(new InputStreamReader(in2));              BufferedReader br3 = new BufferedReader(new InputStreamReader(in3));              BufferedReader br4 = new BufferedReader(new InputStreamReader(in4));        String strLine1=null;        String strLine2=null;        String strLine3=null;        String strLine4=null;        while((strLine1 = br1.readLine()) != null){           String[] column1 = strLine1.split(\""\\\\|\"");           if(Integer.parseInt(column1[1])<5000) {                   while((strLine2 = br2.readLine())!=null){                   String[] column2 = strLine2.split(\""\\\\|\"");                   if(  (column1[0].equals(column2[0]))&amp;&amp;(column2[2].equals(\""mumbai\""))&amp;&amp;( (column2[3].equals(\""C\""))||(column2[3].equals(\""D\"")) ) ){                        System.out.println(strLine2);                   }//if ends                                   }//while ends                 while((strLine3 = br3.readLine())!=null){                   String[] column3 = strLine3.split(\""\\\\|\"");                   if(  (column1[0].equals(column3[0]))&amp;&amp;(column3[2].equals(\""mumbai\""))&amp;&amp;( (column3[3].equals(\""C\""))||(column3[3].equals(\""D\"")) ) ){                        System.out.println(strLine3);                   }//if ends                                   }//while ends                 while((strLine4 = br4.readLine())!=null){                   String[] column4 = strLine4.split(\""\\\\|\"");                   if(  (column1[0].equals(column4[0]))&amp;&amp;(column4[2].equals(\""mumbai\""))&amp;&amp;( (column4[3].equals(\""C\""))||(column4[3].equals(\""D\"")) ) ){                        System.out.println(strLine4);                   }//if ends                                   }//while ends                }//if ends                   }//while ends               in1.close();        in2.close();        in3.close();        in4.close();    }catch (Exception e){//Catch exception if any        System.err.println(\""Error: \"" + e.getMessage());    }}}""]",<java><file><loops><java.util.scanner><bufferedreader>,26486098,"You should not use the DataInputStream unless you intentionally want to read primitive Java data types (see [http://docs.oracle.com/javase/7/docs/api/java/io/DataInputStream.html](""http://docs.oracle.com/javase/7/docs/api/java/io/DataInputStream.html"")).You could instantiate the BufferedReader reader either like this:--CODE--or traditionally like this:--CODE--At the end you can close all the BufferedReaders. They will implicitly cascade close all their containing streams.","[""BufferedReader br1 = Files.newBufferedReader(Paths.get(\""a.txt\""), StandardCharsets.UTF_8);"", ""BufferedReader br1 = new BufferedReader(new FileReader(\""a.txt\""));""]",Fundamental Programming Structures in Java,"{""Input and Output"": 1.0}"
7600455,7600485,Strange Swing compile-time accessibility error,"Here is the code ---CODE--And here is the error message -  No enclosing instance of type SetLabelForDemo is accessible. Must  qualify the allocation with an enclosing instance of type  SetLabelForDemo (e.g. x.new A() where x is an instance of  SetLabelForDemo).I don't understand this error at all. To me, everything seems perfectly valid. Am I missing something?","[""import javax.swing.JButton;import javax.swing.JFrame;import javax.swing.JLabel;import javax.swing.SwingUtilities;public final class SetLabelForDemo {    public static void main(String[] args){        SwingUtilities.invokeLater(new Runnable(){            @Override            public void run() {                createAndShowGUI();                         }        });    }    private static void createAndShowGUI(){        final JFrame frame = new JFrame();        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        frame.getContentPane().add(new JLabeledButton(\""foo:\"")); // new JLabeledButton(\""foo:\"") is the problem        frame.pack();        frame.setLocationRelativeTo(null);        frame.setVisible(true);    }    private final class JLabeledButton extends JButton{        public JLabeledButton(final String s){            super();            JLabel label = new JLabel(s);            label.setLabelFor(this);        }    }}""]",<java><eclipse><swing>,7600485,You'll have to declare your class JLabeledButton static since you instantiate it within a static context:--CODE--Because your method createAndShowGUI is static the compiler does not know for which instance of SetLabelForDemo you are creating the enclosed class.,"[""private static final class JLabeledButton extends JButton {    ...}""]",User Interface Components with Swing,"{""Choice Components"": 0.85}"
18801243,18801289,Java Swing JFileChooser append files to a JTextArea,I have a browse button which opens a dialog where the user can view directories and files. I am having some trouble appending the files the user selects to a JTextArea. I am trying to do this so the user can select multiple files at a time. The files eventually will be submitted to an Oracle database. The code I have used for the filechooser is here: --CODE--Can you please show me how to append the files to a JTextArea?Thanks.Edit: I have added the following: --CODE--But when selecting browse and choosing multiple files and then selecting open the files are not being displayed within the text area. Full Code: --CODE--,"[""final JFileChooser fc = new JFileChooser();        JList list = new JList();        fc.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);        if (JFileChooser.APPROVE_OPTION == fc.showOpenDialog(list)) {        File file = fc.getSelectedFile();"", ""JButton btnBrowse = new JButton(\""Browse\"");        btnBrowse.addActionListener(new ActionListener() {            public void actionPerformed(ActionEvent arg0) {                final JFileChooser fc = new JFileChooser();                fc.setMultiSelectionEnabled(true);                JList list = new JList();                fc.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);                if (JFileChooser.APPROVE_OPTION == fc.showOpenDialog(list)) {                     File file = fc.getSelectedFile();                }                   for (File file : fc.getSelectedFiles()) {                       log.append(file.getPath());                    }            }        });"", ""package com.example.android.apis.appwidget;import java.awt.BorderLayout;import java.awt.EventQueue;import javax.swing.JFrame;import javax.swing.JPanel;import javax.swing.border.EmptyBorder;import javax.swing.JLabel;import javax.swing.SwingConstants;import java.awt.Font;import javax.swing.JFileChooser;import javax.swing.JList;import javax.swing.JTextArea;import javax.swing.JButton;import javax.swing.JComboBox;import javax.swing.JCheckBox;import java.awt.event.ActionListener;import java.awt.event.ActionEvent;import java.io.File;import java.awt.Color;import javax.swing.UIManager;public class VFSTool extends JFrame {    private JPanel contentPane;      static private final String newline = \""\\n\"";        JButton openButton, saveButton;        JTextArea log;        JFileChooser fc;    /**     * Launch the application.     */    public static void main(String[] args) {        EventQueue.invokeLater(new Runnable() {            public void run() {                try {                    VFSTool frame = new VFSTool();                    frame.setVisible(true);                } catch (Exception e) {                    e.printStackTrace();                }            }        });    }    /**     * Create the frame.     */    public Tool() {        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        setBounds(100, 100, 499, 423);        contentPane = new JPanel();        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));        contentPane.setLayout(new BorderLayout(0, 0));        setContentPane(contentPane);        JLabel lblVfsLoaderTool = new JLabel(\""Tool\"");        lblVfsLoaderTool.setBackground(new Color(255, 255, 153));        lblVfsLoaderTool.setForeground(UIManager.getColor(\""Button.darkShadow\""));        lblVfsLoaderTool.setFont(new Font(\""Copperplate Gothic Light\"", Font.BOLD, 25));        lblVfsLoaderTool.setHorizontalAlignment(SwingConstants.CENTER);        contentPane.add(lblVfsLoaderTool, BorderLayout.NORTH);        JPanel panel = new JPanel();        panel.setBackground(UIManager.getColor(\""Button.darkShadow\""));        contentPane.add(panel, BorderLayout.CENTER);        panel.setLayout(null);        JButton btnBrowse = new JButton(\""Browse\"");        btnBrowse.addActionListener(new ActionListener() {            public void actionPerformed(ActionEvent arg0) {                final JFileChooser fc = new JFileChooser();                fc.setMultiSelectionEnabled(true);                JList list = new JList();                fc.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);                if (JFileChooser.APPROVE_OPTION == fc.showOpenDialog(list)) {                     File file = fc.getSelectedFile();                }                   for (File file : fc.getSelectedFiles()) {                    log.append(file.getPath() + System.getProperty(\""line.separator\""));                    }            }        });        btnBrowse.setBounds(107, 185, 97, 25);        panel.add(btnBrowse);        JLabel lblCategory = new JLabel(\""label1\"");        lblCategory.setForeground(UIManager.getColor(\""Button.background\""));        lblCategory.setBounds(12, 13, 82, 25);        panel.add(lblCategory);        JComboBox comboBox = new JComboBox();        comboBox.setForeground(UIManager.getColor(\""Button.background\""));        comboBox.setBounds(91, 13, 113, 24);        panel.add(comboBox);        JLabel lblNewLabel = new JLabel(\""label2\"");        lblNewLabel.setForeground(UIManager.getColor(\""Button.background\""));        lblNewLabel.setBounds(12, 50, 77, 25);        panel.add(lblNewLabel);        JComboBox comboBox_1 = new JComboBox();        comboBox_1.setBounds(91, 50, 113, 25);        panel.add(comboBox_1);        JLabel lblLanguage = new JLabel(\""label3\"");        lblLanguage.setForeground(UIManager.getColor(\""Button.background\""));        lblLanguage.setBounds(12, 114, 56, 16);        panel.add(lblLanguage);        JComboBox comboBox_2 = new JComboBox();        comboBox_2.setBounds(91, 110, 113, 25);        panel.add(comboBox_2);        JCheckBox chckbxIncludeExt = new JCheckBox(\""include\"");        chckbxIncludeExt.setForeground(UIManager.getColor(\""Button.background\""));        chckbxIncludeExt.setBackground(UIManager.getColor(\""Button.darkShadow\""));        chckbxIncludeExt.setBounds(12, 219, 113, 25);        panel.add(chckbxIncludeExt);        JButton btnSubmit = new JButton(\""Submit\"");        btnSubmit.setBounds(107, 264, 97, 25);        panel.add(btnSubmit);        JTextArea textArea = new JTextArea();        textArea.setBounds(240, 14, 219, 220);        panel.add(textArea);    }}""]",<java><swing>,18801289,"Enable multi-file selection using [JFileChooser#setMultiSelectionEnabled](""http://docs.oracle.com/javase/7/docs/api/javax/swing/JFileChooser.html#setMultiSelectionEnabled%28boolean%29""), then iterate through all files returned from [getSelectedFiles](""http://docs.oracle.com/javase/7/docs/api/javax/swing/JFileChooser.html#getSelectedFiles%28%29""), appending the output of [getPath](""http://docs.oracle.com/javase/7/docs/api/java/io/File.html#getPath%28%29"") to your JTextArea--CODE--Edit:You should be getting a stacktrace like this--CODE--This is telling you that something is not initialized, i.e. your JTextArea logNot only has this not been initialized but hasnt been added to the frame. You probably want the text displayed in textArea instead. This is only available in the scope of the constructor so will need to declared as a class member variable. --CODE--","[""if (JFileChooser.APPROVE_OPTION == fc.showOpenDialog(list)) {    for (File file : fc.getSelectedFiles()) {       myTextArea.append(file.getPath() + System.getProperty(\""line.separator\""));    }}"", ""Exception in thread \""AWT-EventQueue-0\"" java.lang.NullPointerException    at swing9.VFSTool$2.actionPerformed(VFSTool.java:81)    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)"", ""private JTextArea textArea;""]",User Interface Components with Swing,"{""Text Input"": 0.8, ""Sophisticated Layout Management"": 0.75}"
26760535,26761039,Java - convert string of letters to a string of digits,"I'm trying to learn Java but I'm stuck at an exercise: I have to write a ""decrypt()"" method, that converts a String like b.aab and returns to double value 1.001.I'm also given a 2 dimensional array of characters and the number they represent. --CODE--I know there is technique to convert a char ch into a digit with its ascii value, something like ch -'a' + 1, but I'm not sure how to apply this here. So my question is: How can I convert a String of letters to String of corresponding digits? From there I would use parseDouble(); to return a double of the String. Thank you in before. ","[""private static String conversionTable[][] = {        {\""a\"", \""0\""},        {\""b\"", \""1\""},        {\""c\"", \""2\""},        {\""d\"", \""3\""},        {\""e\"", \""4\""},        {\""f\"", \""5\""},        {\""g\"", \""6\""},        {\""h\"", \""7\""},        {\""i\"", \""8\""},        {\""j\"", \""9\""},};""]",<java><string>,26761039,--CODE--},"[""import java.util.Scanner;public class Program10 {         public static void main(String[] args) {                System.out.println(\""Enter a string to decrypt\"");                Scanner sc = new Scanner(System.in);                String input = sc.nextLine();              decrypt(input);    }      public static void decrypt(String input) {          char ch;          String str = \""\"";          int length = input.length();         for(int i = 0; i < length ; i++) {                ch = input.charAt(i);                   if(ch != '.') {                       int val = (int) ch;                    str = str + (val - 97);                   } else {                     String x = \""\"" + ch;                     str = str.concat(x);                }         }         System.out.println(str);}""]",Fundamental Programming Structures in Java,"{""Strings"": 0.85, ""Data Types"": 0.8}"
31904648,31904680,Daemon Thread is still alive after closing the app,"I'm just testing with an almost empty android project.I created a daemon thread in the Main Activity.Started the app, and pressed the back button on the phone to close the app.But the daemon thread never dies.Daemon Thread works really well with an empty JAVA PROJECT.But with android, doesn't work.I searched for the solution for hours but only got this.  A daemon thread only runs as long as there are non-daemon threads  running. When the last non-daemon thread ends, the runtime will exit.  This is not normally relevant to applications with a UI.Does anyone know how to solve this?PS.I stopped the app not by pressing the hardware back button but by pressing the 'Force stop' button in 'App info', and both of the app and the thread are gone!I first learned about Daemon Thread from some example codes for android develoment.But nobody mentioned about what I've experienced.Do android developers just believe Daemon Threads will be killed for sure?",[],<java><android><multithreading><daemon>,31904680,"  But the daemon thread never dies.Presumably, you did not cancel() the thread. You need to do this at an appropriate point.  But with android, doesn't work.It works just fine. It works the same as in Java, as you can tell by reading your quoted passage. The difference is in [how long your process lives](""http://developer.android.com/guide/components/processes-and-threads.html#Processes"") and in the threads in that process (Android processes have other threads besides ones that you fork).   Does anyone know how to solve this?Call cancel() on your thread at an appropriate point.",[],Concurrency,"{""Thread Properties"": 0.9}"
