382,384,What is the meaning of the type safety warning in certain Java generics casts?,"What is the meaning of the Java warning?  Type safety: The cast from Object to List is actually checking against the erased type ListI get this warning when I try to cast an Object to a type with generic information, such as in the following code:--CODE--","[""Object object = getMyList();List<Integer> list = (List<Integer>) object;""]",<java><generics><warnings><casting><type-safety>,384,"This warning is there because Java is not actually storing type information at run-time in an object that uses generics.  Thus, if object is actually a List, there will be no ClassCastException at run-time except until an item is accessed from the list that doesn't match the generic type defined in the variable.  This can cause further complications if items are added to the list, with this incorrect generic type information.  Any code still holding a reference to the list but with the correct generic type information will now have an inconsistent list.  To remove the warning, try:--CODE--However, note that you will not be able to use certain methods such as add because the compiler doesn't know if you are trying to add an object of incorrect type.  The above will work in a lot of situations, but if you have to use add, or some similarly restricted method, you will just have to suffer the yellow underline in Eclipse (or a SuppressWarning annotation).","[""List<?> list = (List<?>) object;""]",Generic Programming,"{""Restrictions and Limitations"": 1.35, ""Defining a Simple Generic Class"": 0.3, ""Generic Code and the Virtual Machine"": 0.7}"
2158,2245,Creating a custom JButton in Java,"Is there a way to create a JButton with your own button graphic and not just with an image inside the button? If not, is there another way to create a custom JButton in java?",[],<java><swing><jbutton>,2245,"When I was first learning Java we had to make Yahtzee and I thought it would be cool to create custom Swing components and containers instead of just drawing everything on one JPanel.  The benefit of extending Swing components, of course, is to have the ability to add support for keyboard shortcuts and other accessibility features that you can't do just by having a paint() method print a pretty picture.  It may not be done the best way however, but it may be a good starting point for you.Edit 8/6 - If it wasn't apparent from the images, each Die is a button you can click. This will move it to the DiceContainer below.  Looking at the source code you can see that each Die button is drawn dynamically, based on its value.Here are the basic steps:Create a class that extends JComponentCall parent constructor super() in your constructorsMake sure you class implements MouseListenerPut this in the constructor:--CODE--Override these methods:--CODE--Override this method:--CODE--The amount of space you have to work with when drawing your button is defined by getPreferredSize(), assuming getMinimumSize() and getMaximumSize() return the same value.  I haven't experimented too much with this but, depending on the layout you use for your GUI your button could look completely different.And finally, the [source code](""https://github.com/kdeloach/labs/blob/master/java/yahtzee/src/Dice.java"").  In case I missed anything.  ","[""enableInputMethods(true);   addMouseListener(this);"", ""public Dimension getPreferredSize()  public Dimension getMinimumSize()  public Dimension getMaximumSize()"", ""public void paintComponent(Graphics g)""]",User Interface Components with Swing,"{""Sophisticated Layout Management"": 0.8, ""Introduction to Layout Management"": 0.6}"
2968,2985,What are the different methods to parse strings in Java?,"For parsing player commands, I've most often used the [split](""http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29"") method to split a string by delimiters and then to then just figure out the rest by a series of ifs or switches. What are some different ways of parsing strings in Java?",[],<java><string><parsing>,2985,"I assume you're trying to make the command interface as forgiving as possible. If this is the case, I suggest you use an algorithm similar to this:Read in the stringSplit the string into tokensUse a dictionary to convert synonyms to a common form For example, convert ""hit"", ""punch"", ""strike"", and ""kick"" all to ""hit""Perform actions on an unordered, inclusive baseUnordered - ""punch the monkey in the face"" is the same thing as ""the face in the monkey punch""Inclusive - If the command is supposed to be ""punch the monkey in the face"" and they supply ""punch monkey"", you should check how many commands this matches. If only one command, do this action. It might even be a good idea to have command priorities, and even if there were even matches, it would perform the top action.",[],Fundamental Programming Structures in Java,"{""Strings"": 1.55}"
7269,46902,How can I identify in which Java Applet context running without passing an ID?,"I'm part of a team that develops a pretty big Swing Java Applet. Most of our code are legacy and there are tons of singleton references. We've bunched all of them to a single ""Application Context"" singleton. What we now need is to create some way to separate the shared context (shared across all applets currently showing) and non-shared context (specific to each applet currently showing). However, we don't have an ID at each of the locations that call to the singleton, nor do we want to propagate the ID to all locations. What's the easiest way to identify in which applet context we're running? (I've tried messing with classloaders, thread groups, thread ids... so far I could find nothing that will enable me to ID the origin of the call).",[],<java><swing><applet>,46902,"Singletons are evil, what do you expect? ;)Perhaps the most comprehensive approach would be to load the bulk of the applet in a different class loader (use java.net.URLClassLoader.newInstance). Then use a WeakHashMap to associate class loader with an applet. If you could split most of the code into a common class loader (as a parent of each per-applet class loader) and into the normal applet codebase, that would be faster but more work.Other hacks:If you have access to any component, you can use Component.getParent repeatedly or SwingUtilities.getRoot.If you are in a per-applet instance thread, then you can set up a ThreadLocal.From the EDT, you can read the current event from the queue (java.awt.EventQueue.getCurrentEvent()), and possibly find a component from that. Alternatively push an EventQueue with a overridden dispatchEvent method.",[],Graphical User Interface Programming,"{""Event Handling"": 0.7}"
7681,7688,Test serialization encoding,"What is the best way to verify/test that a text string is serialized to a byte array with a certain encoding?In my case, I want to verify that an XML structure is serialized to a byte array with the UTF-8 encoding which is of variable character length. As an example, my current ugly procedure is to inject a character known to require two bytes into the structure before serializing, then replacing the two-byte character with an ASCII character and comparing the serialized array lengths. This should yield two serialized arrays where the array containing the two-byte characters should have length +1.Plus if the solution is elegant for Java. I can't think of any elegant way to seek for a byte sequence in a byte array. (Could be used to seek for a known byte sequence representing the desired character representation in UTF-8.)",[],<java><xml><string><serialization><encoding>,7688,"Perhaps you could deserialise the byte array using a known encoding and ensure that (a) it doesn't throw any exceptions, and (b) deserialises to the original string. It seems that from your description of the scenario, you may not have the original string readily available. Might there be a way to create it?",[],Fundamental Programming Structures in Java,"{""Strings"": 1.35}"
10586,10713,Small modification to an XML document using StAX,"I'm currently trying to read in an XML file, make some minor changes (alter the value of some attributes), and write it back out again.I have intended to use a StAX parser (javax.xml.stream.XMLStreamReader) to read in each event, see if it was one I wanted to change, and then pass it straight on to the StAX writer (javax.xml.stream.XMLStreamReader) if no changes were required.Unfortunately, that doesn't look to be so simple - The writer has no way to take an event type and a parser object, only methods like writeAttribute and writeStartElement. Obviously I could write a big switch statement with a case for every possible type of element which can occur in an XML document, and just write it back out again, but it seems like a lot of trouble for something which seems like it should be simple.Is there something I'm missing that makes it easy to write out a very similar XML document to the one you read in with StAX?",[],<java><xml><stax>,10713,"StAX works pretty well and is very fast. I used it in a project to parse XML files which are up to 20MB. I don't have a thorough analysis, but it was definitely faster than SAX. As for your question: The difference between streaming and event-handling, AFAIK is control. With the streaming API you can walk through your document step by step and get the contents you want. Whereas the event-based API you can only handle what you are interested in.",[],Fundamental Programming Structures in Java,"{""Input and Output"": 1.05}"
18524,18529,Converting List<Integer> to List<String>,"I have a list of integers, List and I'd like to convert all the integer objects into Strings, thus finishing up with a new List.Naturally, I could create a new List and loop through the list calling String.valueOf() for each integer, but I was wondering if there was a better (read: more automatic) way of doing it?",[],<java><string><collections><integer>,18529,"As far as I know, iterate and instantiate is the only way to do this.  Something like (for others potential help, since I'm sure you know how to do this):--CODE--","[""List<Integer> oldList = .../* Specify the size of the list up front to prevent resizing. */List<String> newList = new ArrayList<String>(oldList.size()) for (Integer myInt : oldList) {   newList.add(String.valueOf(myInt)); }""]",Fundamental Programming Structures in Java,"{""Strings"": 1.45}"
19893,19904,How do you embed binary data in XML?,"I have two applications written in Java that communicate with each other using XML messages over the network.  I'm using a SAX parser at the receiving end to get the data back out of the messages.  One of the requirements is to embed binary data in an XML message, but SAX doesn't like this.  Does anyone know how to do this?UPDATE:  I got this working with the [Base64](""http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Base64.html"") class from the [apache commons codec library](""http://commons.apache.org/codec/""), in case anyone else is trying something similar.",[],<java><xml><binary><binary-data>,19904,"You could encode the binary data using base64 and put it into a Base64 element; the below article is a pretty good one on the subject.[Handling Binary Data in XML Documents](""http://www.xml.com/pub/a/98/07/binary/binary.html"")",[],Fundamental Programming Structures in Java,"{""Input and Output"": 0.5, ""Strings"": 0.55}"
24866,24902,Is it essential that I use libraries to manipulate XML?,I am using Java back end for creating an XML string which is passed to the browser. Currently I am using simple string manipulation to produce this XML. Is it essential that I use some XML library in Java to produce the XML string?I find the libraries very difficult to use compared to what I need.,[],<java><xml>,24902,"It's not essential, but advisable. However, if string manipulation works for you, then go for it! There are plenty of cases where small or simple XML text can be safely built by hand.Just be aware that creating XML text is harder than it looks. Here's some criteria I would consider:First: how much control do you have on the information that goes into the xml?The less control you have on the source data, the more likely you will have trouble, and the more advantageous the library becomes. For example: (a) Can you guarantee that the element names will never have a character that is illegal in a name? (b) How about quotes in an attribute's content? Can they happen, and are you handling them? (c) Does the data ever contain anything that might need to be encoded as an [entity](""http://en.wikipedia.org/wiki/XML_entity"") (like the less-than which often needs to be output as &amp;lt;); are you doing it correctly?Second, maintainability: is the code that builds the XML easy to understand by someone else?You probably don't want to be stuck with the code for life. I've worked with second-hand C++ code that hand-builds XML and it can be surprisingly obscure. Of course, if this is a personal project of yours, then you don't need to worry about ""others"": substitute ""in a year"" for ""others"" above.I wouldn't worry about performance. If your XML is simple enough that you can hand-write it, any overhead from the library is probably meaningless. Of course, your case might be different, but you should measure to prove it first.Finally, Yes; you can hand build XML text by hand if it's simple enough; but not knowing the libraries available is probably not the right reason.A modern XML library is a quite powerful tool, but it can also be daunting. However, learning the essentials of your XML library is not that hard, and it can be quite handy; among other things, it's almost a requisite in today's job marketplace. Just don't get bogged down by namespaces, schemas and other fancier features until you get the essentials.Good luck.",[],Fundamental Programming Structures in Java,"{""Strings"": 1.3}"
31127,45580,Java Swing: Displaying images from within a Jar,"When running a Java app from eclipse my ImageIcon shows up just fine.But after creating a jar the path to the image obviously gets screwed up.Is there a way to extract an image from the jar at runtime so I can then open it up?  Or, is there a better way to do this?I'd like to distribute a single jar file if possible.",[],<java><swing><embedded-resource><imageicon>,45580,"To create an ImageIcon from an image file within the same jars your code is loaded:--CODE--Class.getResource returns a URL of a resource (or null!). ImageIcon has a constructors that load from a URL.To construct a URL for a resource in a jar not on your ""classpath"", see the documentation for java.net.JarURLConnection.","[""new javax.swing.ImageIcon(getClass().getResource(\""myimage.jpeg\""))""]",Graphical User Interface Programming,"{""Displaying Information in a Component"": 1.65}"
32519,32707,List in JScrollPane painting outside the viewport,"I have a list, each item of which has several things in it, including a JProgressBar which can be updated a lot. Each time one of the items updates its JProgressBar, the ListDataListener on the list tries to scroll it to the visible range using--CODE--Note that I'm trying to make sure the scrolling is done in the dispatch thread, since I thought maybe the problem was it being scrolled while it was repainting.  And yet, I still have a problem where if things are really active, some of the list items paint outside of the viewport, overwriting what's outside the JScrollPane.  Forcing an exposure event will repaint those things, but it's annoying.Is there anything else I need to look out for to stop these things painting outside of their clipping area?","[""/* * This makes the updating content item automatically scroll * into view if it is off the viewport. */public void contentsChanged(final ListDataEvent evt) {    if (!EventQueue.isDispatchThread()) {        /**          * Make sure the scrolling happens in the graphics \""dispatch\"" thread.          */        EventQueue.invokeLater(new Runnable() {            public void run()  {               contentsChanged(evt);            }        });    }    if (playbackInProgress) {        int index = evt.getIndex0();        currentContentList.ensureIndexIsVisible(index);    }}""]",<java><swing><jscrollpane>,32707,"Have you tried explicitly enabling double-buffering on the JList and/or the components that it is drawing over? (with:[setDoubleBuffered(boolean aFlag)](""http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html#setDoubleBuffered(boolean)""))Another thought is that you might need to exit the function immediately after delegating to the EDT.  The way your code is written, it looks like the update will happen in both threads if ContentChanged is invoked from a non-EDT thread.  Logging in the first if (or set a breakpoint in the if -- but not in the runnable -- should help determine if that is your problem.eg:--CODE--","[""public void contentsChanged(final ListDataEvent evt){    if (!EventQueue.isDispatchThread())    {        log.debug(\""Delegating contentsChanged(...) to EDT\"");        EventQueue.invokeLater(new Runnable()         {            public void run()             {                contentsChanged(evt);            }        });        // don't run ensureIndexIsVisible twice:        return;     }     if (playbackInProgress)     {         int index = evt.getIndex0();         currentContentList.ensureIndexIsVisible(index);     }}""]",Concurrency,"{""Tasks and Thread Pools"": 0.8, ""Asynchronous Computations"": 0.65}"
32529,32549,How do I restrict JFileChooser to a directory?,"I want to limit my users to a directory and its sub directories but the ""Parent Directory"" button allows them to browse to an arbitrary directory.How should I go about doing that?",[],<java><swing><jfilechooser>,32549,"You can probably do this by setting your own [FileSystemView](""https://docs.oracle.com/javase/8/docs/api/javax/swing/filechooser/FileSystemView.html"").",[],User Interface Components with Swing,"{""Dialog Boxes"": 0.9}"
37089,37090,How can an application use multiple cores or CPUs in .NET or Java?,"When launching a thread or a process in .NET or Java, is there a way to choose which processor or core it is launched on? How does the shared memory model work in such cases?",[],<c#><java><multithreading>,37090,"If you're using multiple threads, the operating system will automatically take care of using multiple cores.",[],Concurrency,"{""Tasks and Thread Pools"": 0.8, ""Thread States"": 0.5}"
37551,,Multiple threads stuck in native calls (Java),"I have a problem with an application running on Fedora Core 6 with JDK 1.5.0_08.After some amount of uptime (usually some days) threads begin getting stuck in native methods.The threads are locked in something like this:--CODE--or--CODE--Especially puzzling to me is this one:--CODE--The threads remain stuck until the VM is restarted.Can anyone give me an idea as to what is happening here, what might be causing the native methods to block?The monitor entry address range at the top of each stuck thread is different. How can I figure out what is holding this monitor?Any suggestions or advice will be greatly appreciated!Thanks,David ","[""\""pool-2-thread-2571\"" prio=1 tid=0x08dd0b28 nid=0x319e waiting for monitor entry [0xb91fe000..0xb91ff7d4]at java.lang.Class.getDeclaredConstructors0(Native Method)"", ""\""pool-2-thread-2547\"" prio=1 tid=0x75641620 nid=0x1745 waiting for monitor entry [0xbc7fe000..0xbc7ff554]at sun.misc.Unsafe.defineClass(Native Method)"", ""\""HealthMonitor-10\"" daemon prio=1 tid=0x0868d1c0 nid=0x2b72 waiting for monitor entry [0xbe5ff000..0xbe5ff4d4]at java.lang.Thread.dumpThreads(Native Method)at java.lang.Thread.getStackTrace(Thread.java:1383)""]",<java><multithreading><native-methods><blocked>,152563,"My initial suspicion would be that you are experiencing some sort of class-loader realted dead lock. I imagine, that class loading needs to be synchronized at some level because class information will become available for the entire VM, not just the thread where it was initially loaded.The fact that the methods on top of the stack are native methods seems to be pure coincidence, since part of the class loading mechanism happens to implemented that way.I would investigate further what is going on class-loading wise. Maybe some thread uses the class loader to load a class from a network location which is slow/unavailable and thus blocks for a really long time, not yielding the monitor to other threads that want to load a class. Investigating the output when starting the JVM with -verbose:class might be one thing to try.",[],Concurrency,"{""Synchronization"": 1.65}"
39108,,Drawing animations at the show of a JDialog,"What would be the best way to draw a simple animation just before showing a modal [JDialog](""https://docs.oracle.com/javase/9/docs/api/javax/swing/JDialog.html"")? (i.e. expanding borders from the mouse click point to the dialog location). I thought it would be possible to draw on the glasspane of the parent frame on the setVisible method of the dialog.However, since the JDialog is modal to the parent, I couldn't find a way to pump drawing events into [EDT](""https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html"") before the JDialog becomes visible, since the current event on the EDT has not been completed yet.",[],<java><user-interface><swing><animation>,39868,"Are you trying to show the JDialog indepentently of the annimation? In order to get the order set properly, you may need to bundle those actions in a runnable that is passed to the EDT at once.eg:--CODE--It may be best to subclass JDialog so that you can just add the doAnnimation() logic to the setVisible(..) or show() method before calling the superclass implementation.  Finally, I imagine you'll need to set the dimensions of the dalog manually --  I don't remember if Java will know the actual size of the dialog before it is shown, so you may get some useless information for your annimation if you query the size before showing it.","[""SwingUtilities.invokeLater(new Runnable(){   public void run(){      doAnnimation();      showDialog();   }}""]",User Interface Components with Swing,"{""Dialog Boxes"": 1.7000000000000002}"
41107,41156,How to generate a random alpha-numeric string?,"I've been looking for a simple Java algorithm to generate a pseudo-random alpha-numeric string.  In my situation it would be used as a unique session/key identifier that would ""likely"" be unique over 500K+ generation (my needs don't really require anything much more sophisticated).  Ideally, I would be able to specify a length depending on my uniqueness needs. For example, a generated string of length 12 might look something like ""AEYGF7K0DM1X"".  ",[],<java><string><random><alphanumeric>,41156,"AlgorithmTo generate a random string, concatenate characters drawn randomly from the set of acceptable symbols until the string reaches the desired length.ImplementationHere's some fairly simple and very flexible code for generating random identifiers. Read the information that follows for important application notes.--CODE--Usage examplesCreate an insecure generator for 8-character identifiers:--CODE--Create a secure generator for session identifiers:--CODE--Create a generator with easy-to-read codes for printing. The strings are longer than full alphanumeric strings to compensate for using fewer symbols:--CODE--Use as session identifiersGenerating session identifiers that are likely to be unique is not good enough, or you could just use a simple counter. Attackers hijack sessions when predictable identifiers are used.There is tension between length and security. Shorter identifiers are easier to guess, because there are fewer possibilities. But longer identifiers consume more storage and bandwidth. A larger set of symbols helps, but might cause encoding problems if identifiers are included in URLs or re-entered by hand.The underlying source of randomness, or entropy, for session identifiers should come from a random number generator designed for cryptography. However, initializing these generators can sometimes be computationally expensive or slow, so effort should be made to re-use them when possible.Use as object identifiersNot every application requires security. Random assignment can be an efficient way for multiple entities to generate identifiers in a shared space without any coordination or partitioning. Coordination can be slow, especially in a clustered or distributed environment, and splitting up a space causes problems when entities end up with shares that are too small or too big.Identifiers generated without taking measures to make them unpredictable should be protected by other means if an attacker might be able to view and manipulate them, as happens in most web applications. There should be a separate authorization system that protects objects whose identifier can be guessed by an attacker without access permission.Care must be also be taken to use identifiers that are long enough to make collisions unlikely given the anticipated total number of identifiers. This is referred to as ""the birthday paradox."" [The probability of a collision,](""https://en.wikipedia.org/wiki/Birthday_problem#Square_approximation"") p, is approximately n2/(2qx), where n is the number of identifiers actually generated, q is the number of distinct symbols in the alphabet, and x is the length of the identifiers. This should be a very small number, like 2&#8209;50 or less.Working this out shows that the chance of collision among 500k 15-character identifiers is about 2&#8209;52, which is probably less likely than undetected errors from cosmic rays, etc.Comparison with UUIDsAccording to their specification, [UUIDs](""https://tools.ietf.org/html/rfc4122#section-6"") are not designed to be unpredictable, and should not be used as session identifiers.UUIDs in their standard format take a lot of space: 36 characters for only 122 bits of entropy. (Not all bits of a ""random"" UUID are selected randomly.) A randomly chosen alphanumeric string packs more entropy in just 21 characters.UUIDs are not flexible; they have a standardized structure and layout. This is their chief virtue as well as their main weakness. When collaborating with an outside party, the standardization offered by UUIDs may be helpful. For purely internal use, they can be inefficient.","[""public class RandomString {    /**     * Generate a random string.     */    public String nextString() {        for (int idx = 0; idx < buf.length; ++idx)            buf[idx] = symbols[random.nextInt(symbols.length)];        return new String(buf);    }    public static final String upper = \""ABCDEFGHIJKLMNOPQRSTUVWXYZ\"";    public static final String lower = upper.toLowerCase(Locale.ROOT);    public static final String digits = \""0123456789\"";    public static final String alphanum = upper + lower + digits;    private final Random random;    private final char[] symbols;    private final char[] buf;    public RandomString(int length, Random random, String symbols) {        if (length < 1) throw new IllegalArgumentException();        if (symbols.length() < 2) throw new IllegalArgumentException();        this.random = Objects.requireNonNull(random);        this.symbols = symbols.toCharArray();        this.buf = new char[length];    }    /**     * Create an alphanumeric string generator.     */    public RandomString(int length, Random random) {        this(length, random, alphanum);    }    /**     * Create an alphanumeric strings from a secure generator.     */    public RandomString(int length) {        this(length, new SecureRandom());    }    /**     * Create session identifiers.     */    public RandomString() {        this(21);    }}"", ""RandomString gen = new RandomString(8, ThreadLocalRandom.current());"", ""RandomString session = new RandomString();"", ""String easy = RandomString.digits + \""ACEFGHJKLMNPQRUVWXYabcdefhijkprstuvwx\"";RandomString tickets = new RandomString(23, new SecureRandom(), easy);""]",Fundamental Programming Structures in Java,"{""Strings"": 1.35}"
45075,45248,Java: Flash a window to grab user's attention,Is there a better way to flash a window in Java than this:--CODE--I know that this code is scary...But it works alright. (I should implement a loop...),"[""public static void flashWindow(JFrame frame) throws InterruptedException {        int sleepTime = 50;        frame.setVisible(false);        Thread.sleep(sleepTime);        frame.setVisible(true);        Thread.sleep(sleepTime);        frame.setVisible(false);        Thread.sleep(sleepTime);        frame.setVisible(true);        Thread.sleep(sleepTime);        frame.setVisible(false);        Thread.sleep(sleepTime);        frame.setVisible(true);}""]",<java><user-interface>,45248,"There are two common ways to do this: use JNI to set urgency hints on the taskbar's window, and create a notification icon/message. I prefer the second way, since it's cross-platform and less annoying.See [documentation on the TrayIcon class](""http://java.sun.com/javase/6/docs/api/java/awt/TrayIcon.html""), particularly the [displayMessage()](""http://java.sun.com/javase/6/docs/api/java/awt/TrayIcon.html#displayMessage(java.lang.String,%20java.lang.String,%20java.awt.TrayIcon.MessageType)"") method.The following links may be of interest:[New System Tray Functionality in Java SE 6](""http://java.sun.com/developer/technicalArticles/J2SE/Desktop/javase6/systemtray/"")[Java Programming - Iconified window blinking](""http://forums.sun.com/thread.jspa?threadID=5130669&amp;messageID=9469354"")[TrayIcon for earlier versions of Java](""https://jdic.dev.java.net/documentation/incubator/tray/"")",[],Graphical User Interface Programming,"{""Displaying Frames"": 1.4, ""Event Handling"": 1.2}"
46160,,Getting an int representation of a String,"I am looking for a way to create an int\long representation of an arbitrary alpha-numeric String. Hash codes won't do it, because I can't afford hash collisions i.e. the representation must be unique and repeatable. The numeric representation will be used to perform efficient (hopefully) compares. The creation of the numeric key will take some time, but it only has to happen once, whereas I need to perform vast numbers of comparisons with it - which will hopefully be much faster than comparing the raw Strings.Any other idea's on faster String comparison will be most appreciated too...",[],<java><performance><string>,46216,"Unless your string is limited in length, you can't avoid collisions. There are 4294967296 possible values for an integer (2^32). If you have a string of more than 4 ASCII characters, or more than two unicode characters, then there are more possible string values than possible integer values. You can't have a unique integer value for every possible 5 character string. Long values have more possible values, but they would only provide a unique value for every possible string of 8 ASCII characters.Hash codes are useful as a two step process: first see if the hash code matches, then check the whole string. For most strings that don't match, you only need to do the first step, and it's really fast.",[],Fundamental Programming Structures in Java,"{""Strings"": 1.5}"
47045,47049,Sprintf equivalent in Java,Printf got added to Java with the 1.5 release but I can't seem to find how to send the output to a string rather than a file (which is what sprintf does in C). Does anyone know how to do this? ,[],<java><string><formatting>,47049,"--CODE--See [format](""http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)"") and its [syntax](""http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax"")","[""// Store the formatted string in 'result'String result = String.format(\""%4d\"", i * j);// Write the result to standard outputSystem.out.println( result );""]",Fundamental Programming Structures in Java,"{""Strings"": 1.7000000000000002, ""Input and Output"": 0.85}"
47605,47628,"String concatenation: concat() vs ""+"" operator","Assuming String a and b:--CODE--Under the hood, are they the same thing?Here is concat decompiled as reference. I'd like to be able to decompile the + operator as well to see what that does.--CODE--","[""a += ba = a.concat(b)"", ""public String concat(String s) {    int i = s.length();    if (i == 0) {        return this;    }    else {        char ac[] = new char[count + i];        getChars(0, count, ac, 0);        s.getChars(0, i, ac, count);        return new String(0, count + i, ac);    }}""]",<java><string><concatenation>,47628,"No, not quite.Firstly, there's a slight difference in semantics. If a is null, then a.concat(b) throws a NullPointerException but a+=b will treat the original value of a as if it were null. Furthermore, the concat() method only accepts String values while the + operator will silently convert the argument to a String (using the toString() method for objects). So the concat() method is more strict in what it accepts.To look under the hood, write a simple class with a += b;--CODE--Now disassemble with javap -c (included in the Sun JDK). You should see a listing including:--CODE--So, a += b is the equivalent of--CODE--The concat method should be faster. However, with more strings the StringBuilder method wins, at least in terms of performance.The source code of String and StringBuilder (and its package-private base class) is available in src.zip of the Sun JDK. You can see that you are building up a char array (resizing as necessary) and then throwing it away when you create the final String. In practice memory allocation is surprisingly fast.Update: As Pawel Adamski notes, performance has changed in more recent HotSpot. javac still produces exactly the same code, but the bytecode compiler cheats. Simple testing entirely fails because the entire body of code is thrown away. Summing System.identityHashCode (not String.hashCode) shows the StringBuffer code has a slight advantage. Subject to change when the next update is released, or if you use a different JVM. From [@lukaseder](""https://twitter.com/lukaseder""), [a list of HotSpot JVM intrinsics](""https://gist.github.com/apangin/7a9b7062a4bd0cd41fcc"").","[""public class Concat {    String cat(String a, String b) {        a += b;        return a;    }}"", ""java.lang.String cat(java.lang.String, java.lang.String);  Code:   0:   new     #2; //class java/lang/StringBuilder   3:   dup   4:   invokespecial   #3; //Method java/lang/StringBuilder.\""<init>\"":()V   7:   aload_1   8:   invokevirtual   #4; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;   11:  aload_2   12:  invokevirtual   #4; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;   15:  invokevirtual   #5; //Method java/lang/StringBuilder.toString:()Ljava/lang/    String;   18:  astore_1   19:  aload_1   20:  areturn"", ""a = new StringBuilder()    .append(a)    .append(b)    .toString();""]",Fundamental Programming Structures in Java,"{""Strings"": 1.8, ""Operators"": 0.8}"
50561,50573,Programmatically determine which Java thread holds a lock,Is it possible at runtime to programmatically check the name of the Thread that is holding the lock of a given object?,[],<java><multithreading><concurrency>,50573,"You can only tell whether the current thread holds a normal lock ([Thread.holdsLock(Object)](""http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#holdsLock%28java.lang.Object%29"")). You can't get a reference to the thread that has the lock without native code.However, if you're doing anything complicated with threading, you probably want to familiarize yourself with the java.util.concurrent packages. The [ReentrantLock](""http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html"") does allow you to get its owner (but its a protected method, so you'd have to extend this). Depending on your application, it may well be that by using the concurrency packages, you'll find that you don't need to get the lock's owner after all.There are non-programmatic methods to find the lock owners, such as signaling the JVM to issue a thread dump to stderr, that are useful to determine the cause of deadlocks.",[],Concurrency,"{""Synchronization"": 1.7000000000000002}"
54567,54799,How do I get InputVerifier to work with an editable JComboBox,I've got an JComboBox with a custom inputVerifyer set to limit MaxLength when it's set to editable.The verify method never seems to get called.The same verifyer gets invoked on a JTextField fine.What might I be doing wrong?,[],<java><swing><jcombobox>,54799,"I found a workaround. I thought I'd let the next person with this problem know about. Basically. Instead of setting the inputVerifier on the ComboBox you set it to it's ""Editor Component"". --CODE--","[""JComboBox combo = new JComboBox();JTextField tf = (JTextField)(combo.getEditor().getEditorComponent());tf.setInputVerifier(verifyer);""]",User Interface Components with Swing,"{""Choice Components"": 1.7000000000000002}"
54926,54927,Make a JPanel not draw its background (Transparent),"Is it possible, in Java, to make a JPanel skip drawing its background thus being transparent except for the components on it?",[],<java><user-interface>,54927,"setOpaque(false)It'll pass off painting the background to its parent, which may draw its own background.You can do a screen capture and then use that to paint the background of the panel.",[],Graphical User Interface Programming,"{""Displaying Information in a Component"": 1.55}"
56707,58166,Java Right Click does not make a selection. What is the easiest way to solve this globally?,Is there a way to globally make right click also select the element that you right click on?  From what I understand this has been a bug in Swing for a long time likely to never be fixed because at this point applications depend on it.  Any advice on doing this on a global scale?  Perhaps on the L&amp;F?,[],<java><swing>,58166,"Using the [Glass Pane](""http://java.sun.com/docs/books/tutorial/uiswing/components/rootpane.html"") will do the trick.[Here's a tutorial](""http://weblogs.java.net/blog/joshy/archive/2003/10/swing_hack_4_th.html"") on how to use the glass pane to get the right click button and redispatch it to the right component.As the glass pane is not a solution in this case, I suggest you take a look at the [Toolkit](""http://java.sun.com/javase/6/docs/api/java/awt/Toolkit.html"") class. Specificaly the addAWTEventListener method. You can add a global event listener with it. To add a mouse event listener:--CODE--Cheers","[""Toolkit.getDefaultToolkit().        addAWTEventListener(listener, AWTEvent.MOUSE_EVENT_MASK);""]",Graphical User Interface Programming,"{""Event Handling"": 1.8}"
58939,58963,JComboBox Selection Change Listener?,"I'm trying to get an event to fire whenever a choice is made from a JComboBox.The problem I'm having is that there is no obvious addSelectionListener() method.I've tried to use actionPerformed(), but it never fires.Short of overriding the model for the JComboBox, I'm out of ideas.How do I get notified of a selection change on a JComboBox?**Edit: I have to apologize. It turns out I was using a misbehaving subclass of JComboBox, but I'll leave the question up since your answer is good.",[],<java><swing><jcombobox><itemlistener>,58963,"It should respond to [ActionListeners](""http://docs.oracle.com/javase/7/docs/api/java/awt/event/ActionListener.html""), like this:--CODE--@John Calsbeek rightly points out that addItemListener() will work, too.  You may get 2 ItemEvents, though, one for the deselection of the previously selected item, and another for the selection of the new item. Just don't use both event types!","[""combo.addActionListener (new ActionListener () {    public void actionPerformed(ActionEvent e) {        doSomething();    }});""]",Graphical User Interface Programming,"{""Event Handling"": 1.8}"
60269,61982,How to implement draggable tab using Java Swing?,"How do I implement a draggable tab using Java Swing? Instead of the static JTabbedPane I would like to drag-and-drop a tab to different position to rearrange the tabs.EDIT: [The Java Tutorials - Drag and Drop and Data Transfer](""http://java.sun.com/docs/books/tutorial/uiswing/dnd/index.html"").",[],<java><user-interface><swing><tabs>,61982,"I liked [Terai Atsuhiro san's DnDTabbedPane](""http://java-swing-tips.blogspot.com/2008/04/drag-and-drop-tabs-in-jtabbedpane.html""), but I wanted more from it. The original Terai implementation transfered tabs within the TabbedPane, but it would be nicer if I could drag from one TabbedPane to another.Inspired by @Tom's effort, I decided to modify the code myself.There are some details I added. For example, the ghost tab now slides along the tabbed pane instead of moving together with the mouse.setAcceptor(TabAcceptor a_acceptor) should let the consumer code decide whether to let one tab transfer from one tabbed pane to another. The default acceptor always returns true.--CODE--","[""/** Modified DnDTabbedPane.java * http://java-swing-tips.blogspot.com/2008/04/drag-and-drop-tabs-in-jtabbedpane.html * originally written by Terai Atsuhiro. * so that tabs can be transfered from one pane to another. * eed3si9n. */import java.awt.*;import java.awt.datatransfer.*;import java.awt.dnd.*;import java.awt.geom.*;import java.awt.image.*;import javax.swing.*;public class DnDTabbedPane extends JTabbedPane {    public static final long serialVersionUID = 1L;    private static final int LINEWIDTH = 3;    private static final String NAME = \""TabTransferData\"";    private final DataFlavor FLAVOR = new DataFlavor(            DataFlavor.javaJVMLocalObjectMimeType, NAME);    private static GhostGlassPane s_glassPane = new GhostGlassPane();    private boolean m_isDrawRect = false;    private final Rectangle2D m_lineRect = new Rectangle2D.Double();    private final Color m_lineColor = new Color(0, 100, 255);    private TabAcceptor m_acceptor = null;    public DnDTabbedPane() {        super();        final DragSourceListener dsl = new DragSourceListener() {            public void dragEnter(DragSourceDragEvent e) {                e.getDragSourceContext().setCursor(DragSource.DefaultMoveDrop);            }            public void dragExit(DragSourceEvent e) {                e.getDragSourceContext()                        .setCursor(DragSource.DefaultMoveNoDrop);                m_lineRect.setRect(0, 0, 0, 0);                m_isDrawRect = false;                s_glassPane.setPoint(new Point(-1000, -1000));                s_glassPane.repaint();            }            public void dragOver(DragSourceDragEvent e) {                //e.getLocation()                //This method returns a Point indicating the cursor location in screen coordinates at the moment                TabTransferData data = getTabTransferData(e);                if (data == null) {                    e.getDragSourceContext().setCursor(                            DragSource.DefaultMoveNoDrop);                    return;                } // if                /*                Point tabPt = e.getLocation();                SwingUtilities.convertPointFromScreen(tabPt, DnDTabbedPane.this);                if (DnDTabbedPane.this.contains(tabPt)) {                    int targetIdx = getTargetTabIndex(tabPt);                    int sourceIndex = data.getTabIndex();                    if (getTabAreaBound().contains(tabPt)                            &amp;&amp; (targetIdx >= 0)                            &amp;&amp; (targetIdx != sourceIndex)                            &amp;&amp; (targetIdx != sourceIndex + 1)) {                        e.getDragSourceContext().setCursor(                                DragSource.DefaultMoveDrop);                        return;                    } // if                    e.getDragSourceContext().setCursor(                            DragSource.DefaultMoveNoDrop);                    return;                } // if                */                e.getDragSourceContext().setCursor(                        DragSource.DefaultMoveDrop);            }            public void dragDropEnd(DragSourceDropEvent e) {                m_isDrawRect = false;                m_lineRect.setRect(0, 0, 0, 0);                // m_dragTabIndex = -1;                if (hasGhost()) {                    s_glassPane.setVisible(false);                    s_glassPane.setImage(null);                }            }            public void dropActionChanged(DragSourceDragEvent e) {            }        };        final DragGestureListener dgl = new DragGestureListener() {            public void dragGestureRecognized(DragGestureEvent e) {                // System.out.println(\""dragGestureRecognized\"");                Point tabPt = e.getDragOrigin();                int dragTabIndex = indexAtLocation(tabPt.x, tabPt.y);                if (dragTabIndex < 0) {                    return;                } // if                initGlassPane(e.getComponent(), e.getDragOrigin(), dragTabIndex);                try {                    e.startDrag(DragSource.DefaultMoveDrop,                             new TabTransferable(DnDTabbedPane.this, dragTabIndex), dsl);                } catch (InvalidDnDOperationException idoe) {                    idoe.printStackTrace();                }            }        };        //dropTarget =        new DropTarget(this, DnDConstants.ACTION_COPY_OR_MOVE,                new CDropTargetListener(), true);        new DragSource().createDefaultDragGestureRecognizer(this,                DnDConstants.ACTION_COPY_OR_MOVE, dgl);        m_acceptor = new TabAcceptor() {            public boolean isDropAcceptable(DnDTabbedPane a_component, int a_index) {                return true;            }        };    }    public TabAcceptor getAcceptor() {        return m_acceptor;    }    public void setAcceptor(TabAcceptor a_value) {        m_acceptor = a_value;    }    private TabTransferData getTabTransferData(DropTargetDropEvent a_event) {               try {            TabTransferData data = (TabTransferData) a_event.getTransferable().getTransferData(FLAVOR);                         return data;        } catch (Exception e) {            e.printStackTrace();        }        return null;    }    private TabTransferData getTabTransferData(DropTargetDragEvent a_event) {        try {            TabTransferData data = (TabTransferData) a_event.getTransferable().getTransferData(FLAVOR);                         return data;        } catch (Exception e) {            e.printStackTrace();        }        return null;    }    private TabTransferData getTabTransferData(DragSourceDragEvent a_event) {        try {            TabTransferData data = (TabTransferData) a_event.getDragSourceContext()                .getTransferable().getTransferData(FLAVOR);                         return data;        } catch (Exception e) {            e.printStackTrace();        }        return null;            }    class TabTransferable implements Transferable {        private TabTransferData m_data = null;        public TabTransferable(DnDTabbedPane a_tabbedPane, int a_tabIndex) {            m_data = new TabTransferData(DnDTabbedPane.this, a_tabIndex);        }        public Object getTransferData(DataFlavor flavor) {            return m_data;            // return DnDTabbedPane.this;        }        public DataFlavor[] getTransferDataFlavors() {            DataFlavor[] f = new DataFlavor[1];            f[0] = FLAVOR;            return f;        }        public boolean isDataFlavorSupported(DataFlavor flavor) {            return flavor.getHumanPresentableName().equals(NAME);        }           }    class TabTransferData {        private DnDTabbedPane m_tabbedPane = null;        private int m_tabIndex = -1;        public TabTransferData() {        }        public TabTransferData(DnDTabbedPane a_tabbedPane, int a_tabIndex) {            m_tabbedPane = a_tabbedPane;            m_tabIndex = a_tabIndex;        }        public DnDTabbedPane getTabbedPane() {            return m_tabbedPane;        }        public void setTabbedPane(DnDTabbedPane pane) {            m_tabbedPane = pane;        }        public int getTabIndex() {            return m_tabIndex;        }        public void setTabIndex(int index) {            m_tabIndex = index;        }    }    private Point buildGhostLocation(Point a_location) {        Point retval = new Point(a_location);        switch (getTabPlacement()) {            case JTabbedPane.TOP: {                retval.y = 1;                retval.x -= s_glassPane.getGhostWidth() / 2;            } break;            case JTabbedPane.BOTTOM: {                retval.y = getHeight() - 1 - s_glassPane.getGhostHeight();                retval.x -= s_glassPane.getGhostWidth() / 2;            } break;            case JTabbedPane.LEFT: {                retval.x = 1;                retval.y -= s_glassPane.getGhostHeight() / 2;            } break;            case JTabbedPane.RIGHT: {                retval.x = getWidth() - 1 - s_glassPane.getGhostWidth();                retval.y -= s_glassPane.getGhostHeight() / 2;            } break;        } // switch        retval = SwingUtilities.convertPoint(DnDTabbedPane.this,                retval, s_glassPane);        return retval;    }    class CDropTargetListener implements DropTargetListener {        public void dragEnter(DropTargetDragEvent e) {            // System.out.println(\""DropTarget.dragEnter: \"" + DnDTabbedPane.this);            if (isDragAcceptable(e)) {                e.acceptDrag(e.getDropAction());            } else {                e.rejectDrag();            } // if        }        public void dragExit(DropTargetEvent e) {            // System.out.println(\""DropTarget.dragExit: \"" + DnDTabbedPane.this);            m_isDrawRect = false;        }        public void dropActionChanged(DropTargetDragEvent e) {        }        public void dragOver(final DropTargetDragEvent e) {            TabTransferData data = getTabTransferData(e);            if (getTabPlacement() == JTabbedPane.TOP                    || getTabPlacement() == JTabbedPane.BOTTOM) {                initTargetLeftRightLine(getTargetTabIndex(e.getLocation()), data);            } else {                initTargetTopBottomLine(getTargetTabIndex(e.getLocation()), data);            } // if-else            repaint();            if (hasGhost()) {                s_glassPane.setPoint(buildGhostLocation(e.getLocation()));                s_glassPane.repaint();            }        }        public void drop(DropTargetDropEvent a_event) {            // System.out.println(\""DropTarget.drop: \"" + DnDTabbedPane.this);            if (isDropAcceptable(a_event)) {                convertTab(getTabTransferData(a_event),                    getTargetTabIndex(a_event.getLocation()));                a_event.dropComplete(true);            } else {                a_event.dropComplete(false);            } // if-else            m_isDrawRect = false;            repaint();        }        public boolean isDragAcceptable(DropTargetDragEvent e) {            Transferable t = e.getTransferable();            if (t == null) {                return false;            } // if            DataFlavor[] flavor = e.getCurrentDataFlavors();            if (!t.isDataFlavorSupported(flavor[0])) {                return false;            } // if            TabTransferData data = getTabTransferData(e);            if (DnDTabbedPane.this == data.getTabbedPane()                    &amp;&amp; data.getTabIndex() >= 0) {                return true;            } // if            if (DnDTabbedPane.this != data.getTabbedPane()) {                if (m_acceptor != null) {                    return m_acceptor.isDropAcceptable(data.getTabbedPane(), data.getTabIndex());                } // if            } // if            return false;        }        public boolean isDropAcceptable(DropTargetDropEvent e) {            Transferable t = e.getTransferable();            if (t == null) {                return false;            } // if            DataFlavor[] flavor = e.getCurrentDataFlavors();            if (!t.isDataFlavorSupported(flavor[0])) {                return false;            } // if            TabTransferData data = getTabTransferData(e);            if (DnDTabbedPane.this == data.getTabbedPane()                    &amp;&amp; data.getTabIndex() >= 0) {                return true;            } // if            if (DnDTabbedPane.this != data.getTabbedPane()) {                if (m_acceptor != null) {                    return m_acceptor.isDropAcceptable(data.getTabbedPane(), data.getTabIndex());                } // if            } // if            return false;        }    }    private boolean m_hasGhost = true;    public void setPaintGhost(boolean flag) {        m_hasGhost = flag;    }    public boolean hasGhost() {        return m_hasGhost;    }    /**     * returns potential index for drop.     * @param a_point point given in the drop site component's coordinate     * @return returns potential index for drop.     */    private int getTargetTabIndex(Point a_point) {        boolean isTopOrBottom = getTabPlacement() == JTabbedPane.TOP                || getTabPlacement() == JTabbedPane.BOTTOM;        // if the pane is empty, the target index is always zero.        if (getTabCount() == 0) {            return 0;        } // if        for (int i = 0; i < getTabCount(); i++) {            Rectangle r = getBoundsAt(i);            if (isTopOrBottom) {                r.setRect(r.x - r.width / 2, r.y, r.width, r.height);            } else {                r.setRect(r.x, r.y - r.height / 2, r.width, r.height);            } // if-else            if (r.contains(a_point)) {                return i;            } // if        } // for        Rectangle r = getBoundsAt(getTabCount() - 1);        if (isTopOrBottom) {            int x = r.x + r.width / 2;            r.setRect(x, r.y, getWidth() - x, r.height);        } else {            int y = r.y + r.height / 2;            r.setRect(r.x, y, r.width, getHeight() - y);        } // if-else        return r.contains(a_point) ? getTabCount() : -1;    }    private void convertTab(TabTransferData a_data, int a_targetIndex) {        DnDTabbedPane source = a_data.getTabbedPane();        int sourceIndex = a_data.getTabIndex();        if (sourceIndex < 0) {            return;        } // if        Component cmp = source.getComponentAt(sourceIndex);        String str = source.getTitleAt(sourceIndex);        if (this != source) {            source.remove(sourceIndex);            if (a_targetIndex == getTabCount()) {                addTab(str, cmp);            } else {                if (a_targetIndex < 0) {                    a_targetIndex = 0;                } // if                insertTab(str, null, cmp, null, a_targetIndex);            } // if            setSelectedComponent(cmp);            // System.out.println(\""press=\""+sourceIndex+\"" next=\""+a_targetIndex);            return;        } // if        if (a_targetIndex < 0 || sourceIndex == a_targetIndex) {            //System.out.println(\""press=\""+prev+\"" next=\""+next);            return;        } // if        if (a_targetIndex == getTabCount()) {            //System.out.println(\""last: press=\""+prev+\"" next=\""+next);            source.remove(sourceIndex);            addTab(str, cmp);            setSelectedIndex(getTabCount() - 1);        } else if (sourceIndex > a_targetIndex) {            //System.out.println(\""   >: press=\""+prev+\"" next=\""+next);            source.remove(sourceIndex);            insertTab(str, null, cmp, null, a_targetIndex);            setSelectedIndex(a_targetIndex);        } else {            //System.out.println(\""   <: press=\""+prev+\"" next=\""+next);            source.remove(sourceIndex);            insertTab(str, null, cmp, null, a_targetIndex - 1);            setSelectedIndex(a_targetIndex - 1);        }    }    private void initTargetLeftRightLine(int next, TabTransferData a_data) {                if (next < 0) {            m_lineRect.setRect(0, 0, 0, 0);            m_isDrawRect = false;            return;        } // if        if ((a_data.getTabbedPane() == this)                &amp;&amp; (a_data.getTabIndex() == next                || next - a_data.getTabIndex() == 1)) {            m_lineRect.setRect(0, 0, 0, 0);            m_isDrawRect = false;        } else if (getTabCount() == 0) {            m_lineRect.setRect(0, 0, 0, 0);            m_isDrawRect = false;            return;        } else if (next == 0) {            Rectangle rect = getBoundsAt(0);            m_lineRect.setRect(-LINEWIDTH / 2, rect.y, LINEWIDTH, rect.height);            m_isDrawRect = true;        } else if (next == getTabCount()) {            Rectangle rect = getBoundsAt(getTabCount() - 1);            m_lineRect.setRect(rect.x + rect.width - LINEWIDTH / 2, rect.y,                    LINEWIDTH, rect.height);            m_isDrawRect = true;        } else {            Rectangle rect = getBoundsAt(next - 1);            m_lineRect.setRect(rect.x + rect.width - LINEWIDTH / 2, rect.y,                    LINEWIDTH, rect.height);            m_isDrawRect = true;        }    }    private void initTargetTopBottomLine(int next, TabTransferData a_data) {        if (next < 0) {            m_lineRect.setRect(0, 0, 0, 0);            m_isDrawRect = false;            return;        } // if        if ((a_data.getTabbedPane() == this)                &amp;&amp; (a_data.getTabIndex() == next                || next - a_data.getTabIndex() == 1)) {            m_lineRect.setRect(0, 0, 0, 0);            m_isDrawRect = false;        } else if (getTabCount() == 0) {            m_lineRect.setRect(0, 0, 0, 0);            m_isDrawRect = false;            return;        } else if (next == getTabCount()) {            Rectangle rect = getBoundsAt(getTabCount() - 1);            m_lineRect.setRect(rect.x, rect.y + rect.height - LINEWIDTH / 2,                    rect.width, LINEWIDTH);            m_isDrawRect = true;        } else if (next == 0) {            Rectangle rect = getBoundsAt(0);            m_lineRect.setRect(rect.x, -LINEWIDTH / 2, rect.width, LINEWIDTH);            m_isDrawRect = true;        } else {            Rectangle rect = getBoundsAt(next - 1);            m_lineRect.setRect(rect.x, rect.y + rect.height - LINEWIDTH / 2,                    rect.width, LINEWIDTH);            m_isDrawRect = true;        }    }    private void initGlassPane(Component c, Point tabPt, int a_tabIndex) {        //Point p = (Point) pt.clone();        getRootPane().setGlassPane(s_glassPane);        if (hasGhost()) {            Rectangle rect = getBoundsAt(a_tabIndex);            BufferedImage image = new BufferedImage(c.getWidth(),                    c.getHeight(), BufferedImage.TYPE_INT_ARGB);            Graphics g = image.getGraphics();            c.paint(g);            image = image.getSubimage(rect.x, rect.y, rect.width, rect.height);            s_glassPane.setImage(image);                    } // if        s_glassPane.setPoint(buildGhostLocation(tabPt));        s_glassPane.setVisible(true);    }    private Rectangle getTabAreaBound() {        Rectangle lastTab = getUI().getTabBounds(this, getTabCount() - 1);        return new Rectangle(0, 0, getWidth(), lastTab.y + lastTab.height);    }    public void paintComponent(Graphics g) {        super.paintComponent(g);        if (m_isDrawRect) {            Graphics2D g2 = (Graphics2D) g;            g2.setPaint(m_lineColor);            g2.fill(m_lineRect);        } // if    }    public interface TabAcceptor {        boolean isDropAcceptable(DnDTabbedPane a_component, int a_index);    }}class GhostGlassPane extends JPanel {    public static final long serialVersionUID = 1L;    private final AlphaComposite m_composite;    private Point m_location = new Point(0, 0);    private BufferedImage m_draggingGhost = null;    public GhostGlassPane() {        setOpaque(false);        m_composite = AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.7f);    }    public void setImage(BufferedImage draggingGhost) {        m_draggingGhost = draggingGhost;    }    public void setPoint(Point a_location) {        m_location.x = a_location.x;        m_location.y = a_location.y;    }    public int getGhostWidth() {        if (m_draggingGhost == null) {            return 0;        } // if        return m_draggingGhost.getWidth(this);    }    public int getGhostHeight() {        if (m_draggingGhost == null) {            return 0;        } // if        return m_draggingGhost.getHeight(this);    }    public void paintComponent(Graphics g) {        if (m_draggingGhost == null) {            return;        } // if         Graphics2D g2 = (Graphics2D) g;        g2.setComposite(m_composite);        g2.drawImage(m_draggingGhost, (int) m_location.getX(), (int) m_location.getY(), null);    }}""]",Graphical User Interface Programming,"{""Event Handling"": 1.6}"
66455,86170,Is there an easy way to change the behavior of a Java/Swing control when it gets focus?,"For most GUI's I've used, when a control that contains text gets the focus, the entire contents of the control are selected.  This means if you just start typing, you completely replace the former contents.Example:  You have spin control that is initialized with the value zero.   You tab to it and type ""1"" The value in the control is now 1.With Swing, this doesn't happen.  The text in the control is not selected and the carat appears at one end or another of the existing text.  Continuing the above example:With a Swing JSpinner, when you tab to the spin control, the carat is at the left.  You type ""1"" and the value in the control is now 10.This drives me, (and my users) up a wall, and I'd like to change it.  Even more important, I'd like to change it globally so the new behavior applies to JTextField, JPasswordField, JFormattedTextField, JTextArea, JComboBox, JSpinner, and so on.   The only way I have found to do this to add a FocusAdapter to each control and override the focusGained() method to Do The Right Thing[tm].There's gotta be an easier, and less fragile way.  Please?EDIT: One additional piece of information for this particular case.  The form I am working with was generated using Idea's form designer.  That means I normally don't actually write the code to create the components.  It is possible to tell Idea that you want to create them yourself, but that's a hassle I'd like to avoid.Motto:  All good programmers are basically lazy.",[],<java><user-interface><swing>,86170,After reading the replies so far (Thanks!) I passed the outermost JPanel to the following method: --CODE--It works!,"[""void addTextFocusSelect(JComponent component){    if(component instanceof JTextComponent){        component.addFocusListener(new FocusAdapter() {                @Override                public void focusGained(FocusEvent event) {                    super.focusGained(event);                    JTextComponent component = (JTextComponent)event.getComponent();                    // a trick I found on JavaRanch.com                    // Without this, some components don't honor selectAll                    component.setText(component.getText());                    component.selectAll();                }            });    }    else    {        for(Component child: component.getComponents()){            if(child instanceof JComponent){                addTextFocusSelect((JComponent) child);            }        }    }}""]",Graphical User Interface Programming,"{""Event Handling"": 1.65}"
73000,93914,Modal dialogs in IE gets hidden behind IE if user clicks on IE pane,"I have to write an applet that brings up a password dialog. The problem is that dialog is set to be always on top but when user clicks on IE window dialog gets hidden behind IE window nevertheless. And since dialog is modal and holds all IE threads IE pane does not refresh and dialog window is still painted on top of IE (but not refreshed). This behaviour confuses users (they see dialog on top of IE but it looks like it has hanged since it is not refreshe). So I need a way to keep that dialog on top of everything. But any other solution to this problem would be nice. Here's the code:--CODE--Resolution: As @shemnon noted I should make a window instead of (null, Frame, Applet) parent of modal dialog. So good way to initlialize parent was: --CODE--","[""        PassDialog dialog = new PassDialog(parent);        /* do some non gui related initialization */        dialog.pack();        dialog.setLocationRelativeTo(null);        dialog.setAlwaysOnTop(true);        dialog.setVisible(true);"", ""parent = javax.swing.SwingUtilities.getWindowAncestor(theApplet);""]",<java><internet-explorer><swing><applet><modal-dialog>,93914,What argument are you using for the parent?You may have better luck if you use the parent of the Applet.--CODE--Using the getWindowAncestor will skip the applet parents (getRoot(component) will return applets).  In at least some versions of Java there was a Frame that was equivalent to the IE window.  YMMV.,"[""javax.swing.SwingUtilities.getWindowAncestor(theApplet)""]",User Interface Components with Swing,"{""Dialog Boxes"": 1.45}"
81786,81803,Can I add new methods to the String class in Java?,"I'd like to add a method AddDefaultNamespace() to the String class in Java so that I can type ""myString"".AddDefaultNamespace() instead of DEFAULTNAMESPACE + ""myString"", to obtain something like ""MyDefaultNameSpace.myString"". I don't want to add another derived class either (PrefixedString for example).Maybe the approach is not good for you but I personally hate using +. But, anyway, is it possible to add new methods to the String class in Java?Thanks and regards.",[],<java><string>,81803,String is a final class which means it cannot be extended to work on your own implementation.,[],Fundamental Programming Structures in Java,"{""Strings"": 1.9}"
84285,,calling thread.start() within its own constructor,is it legal for a thread to call this.start() inside its own constructor? and if so what potential issues can this cause? I understand that the object wont have fully initialized until the constructor has run to completion but aside from this are there any other issues?  ,[],<java><multithreading>,84937,"For memory-safety reasons, you shouldn't expose a reference to an object or that object's fields to another thread from within its constructor.  Assuming that your custom thread has instance variables, by starting it from within the constructor, you are guaranteed to violate the Java Memory Model guidelines.  See [Brian Goetz's Safe Construction Techniques](""http://www.ibm.com/developerworks/java/library/j-jtp0618.html"") for more info.",[],Concurrency,"{""Thread Properties"": 0.85, ""Tasks and Thread Pools"": 0.65, ""What Are Threads?"": 0.6, ""Thread States"": 0.55}"
86780,86832,How to check if a String contains another String in a case insensitive manner in Java?,"Say I have two strings,--CODE--I want to perform a check returning that s2 is contained within s1. I can do this with:--CODE--I am pretty sure that contains() is case sensitive, however I can't determine this for sure from reading the documentation. If it is then I suppose my best method would be something like:--CODE--All this aside, is there another (possibly better) way to accomplish this without caring about case-sensitivity?","[""String s1 = \""AbBaCca\"";String s2 = \""bac\"";"", ""return s1.contains(s2);"", ""return s1.toLowerCase().contains(s2.toLowerCase());""]",<java><string>,86832,"Yes, contains is case sensitive.  You can use java.util.regex.Pattern with the CASE_INSENSITIVE flag for case insensitive matching:--CODE--EDIT: If s2 contains regex special characters (of which there are many) it's important to quote it first.  I've corrected my answer since it is the first one people will see, but vote up Matt Quail's since he pointed this out.","[""Pattern.compile(Pattern.quote(wantedStr), Pattern.CASE_INSENSITIVE).matcher(source).find();""]",Fundamental Programming Structures in Java,"{""Strings"": 1.8}"
88036,88097,Does the unmodifiable wrapper for java collections make them thread safe?,I need to make an ArrayList of ArrayLists thread safe. I also cannot have the client making changes to the collection. Will the unmodifiable wrapper make it thread safe or do I need two wrappers on the collection?,[],<java><multithreading><collections><unmodifiable>,88097,"It depends. The wrapper will only prevent changes to the collection it wraps, not to the objects in the collection. If you have an ArrayList of ArrayLists, the global List as well as each of its element Lists need to be wrapped separately, and you may also have to do something for the contents of those lists. Finally, you have to make sure that the original list objects are not changed, since the wrapper only prevents changes through the wrapper reference, not to the original object.You do NOT need the synchronized wrapper in this case.",[],Concurrency,"{""Thread-Safe Collections"": 1.5}"
88434,88456,How can I detect if caps lock is toggled in Swing?,I'm trying to build a better username/password field for my workplace and would like to be able to complain when they have their caps lock on.Is this possible?  And if so I'd like to have it detected before the client types their first letter.Is there a non-platform specific way to do this?,[],<java><swing>,88456,"Try this, from java.awt.Toolkit, returns a boolean:--CODE--","[""Toolkit.getDefaultToolkit().getLockingKeyState(KeyEvent.VK_CAPS_LOCK)""]",Graphical User Interface Programming,"{""Event Handling"": 1.6}"
88838,88863,How to convert Strings to and from UTF8 byte arrays in Java,"In Java, I have a String and I want to encode it as a byte array (in UTF8, or some other encoding). Alternately, I have a byte array (in some known encoding) and I want to convert it into a Java String. How do I do these conversions?",[],<java><string><encoding><character-encoding>,88863,"Convert from String to byte[]:--CODE--Convert from byte[] to String:--CODE--You should, of course, use the correct encoding name. My examples used US-ASCII and UTF-8, the two most common encodings.","[""String s = \""some text here\"";byte[] b = s.getBytes(StandardCharsets.UTF_8);"", ""byte[] b = {(byte) 99, (byte)97, (byte)116};String s = new String(b, StandardCharsets.US_ASCII);""]",Fundamental Programming Structures in Java,"{""Strings"": 1.45}"
93091,93216,Why can't strings be mutable in Java and .NET?,Why is it that they decided to make String immutable in Java and .NET (and some other languages)? Why didn't they make it mutable?,[],<java><.net><string><mutable>,93216,"According to [Effective Java](""http://www.oracle.com/technetwork/java/effectivejava-136174.html""), chapter 4, page 73, 2nd edition:  ""There are many good reasons for this: Immutable classes are easier to  design, implement, and use than mutable classes. They are less prone  to error and are more secure.    [...]    ""Immutable objects are simple. An immutable object can be in  exactly one state, the state in which it was created. If you make sure  that all constructors establish class invariants, then it is  guaranteed that these invariants will remain true for all time, with  no effort on your part.    [...]    Immutable objects are inherently thread-safe; they require no synchronization. They cannot be corrupted by multiple threads  accessing them concurrently. This is far and away the easiest approach  to achieving thread safety. In fact, no thread can ever observe any  effect of another thread on an immutable object. Therefore,  immutable objects can be shared freely    [...]Other small points from the same chapter:  Not only can you share immutable objects, but you can share their internals.    [...]    Immutable objects make great building blocks for other objects, whether mutable or immutable.    [...]    The only real disadvantage of immutable classes is that they require a separate object for each distinct value.",[],Fundamental Programming Structures in Java,"{""Strings"": 1.9}"
95767,97176,How can I catch AWT thread exceptions in Java?,We'd like a trace in our application logs of these exceptions - by default Java just outputs them to the console.,[],<java><swing><exception-handling><awt>,97176,There is a distinction between uncaught exceptions in the EDT and outside the EDT.Another question has a solution for both but if you want just the EDT portion chewed up...--CODE--,"[""class AWTExceptionHandler {  public void handle(Throwable t) {    try {      // insert your exception handling code here      // or do nothing to make it go away    } catch (Throwable t) {      // don't let the exception get thrown out, will cause infinite looping!    }  }  public static void registerExceptionHandler() {    System.setProperty('sun.awt.exception.handler', AWTExceptionHandler.class.getName())  }}""]","Exceptions, Assertions, and Logging","{""Catching Exceptions"": 0.9}"
100707,100751,How much resources do sleeping and waiting threads consume,"I'm wondering, how expensive it is to have many threads in waiting state in java 1.6 x64.To be more specific, I'm writing application which runs across many computers and sends/receives data from one to another. I feel more comfortable to have separate thread for each connected machine and task, like 1) sending data, 2) receiving data, 3) reestablishing connection when it is dropped. So, given that there are N nodes in cluster, each machine is going to have 3 threads for each of N-1 neighbours. Typically there will be 12 machines, which comes to 33 communication threads.Most of those threads will be sleeping most of the time, so for optimization purposes I could reduce number of threads and give more job to each of them. Like, for example. reestablishing connection is responsibility of receiving thread. Or sending to all connected machines is done by single thread.So is there any significant perfomance impact on having many sleeping threads?",[],<java><multithreading><sleep><wait>,100751,"For most cases, the resources consumed by a sleeping thread will be its stack space. Using a 2-threads-per-connection-model, which I think is similar to what you're describing, is known to cause great scalability issues for this very reason when the number of connections grow large.I've been in this situation myself, and when the number of connections grew above 500 connections (about a thousand threads), you tend to get into lots of cases where you get OutOfMemoryError, since the threads stack space usage exceeds the maximum amount of memory for a single process. At least in our case, which was in a Java on 32 bit Windows world. You can tune things and get a bit further, I guess, but in the end it's just not very scalable since you waste lots of memory.If you need a large number of connections, Java NIO (new IO or whatever) is the way to go, making it possible to handle lots of connections in the same thread.Having said that, you shouldn't encounter much of a problem with under a 100 threads on a reasonably modern server, even if it's probably still a waste of resources.",[],Concurrency,"{""Thread Properties"": 0.75, ""Thread States"": 0.65}"
104184,41990379,Is it safe to get values from a java.util.HashMap from multiple threads (no modification)?,"There is a case where a map will be constructed, and once it is initialized, it will never be modified again.  It will however, be accessed (via get(key) only) from multiple threads.  Is it safe to use a java.util.HashMap in this way?(Currently, I'm happily using a java.util.concurrent.ConcurrentHashMap, and have no measured need to improve performance, but am simply curious if a simple HashMap would suffice.  Hence, this question is not ""Which one should I use?"" nor is it a performance question.  Rather, the question is ""Would it be safe?"")",[],<java><multithreading><concurrency><hashmap>,41990379,"Your idiom is safe if and only if the reference to the HashMap is safely published. Rather than anything relating the internals of HashMap itself, safe publication deals with how the constructing thread makes the reference to the map visible to other threads.Basically, the only possible race here is between the construction of the HashMap and any reading threads that may access it before it is fully constructed. Most of the discussion is about what happens to the state of the map object, but this is irrelevant since you never modify it - so the only interesting part is how the HashMap reference is published. For example, imagine you publish the map like this:--CODE--... and at some point setMap() is called with a map, and other threads are using SomeClass.MAP to access the map, and check for null like this:--CODE--This is not safe even though it probably appears as though it is. The problem is that there is no [happens-before](""https://docs.oracle.com/javase/tutorial/essential/concurrency/memconsist.html"") relationship between the set of SomeObject.MAP and the subsequent read on another thread, so the reading thread is free to see a partially constructed map. This can pretty much do anything and even in practice it does things like [put the reading thread into an infinite loop](""http://mailinator.blogspot.com/2009/06/beautiful-race-condition.html"").To safely publish the map, you need to establish a happens-before relationship between the writing of the reference to the HashMap (i.e., the publication) and the subsequent readers of that reference (i.e., the consumption). Conveniently, there are only a few easy-to-remember ways to [[1]:Exchange the reference through a properly locked field (JLS 17.4.5](""https://stackoverflow.com/q/5458848/149138"">accomplish))Use static initializer to do the initializing stores ([JLS 12.4](""http://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.4""))Exchange the reference via a volatile field ([JLS 17.4.5](""http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5"")), or as the consequence of this rule, via the AtomicX classesInitialize the value into a final field ([JLS 17.5](""http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5"")).The ones most interesting for your scenario are (2), (3) and (4). In particular, (3) applies directly to the code I have above: if you transform the declaration of MAP to:--CODE--then everything is kosher: readers who see a non-null value necessarily have a happens-before relationship with the store to MAP and hence see all the stores associated with the map initialization.The other methods change the semantics of your method, since both (2) (using the static initalizer) and (4) (using final) imply that you cannot set MAP dynamically at runtime. If you don't need to do that, then just declare MAP as a static final HashMap and you are guaranteed safe publication.In practice, the rules are simple for safe access to ""never-modified objects"":If you are publishing an object which is not inherently immutable (as in all fields declared final) and:You already can create the object that will be assigned at the moment of declarationa: just use a final field (including static final for static members).You want to assign the object later, after the reference is already visible: use a volatile fieldb.That's it!In practice, it is very efficient. The use of a static final field, for example, allows the JVM to assume the value is unchanged for the life of the program and optimize it heavily. The use of a final member field allows most architectures to read the field in a way equivalent to a normal field read and doesn't inhibit further optimizationsc. Finally, the use of volatile does have some impact: no hardware barrier is needed on many architectures (such as x86, specifically those that don't allow reads to pass reads), but some optimization and reordering may not occur at compile time - but this effect is generally small. In exchange, you actually get more than what you asked for - not only can you safely publish one HashMap, you can store as many more not-modified HashMaps as you want to the same reference and be assured that all readers will see a safely published map.For more gory details, refer to [Shipilev](""https://shipilev.net/blog/2014/safe-public-construction/"") or [this FAQ by Manson and Goetz](""https://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html#finalRight"").[1] Directly quoting from [shipilev](""https://shipilev.net/blog/2014/safe-public-construction/"").a That sounds complicated, but what I mean is that you can assign the reference at construction time - either at the declaration point or in the constructor (member fields) or static initializer (static fields).b Optionally, you can use a synchronized method to get/set, or an AtomicReference or something, but we're talking about the minimum work you can do.c Some architectures with very weak memory models (I'm looking at you, Alpha) may require some type of read barrier before a final read - but these are very rare today.","[""class SomeClass {   public static HashMap<Object, Object> MAP;   public synchronized static setMap(HashMap<Object, Object> m) {     MAP = m;   }}"", ""HashMap<Object,Object> map = SomeClass.MAP;if (map != null) {  .. use the map} else {  .. some default behavior}"", ""public static volatile HashMap<Object, Object> MAP;""]",Concurrency,"{""Thread-Safe Collections"": 1.6, ""Synchronization"": 0.75}"
104373,453629,Mac OS X Java Swing Buttons are Disabled for no aparent reason,I wrote an application in Java and when it runs on one customer's computer running OS X The Save and Export buttons are disabled. (Everything else works in the application.)Both of these buttons open up a standard save file dialog.Any ideas?,[],<java><macos><swing><button>,453629,This was caused by misinformation recieved from the customer.Turns out the customer was trying to save to a location where files can't be saved on his/her hard drive.,[],User Interface Components with Swing,"{""Choice Components"": 0.9, ""Swing and the Model-View-Controller Design Pattern"": 0.6}"
104599,104709,Sort on a string that may contain a number,"I need to write a Java Comparator class that compares Strings, however with one twist.  If the two strings it is comparing are the same at the beginning and end of the string are the same, and the middle part that differs is an integer, then compare based on the numeric values of those integers.  For example, I want the following strings to end up in order they're shown:aaabbb 3 cccbbb 12 cccccc 11dddeee 3 ddd jpeg2000 eeeeee 12 ddd jpeg2000 eeeAs you can see, there might be other integers in the string, so I can't just use regular expressions to break out any integer.  I'm thinking of just walking the strings from the beginning until I find a bit that doesn't match, then walking in from the end until I find a bit that doesn't match, and then comparing the bit in the middle to the regular expression ""[0-9]+"", and if it compares, then doing a numeric comparison, otherwise doing a lexical comparison.Is there a better way?Update I don't think I can guarantee that the other numbers in the string, the ones that may match, don't have spaces around them, or that the ones that differ do have spaces.",[],<java><algorithm><string><sorting><comparison>,104709,"[The Alphanum Algorithm](""http://www.davekoelle.com/alphanum.html"")From the website""People sort strings with numbers differently than software. Most sorting algorithms compare ASCII values, which produces an ordering that is inconsistent with human logic. Here's how to fix it.""Edit: Here's a link to the [Java Comparator Implementation](""http://www.davekoelle.com/files/AlphanumComparator.java"") from that site.",[],Fundamental Programming Structures in Java,"{""Strings"": 1.55}"
110016,110042,Multiple column sort in JTable,I know that JTable can sort by a single column. But is it possible to allow for multiple column sort or do I need to write the code myself?,[],<java><swing><jtable>,110042,"You can sort by multiple columns by specifying more than one sort key when calling setSortKeys in the [RowSorter](""http://java.sun.com/javase/6/docs/api/javax/swing/RowSorter.html"") you're using.",[],User Interface Components with Swing,"{""Choice Components"": 0.6}"
116957,122082,Which Layout Manager do you use?,"What java GUI layout manager does everyone use?  Lately, I have been using [MigLayout](""http://www.miglayout.com/""), which has some powerful component controls.  Just wanted to see what other developers are using other than the standard JDK ones.",[],<java><swing><layout>,122082,"[MiGLayout](""http://www.miglayout.com/"") is the GUI layout manager which is widely used by Java Developers.",[],User Interface Components with Swing,"{""Introduction to Layout Management"": 1.6, ""Sophisticated Layout Management"": 0.8}"
117690,117711,Wait until any of Future<T> is done,"I have few asynchronous tasks running and I need to wait until at least one of them is finished (in the future probably I'll need to wait util M out of N tasks are finished).Currently they are presented as Future, so I need something like--CODE--Is there anything like this? Or anything similar, not necessary for Future. Currently I loop through collection of futures, check if one is finished, then sleep for some time and check again. This looks like not the best solution, because if I sleep for long period then unwanted delay is added, if I sleep for short period then it can affect performance.I could try using --CODE--and decrease countdown when task is complete and do --CODE--, but I found it possible only if I control Future creation. It is possible, but requires system redesign, because currently logic of tasks creation (sending Callable to ExecutorService) is separated from decision to wait for which Future. I could also override --CODE--and create custom implementation of RunnableFuture with ability to attach listener to be notified when task is finished, then attach such listener to needed tasks and use CountDownLatch, but that means I have to override newTaskFor for every ExecutorService I use - and potentially there will be implementation which do not extend AbstractExecutorService. I could also try wrapping given ExecutorService for same purpose, but then I have to decorate all methods producing Futures.All these solutions may work but seem very unnatural. It looks like I'm missing something simple, like --CODE--in c#. Are there any well known solutions for such kind of problem?UPDATE:Originally I did not have access to Future creation at all, so there were no elegant solution. After redesigning system I got access to Future creation and was able to add countDownLatch.countdown() to execution process, then I can countDownLatch.await() and everything works fine.Thanks for other answers, I did not know about ExecutorCompletionService and it indeed can be helpful in similar tasks, but in this particular case it could not be used because some Futures are created without any executor - actual task is sent to another server via network, completes remotely and completion notification is received.","[""/** * Blocks current thread until one of specified futures is done and returns it.  */public static <T> Future<T> waitForAny(Collection<Future<T>> futures)         throws AllFuturesFailedException"", ""new CountDownLatch(1)"", ""countdown.await()"", ""<T> RunnableFuture<T> AbstractExecutorService.newTaskFor(Callable<T> callable)"", ""WaitHandle.WaitAny(WaitHandle[] waitHandles)""]",<java><multithreading><concurrency>,117711,"As far as I know, Java has no analogous structure to the WaitHandle.WaitAny method.It seems to me that this could be achieved through a ""WaitableFuture"" decorator:--CODE--Though this would only work if it can be inserted before the execution code, since otherwise the execution code would not have the new doTask() method. But I really see no way of doing this without polling if you cannot somehow gain control of the Future object before execution.Or if the future always runs in its own thread, and you can somehow get that thread. Then you could spawn a new thread to join each other thread, then handle the waiting mechanism after the join returns... This would be really ugly and would induce a lot of overhead though. And if some Future objects don't finish, you could have a lot of blocked threads depending on dead threads. If you're not careful, this could leak memory and system resources.--CODE--","[""public WaitableFuture<T>    extends Future<T>{    private CountDownLatch countDownLatch;    WaitableFuture(CountDownLatch countDownLatch)    {        super();        this.countDownLatch = countDownLatch;    }    void doTask()    {        super.doTask();        this.countDownLatch.countDown();    }}"", ""/** * Extremely ugly way of implementing WaitHandle.WaitAny for Thread.Join(). */public static joinAny(Collection<Thread> threads, int numberToWaitFor){    CountDownLatch countDownLatch = new CountDownLatch(numberToWaitFor);    foreach(Thread thread in threads)    {        (new Thread(new JoinThreadHelper(thread, countDownLatch))).start();    }    countDownLatch.await();}class JoinThreadHelper    implements Runnable{    Thread thread;    CountDownLatch countDownLatch;    JoinThreadHelper(Thread thread, CountDownLatch countDownLatch)    {        this.thread = thread;        this.countDownLatch = countDownLatch;    }    void run()    {        this.thread.join();        this.countDownLatch.countDown();    }}""]",Concurrency,"{""Tasks and Thread Pools"": 1.55, ""Asynchronous Computations"": 0.7}"
121715,121777,Dynamically added JTable not displaying,"Java Newbie here. I have a JFrame that I added to my netbeans project, and I've added the following method to it, which creates a JTable. Problem is, for some reason when I call this method, the JTable isn't displayed. Any suggestions?--CODE--The method is called in the following context:--CODE--... where DBReader.outMatchesTable() is defined as--CODE--My guess is I'm overlooking something, either about the swing classes I'm using, or about Java. Any ideas?","[""public void showFromVectors(Vector colNames, Vector data) {         jt = new javax.swing.JTable(data, colNames);    sp = new javax.swing.JScrollPane(jt);    //NB: \""this\"" refers to my class DBGridForm, which extends JFrame    this.add(sp,java.awt.BorderLayout.CENTER);    this.setSize(640,480);}"", ""DBGridForm gf = new DBGridForm(); //DBGridForm extends JFrameDBReader.outMatchesTable(gf);gf.setVisible(true);"", ""static public void outMatchesTable(DBGridForm gf) {    DBReader ddb = new DBReader();    ddb.readMatchesTable(null);    gf.showFromVectors(ddb.lastRsltColNames, ddb.lastRsltData);}""]",<java><swing><netbeans><jtable>,121777,"""this"" in your context is unclear. Is it inside an applet? a JFrame?You may be having a layout issue, make sure you've called setLayout on your class with a new borderlayout.In a swing application, you'd want to use getRootContentPane().add() instead of a raw add(), depending on the version.Java tutorial on adding top-level content: [http://java.sun.com/docs/books/tutorial/uiswing/components/toplevel.html](""http://java.sun.com/docs/books/tutorial/uiswing/components/toplevel.html"")",[],Graphical User Interface Programming,"{""Displaying Information in a Component"": 1.4}"
121762,121853,Sleep a thread until an event is attended in another thread,"I have two threads in an Android application, one is the view thread, and the other is the worker thread. What I want to do is, sleep the worker thread until the view thread terminates the handling of the onDraw method.How i can do this? is there any wait for the signal or something?",[],<java><android><multithreading>,121853,"Share a java.lang.Object between the two threads, whose sole purpose is to tell the worker thread when it can continue its work.  Whenever the worker thread reaches a point where it should sleep, it does this:--CODE--When the view thread finishes its onDraw work, it calls this:--CODE--Note the requirement that the view thread owns the monitor on the object.  In your case, this should be fairly simple to enforce with a small sync block:--CODE--Consult the javadoc for java.lang.Object on these methods (and notifyAll, just in case); they're very well written.  ","[""stick.wait();"", ""stick.notify();"", ""void onDraw() {  ...  synchronized (stick) {    stick.notify();  }} // end onDraw()""]",Concurrency,"{""Tasks and Thread Pools"": 0.85, ""Synchronization"": 0.8}"
128016,128040,"Java, Swing: how do I set the maximum width of a JTextField?","I'm writing a custom file selection component. In my UI, first the user clicks a button, which pops a JFileChooser; when it is closed, the absolute path of the selected file is written to a JTextField.The problem is, absolute paths are usually long, which causes the text field to enlarge, making its container too wide.I've tried this, but it didn't do anything, the text field is still too wide:--CODE--Currently, when it is empty, it is already 400px long, because of GridBagConstraints attached to it.I'd like it to be like text fields in HTML pages, which have a fixed size and do not enlarge when the input is too long.So, how do I set the max size for a JTextField ?","[""fileNameTextField.setMaximumSize(new java.awt.Dimension(450, 2147483647));""]",<java><swing><jtextfield>,128040,"It may depend on the layout manager your text field is in.  Some layout managers expand and some do not.  Some expand only in some cases, others always.  I'm assuming you're doing--CODE--If so, for most reasonable layouts, the field should not change size (at least, it shouldn't grow).  Often layout managers behave badly when put into JScrollPanes.In my experience, trying to control the sizes via setMaximumSize and setPreferredWidth and so on are precarious at best.  Swing decided on its own with the layout manager and there's little you can do about it.All that being said, I have no had the problem you are experiencing, which leads me to believe that some judicious use of a layout manager will solve the problem.","[""filedNameTextField = new JTextField(80); // 80 == columns""]",User Interface Components with Swing,"{""Text Input"": 1.8}"
130506,131524,How many threads should I use in my Java program?,"I recently inherited a small Java program that takes information from a large database, does some processing and produces a detailed image regarding the information. The original author wrote the code using a single thread, then later modified it to allow it to use multiple threads. In the code he defines a constant;--CODE--Which then sets the number of threads that are used to create the image.I understand his reasoning that the number of threads cannot be greater than the number of available processors, so set it the the amount to get the full potential out of the processor(s). Is this correct? or is there a better way to utilize the full potential of the processor(s)?EDIT: To give some more clarification, The specific algorithm that is being threaded scales to the resolution of the picture being created, (1 thread per pixel). That is obviously not the best solution though. The work that this algorithm does is what takes all the time, and is wholly mathematical operations, there are no locks or other factors that will cause any given thread to sleep. I just want to maximize the programs CPU utilization to decrease the time to completion.","[""//  number of threadspublic static final int THREADS =  Runtime.getRuntime().availableProcessors();""]",<java><multithreading>,131524,"Threads are fine, but as others have noted, you have to be highly aware of your bottlenecks.  Your algorithm sounds like it would be susceptible to cache contention between multiple CPUs - this is particularly nasty because it has the potential to hit the performance of all of your threads (normally you think of using multiple threads to continue processing while waiting for slow or high latency IO operations).Cache contention is a very important aspect of using multi CPUs to process a highly parallelized algorithm:  Make sure that you take your memory utilization into account.  If you can construct your data objects so each thread has it's own memory that it is working on, you can greatly reduce cache contention between the CPUs.  For example, it may be easier to have a big array of ints and have different threads working on different parts of that array - but in Java, the bounds checks on that array are going to be trying to access the same address in memory, which can cause a given CPU to have to reload data from L2 or L3 cache.Splitting the data into it's own data structures, and configure those data structures so they are thread local (might even be more optimal to use [ThreadLocal](""http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ThreadLocal.html"") - that actually uses constructs in the OS that provide guarantees that the CPU can use to optimize cache.The best piece of advice I can give you is test, test, test.  Don't make assumptions about how CPUs will perform - there is a huge amount of magic going on in CPUs these days, often with counterintuitive results.  Note also that the JIT runtime optimization will add an additional layer of complexity here (maybe good, maybe not). ",[],Concurrency,"{""Thread Properties"": 1.0, ""Tasks and Thread Pools"": 0.7, ""Synchronization"": 0.65}"
138533,138767,"Java Swing: Ctrl+F1 does not work globally, but each other key combination","I have a swing gui with a tabbed pane in the north. Several key events are added to its input map:--CODE--If the tabbed pane or another button in a toolbar has the focus, Ctrl+F1 has no function. If another component is focused (e.g. JTree), Ctrl+F1 executes the action.The problem is, that it workes everywhere if I change the Keycode to e.g. VK_F2.The key F1 is'nt used anywhere else in the program.Any idea?Thanks,AndréEdit: A full text search in the java source code gave the answer: The ToolTipManager registeres the Key Ctrl+F1 to display the tooltip text if the key combination is pressed. So if a button with a tooltip is focused, Ctrl+F1 is handled by the ToolTipManager. Otherwise my action is called.","[""InputMap paneInputMap = pane.getInputMap(JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);paneInputMap.put( KeyStroke.getKeyStroke( KeyEvent.VK_E, KeyEvent.CTRL_MASK ), \""finish\"");paneInputMap.put( KeyStroke.getKeyStroke( KeyEvent.VK_F1, KeyEvent.CTRL_MASK ), \""toggletoolbar\"");""]",<java><swing><keyevent>,138767,"So that this gets an answer, here's the solution copied from your edit in the question. ;-)  The ToolTipManager registeres the Key  Ctrl+F1 to display the tooltip text if  the key combination is pressed. So if  a button with a tooltip is focused,  Ctrl+F1 is handled by the  ToolTipManager. Otherwise my action is  called.",[],Graphical User Interface Programming,"{""Event Handling"": 1.45}"
138793,138922,How do I add a separator to a JComboBox in Java?,"I have a JComboBox and would like to have a separator in the list of elements. How do I do this in Java?A sample scenario where this would come in handy is when making a combobox for font-family-selection; similar to the font-family-selection-control in Word and Excel. In this case I would like to show the most-used-fonts at the top, then a separator and finally all font-families below the separator in alphabetical order.Can anyone help me with how to do this or is this not possible in Java?",[],<java><swing><jcombobox><jseparator>,138922,"There is a pretty short tutorial with an example that shows how to use a custom ListCellRenderer on java2s [http://www.java2s.com/Code/Java/Swing-Components/BlockComboBoxExample.htm](""http://www.java2s.com/Code/Java/Swing-Components/BlockComboBoxExample.htm"")Basically it involves inserting a known placeholder in your list model and when you detect the placeholder in the ListCellRenderer you return an instance of 'new JSeparator(JSeparator.HORIZONTAL)'",[],User Interface Components with Swing,"{""Choice Components"": 1.7000000000000002}"
139088,144142,JFrame.setDefaultLookAndFeelDecorated(true);,when i use setDefaultLookAndFeelDecorated(true) method in Javawhy is the Frame appear FullScreen when i maximize the Frame ?and how can i disaple the FullScreen mode in this method ?,[],<java><user-interface><swing>,144142,"Setting setDefaultLookAndFeelDecorated to true causes the decorations to be handled by the look and feel; this means that a System look-and-feel on both Windows and Mac (I have no Linux at hand now) retains the borders you would expect them of a native window, e.g. staying clear of the taskbar in Windows.When using the Cross Platform look-and-feel, a.k.a. Metal, which is the default on Windows, the Windows version will take over the entire screen, making it look like a full-screen window. On Mac, the OS refuses to give away its own titlebar, and draws a complete Metal frame (including the title bar) in a Mac-native window.So, in short, if you want to make sure the taskbar gets respected, use the Windows system look-and-feel on Windows. You can set it by using something like--CODE--","[""UIManager.setLookAndFeel((LookAndFeel) Class.forName(UIManager.getCrossPlatformLookAndFeelClassName()).newInstance());""]",Graphical User Interface Programming,"{""Displaying Information in a Component"": 0.85, ""Displaying Frames"": 0.8}"
141284,141303,The difference between the Runnable and Callable interfaces in Java,"What is the difference between using the Runnable and Callable interfaces when designing a concurrent thread in Java, why would you choose one over the other?",[],<java><multithreading><interface><runnable><callable>,141303,"See explanation [here](""http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html"").  The Callable interface is similar to  Runnable, in that both are designed  for classes whose instances are  potentially executed by another  thread. A Runnable, however, does not  return a result and cannot throw a  checked exception.",[],Concurrency,"{""Tasks and Thread Pools"": 0.9}"
144892,144893,How to center a Window in Java?,"What's the easiest way to centre a java.awt.Window, such as a JFrame or a JDialog?",[],<java><swing><user-interface><awt>,144893,"From [this link](""https://web.archive.org/web/20080921040824/http://blog.codebeach.com/2008/02/center-dialog-box-frame-or-window-in.html"")  If you are using Java 1.4 or newer,  you can use the simple method  setLocationRelativeTo(null) on the  dialog box, frame, or window to center  it.",[],User Interface Components with Swing,"{""Introduction to Layout Management"": 0.6, ""Dialog Boxes"": 0.5, ""Sophisticated Layout Management"": 0.8}"
145052,145173,"Simplest way to use ""BeanUtils alike"" replace","Is there any libraries that would allow me to use the same known notation as we use in BeanUtils for extracting POJO parameters, but for easily replacing placeholders in a string?I know it would be possible to roll my own, using BeanUtils itself or other libraries with similar features, but I didn't want to reinvent the wheel.I would like to take a String as follows:--CODE--And passing one instance of the User class below:--CODE--To something like:--CODE--Would get each placeholder replaced with actual values.Any ideas?","[""String s = \""User ${user.name} just placed an order. Deliver is to bemade to ${user.address.street}, ${user.address.number} - ${user.address.city} / ${user.address.state}\"";"", ""public class User {   private String name;   private Address address;    // (...)   public String getName() { return name; }    public Address getAddress() {  return address; } }public class Address {   private String street;   private int number;   private String city;   private String state;   public String getStreet() { return street; }   public int getNumber() {  return number; }   // other getters...}"", ""System.out.println(BeanUtilsReplacer.replaceString(s, user));""]",<java><string><replace><placeholder>,145173,"Rolling your own using BeanUtils wouldn't take too much wheel reinvention (assuming you want it to be as basic as asked for). This implementation takes a Map for replacement context, where the map key should correspond to the first portion of the variable lookup paths given for replacement.--CODE--Given the variables provided in your question:--CODE--","[""import java.lang.reflect.InvocationTargetException;import java.util.Map;import java.util.regex.Matcher;import java.util.regex.Pattern;import org.apache.commons.beanutils.BeanUtils;public class BeanUtilsReplacer{    private static Pattern lookupPattern = Pattern.compile(\""\\\\$\\\\{([^\\\\}]+)\\\\}\"");    public static String replaceString(String input, Map<String, Object> context)        throws IllegalAccessException, InvocationTargetException, NoSuchMethodException    {        int position = 0;        StringBuffer result = new StringBuffer();        Matcher m = lookupPattern.matcher(input);        while (m.find())        {            result.append(input.substring(position, m.start()));            result.append(BeanUtils.getNestedProperty(context, m.group(1)));            position = m.end();        }        if (position == 0)        {            return input;        }        else        {            result.append(input.substring(position));            return result.toString();        }    }}"", ""Map<String, Object> context = new HashMap<String, Object>();context.put(\""user\"", user);System.out.println(BeanUtilsReplacer.replaceString(s, context));""]",Fundamental Programming Structures in Java,"{""Strings"": 1.7000000000000002}"
147802,147898,Why does Swing in my Java Applet flicker on fast mouse over?,"I made a Java Applet with some Standard GUI Components on it. I used the [MigLayout](""http://www.miglayout.com/"") Manager.If I move the mouse slowly over the various GUI Components everything appears to be fine, but if I move the mouse fast, it flickers.What could make that nasty ugly redraw?(Core 2 Duo 6300, 2GB Ram, Windows XP)",[],<java><swing><applet>,147898,One thought would be to check your code (and/or the MigLayout code) for unnecessary repaint() operations.Custom UIs and layouts can cause weird problems sometimes...,[],Graphical User Interface Programming,"{""Event Handling"": 1.45, ""Displaying Information in a Component"": 0.7}"
149153,6504520,Loading animated gif from JAR file into ImageIcon,"I'm trying to create a ImageIcon from a animated gif stored in a jar file.--CODE--The image loads, but only the first frame of the animated gif.  The animation does not play. If I load the animated gif from a file on the filesystem, everything works as expected.  The animation plays through all the of frames.  So this works:--CODE--How can I load an animated gif into an ImageIcon from a jar file?EDIT:   Here is a complete test case, why doesn't this display the animation?--CODE--","[""ImageIcon imageIcon = new ImageIcon(ImageIO.read(MyClass.class.getClassLoader().getResourceAsStream(\""animated.gif\"")));"", ""ImageIcon imageIcon = new ImageIcon(\""/path/on/filesystem/animated.gif\"");"", ""import javax.imageio.ImageIO;import javax.swing.*;public class AnimationTest extends JFrame {    public static void main(String[] args) {        SwingUtilities.invokeLater(new Runnable() {            public void run() {                AnimationTest test = new AnimationTest();                test.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);                test.setVisible(true);            }        });    }    public AnimationTest() {        super();        try {            JLabel label = new JLabel();            ImageIcon imageIcon = new ImageIcon(ImageIO.read(AnimationTest.class.getClassLoader().getResourceAsStream(\""animated.gif\"")));            label.setIcon(imageIcon);            imageIcon.setImageObserver(label);            add(label);            pack();        } catch (Exception e) {            e.printStackTrace();        }    }}""]",<java><swing><animated-gif><javax.imageio>,6504520,This reads gif animation from inputStream--CODE--,"[""InputStream in = ...;Image image = Toolkit.getDefaultToolkit().createImage(org.apache.commons.io.IOUtils.toByteArray(in));""]",Fundamental Programming Structures in Java,"{""Input and Output"": 0.8}"
156912,218811,Sending a keyboard event from java to any application (on-screen-keyboard),"I am working on developing an on-screen keyboard with java.  This keyboard has a JComponent for every possible key.  When a mouse down is detected on the button, I want to send a specific keyboard code to the application currently on focus.  The keyboard itself is within a JFrame with no decorations and set to always-on-top.I found that the Robot class can be used to simulate these keyboard events on the native queue.  However, in this case, selecting the JComponent would mean that the key-press is received on the JFrame, and I wouldn't be able to receive it in the other applicationHow can I keep my on-screen keyboard ""Always-without-focus""? Is it maybe possible to use another approach to send the key-press? ",[],<java><events><swing><keyboard><java-native-interface>,218811,"Apparently the only way to do this is to have a JNI layer that will make the conversion from java to native.  Java has no easy way to provide such funcionality.This could be an interesting concept for a small, third party library for someone who wants to learn JNI...",[],Graphical User Interface Programming,"{""Displaying Information in a Component"": 0.7, ""Event Handling"": 1.55}"
156975,157046,How to add a horizontal gap with a JLabel,"I have a JLabel (actually, it is a JXLabel).I have put an icon and text on it.Now I wand to add some spacing on the left side of the component, like this:I DON'T accept suggestion to move the JLabel or add spacing by modifying the image.I just want to know how to do it with plain java code.",[],<java><swing><jlabel><swingx>,157046,I have found the solution!--CODE--Thanks everyone!,"[""setBorder(new EmptyBorder(0,10,0,0));""]",User Interface Components with Swing,"{""Text Input"": 1.7000000000000002}"
160315,160861,How to check for key being held down on startup in Java,"I'm trying to write a resolution selection dialog that pops up when a program first starts up. To prevent boring the user, I want to implement the fairly standard feature that you can turn off that dialog with a checkbox, but get it back by holding down the alt key at startup.Unfortunately, there is no obvious way to ask java whether a given key is currently being pressed. You can only register to be informed of new key presses via a KeyListener, but that doesn't help if the keypress starts before the app launches.",[],<java><swing><keyboard><key><awt>,160861,--CODE--,"[""public class LockingKeyDemo {    static Toolkit kit = Toolkit.getDefaultToolkit();    public static void main(String[] args) {        System.out.println(\""caps lock2 = \""                + kit.getLockingKeyState(KeyEvent.VK_CAPS_LOCK));}}""]",Graphical User Interface Programming,"{""Event Handling"": 1.65}"
160382,161145,Extract all string from a java project,"I have a rather big number of source files that I need parse and extract all string literals and put them in a file as play old java constant.For exemple:--CODE--Would become:--CODE--And in Constants.java I would have:--CODE--I do not want the strings to be externalized in a property text file.One reason is for consistency and code readability.The other is that our client code uses GWT, which does not support Java property text file mechanism.I could write some sort of parser (using ant replace task maybe)?But I wondered if an IDE already does this sort of thing automatically.","[""Label l = new Label(\""Cat\"");"", ""Label l = new Label(Constants.CAT);"", ""public final static String CAT = \""Cat\"";""]",<java><eclipse><string><gwt><plugins>,161145,"To complete Peter Kelley answer, you might consider for eclipse IDE the AST solution.You might then write an AST program which parse your source code and does what you want.A full example is available in this [eclipse corner article](""http://www.eclipse.org/articles/article.php?file=Article-JavaCodeManipulation_AST/index.html""), also more details in the [eclipse help](""http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.jdt.doc.isv/reference/api/org/eclipse/jdt/core/dom/ASTParser.html"").And you can find some examples in [Listing 5 of the section ""Implementation of in-place translation"" of Automating the embedding of Domain Specific Languages in Eclipse JDT](""http://www.eclipse.org/articles/Article-AutomatingDSLEmbeddings/#implementation_in_place""), alongside [multiple examples in GitHub projects](""https://github.com/search?q=%22org.eclipse.jdt.core.dom.ASTVisitor%22&amp;ref=cmdform&amp;type=Code"").",[],Fundamental Programming Structures in Java,"{""Strings"": 1.25, ""Input and Output"": 0.65}"
164088,164180,Make your collections thread-safe?,"When designing a collection class, is there any reason not to implement locking privately to make it thread safe? Or should I leave that responsibility up to the consumer of the collection?",[],<c#><java><multithreading><collections>,164180,"  is there any reason not to implement locking privately to make it thread safe? It depends. Is your goal to write a collection class which is accessed by multiple threads?If so, make it thread safe. If not, don't waste your time. This kind of thing is what people refer to when they talk about 'premature optimization'Solve the problems that you have. Don't try to solve future problems that you think you may have some years in the future, because you can't see the future, and you'll invariably be wrong.Note: You still need to write your code in a maintainable way, such that if you did need to come along and add locking to the collection, it wouldn't be terribly hard. My point is ""don't implement features that you don't need and won't use""",[],Concurrency,"{""Thread-Safe Collections"": 1.8, ""Synchronization"": 0.65}"
169799,169857,How do I dynamically add Panels to other panels at runtime in Java?,I'm trying to get into java again (it's been a few years). I never really did any GUI coding in java. I've been using Netbeans to get started with this.When using winforms in C# at work I use a usercontrols to build parts of my UI and add them to forms dynamically. I've been trying to use JPanels like usercontrols in C#. I created a JPanel form called BlurbEditor. This has a few simple controls on it. I am trying to add it to another panel at run time on a button event. Here is the code that I thought would work:--CODE--This unfortunately is not working. What am I doing wrong?,"[""mainPanel.add(new BlurbEditor());mainPanel.revalidate();//I've also tried all possible combinations of these too//mainPanel.repaint();//mainPanel.validate();""]",<java><swing>,169857,I figured it out. The comments under the accepted answer here explain it:Dynamically added JTable not displayingBasically I just added the following before the mainPanel.add()--CODE--,"[""mainPanel.setLayout(new java.awt.BorderLayout());""]",Graphical User Interface Programming,"{""Displaying Information in a Component"": 0.65, ""Displaying Frames"": 0.65, ""Event Handling"": 0.6}"
172841,190302,Selection overridden by formatter,"I have applied a Formatter to a JFormattedTextField using a FormatterFactory, when a user clicks into the text field I want to select the contents. A focus listener does not work as expected because the formatter gets called, which eventually causes the value to be reset which ultimately de-selects the fields contents. I think what is happening is that after the value changes, the Caret moves to the rightmost position and this deselects the field.Does anyone have any knowledge of how to get around this and select the fields contents correctly?",[],<java><swing><caret><formatter>,190302,Quick and dirty workaround is to use EventQueue.invokeLater from your focusListener.--CODE--,"["" EventQueue.invokeLater(new Runnable(){  public void run() { yourTextField.selectAll();}});""]",Graphical User Interface Programming,"{""Event Handling"": 1.45}"
178667,1421097,Does JEditorPane have Charset problems when showing HTML?,"I have the following code:--CODE--If you run it, you'll notice the frame is blank. However, if I remove the ""; charset=ISO-8859-1"" from the meta tag, the HTML shows up. Any ideas why and what I can do to prevent this (other than manually hacking the HTML string over which I have no control...).Edit #1 - putProperty( ""Ignore-Charset"", ""true"" ) makes no difference unfortunately.","[""import javax.swing.JEditorPane;import javax.swing.JFrame;import javax.swing.JScrollPane;import javax.swing.ScrollPaneConstants;public class ScratchPad {    public static void main(String args[]) throws Exception {        String html =\""<html>\""+\""<head>\""+\""<meta http-equiv=\\\""Content-Type\\\"" content=\\\""text/html; charset=ISO-8859-1\\\""/>\""+ // this is the problem right here\""<title>Error 400 BAD_REQUEST</title>\""+\""</head>\""+\""<body>\""+\""<h2>HTTP ERROR: 400</h2><pre>BAD_REQUEST</pre>\""+\""<p>RequestURI=null</p>\""+\""<p><i><small><a href=\\\""http://jetty.mortbay.org\\\"">Powered by jetty://</a></small></i></p>\""+\""</body>\""+\""</html>\"";        JFrame f = new JFrame();        JEditorPane editor = new JEditorPane();        editor.setEditable( false );        editor.getDocument().putProperty( \""Ignore-Charset\"", \""true\"" );  // this line makes no difference either way        editor.setContentType( \""text/html\"" );        editor.setText( html );        f.add( new JScrollPane(editor, ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED,                                ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER) );        f.pack();        f.setVisible( true );    }}""]",<java><html><swing><jeditorpane>,1421097,Use the follow line before setText and after setContentType.--CODE--This is one of the mystic undocumented features. setContentType create a new Document that it has no effect if you set it before.,"[""editor.getDocument().putProperty(\""IgnoreCharsetDirective\"", Boolean.TRUE);""]",User Interface Components with Swing,"{""Choice Components"": 0.75, ""Text Input"": 0.7}"
181615,181971,Java threads: Is it possible view/pause/kill a particular thread from a different java program running on the same JVM?,"I have a program 'foo' running different threads, fooT1, fooT2, .. fooTn.Now if I want write another program 'bar', which could kill the thread fooTr, is that possible?Reason: One of the thread fooTr tracks product license. If this thread is killed; one may run this product indefinitely. And killing 'foo' itself is tolerable as 'foo' as that is exactly what is being done on license expiry.System: Fedora Distribution of LinuxNote: The commands which start JVM and program foo are placed in /etc/init.d and anyone who has a decent knowledge of rc.1/rc.2/rc.3 structure can change/add the starting parameters to these.I hope my question is clear. If not, I can always edit it.",[],<java><multithreading><jvm>,181971,"To my knowledge it is not possible to do this directly. What you could consider however is to create some kind of service on your 'foo' that can be called from 'bar' to kill the thread. There are, of course, hundreds of ways to implement this. My first thought would be to do this using [RMI](""https://stackoverflow.com/search?q=java+rmi"").",[],Concurrency,"{""Tasks and Thread Pools"": 0.8, ""Thread Properties"": 0.6, ""Synchronization"": 0.65}"
181690,181757,Thread synchronization question (in java),"my java application has a loading task which requires two server calls which can be parallelized. So I launch a Thread t1 (doing task1) and a Thread t2 (for task2).I want then to do a specific task, task3 when both other tasks (1 &amp; 2) are over. Naturally I can't tell which of task1 and task2 will finish first...Which would be for you the simplest (and safest) way to code this ?Thank you for your help",[],<java><multithreading><concurrency><synchronization>,181757,"You've got several options:If task3 is on a separate thread AND task1 and task2 threads are exclusive to their tasks (no thread pooling) and finish when the task finish, you can use {T1.join(); T2.join();} to wait for both threads. Pros: Easy. Cons: The situation is rarely that simple.If task3 is on a separate thread, you could use java.util.concurrent.CountDownLatch shared between all threads. Task 3 will wait for the latch while task1 and task2 will decrease it. Pros: quite easy, oblivious to the environment. Cons: require T3 to be created before it's really needed.If task3 should only be created AFTER task1 and task2 are finished (no separate thread for it until after task1 and task2 finishes), you'd have to build something a bit more complex. I'd recommend either creating your own ExecutorService that take a condition n addition to the future and only executes the future when the condition changes, or creating a management service that will check conditions and submit given futures based on these conditions. Mind, this is of the top of my head, there might be simpler solutions. Pros: resources-friendly. Cons: complex.",[],Concurrency,"{""Synchronization"": 1.9}"
182316,182422,Java: Swing Libraries & Thread Safety,"I've often heard criticism of the lack of thread safety in the Swing libraries.  Yet, I am not sure as to what I would be doing in my own code with could cause issues:In what situations does the fact Swing is not thread safe come into play ?What should I actively avoid doing ?",[],<java><multithreading><swing>,182422,"Never do long running tasks in response to a button, event, etc as these are on the event thread. If you block the event thread, the ENTIRE GUI will be completely unresponsive resulting in REALLY pissed off users. This is why Swing seems slow and crusty. Use Threads, Executors, and SwingWorker to run tasks NOT ON THE EDT ( event dispatch thread). Do not update or create widgets outside of the EDT. Just about the only call you can do outside of the EDT is Component.repaint(). Use SwingUtilitis.invokeLater to ensure certain code executes on the EDT.Use [EDT Debug Techniques](""http://weblogs.java.net/blog/alexfromsun/archive/2006/02/debugging_swing.html"") and a smart look and feel (like [Substance](""https://substance.dev.java.net/""), which checks for EDT violation)If you follow these rules, Swing can make some very attractive and RESPONSIVE GUIsAn example of some REALLY awesome Swing UI work: [Palantir Technologies](""http://www.palantirtech.com/""). Note: I DO NOT work for them, just an example of awesome swing. Shame no public demo... Their [blog](""http://blog.palantirtech.com/"") is good too, sparse, but good",[],Concurrency,"{""Thread-Safe Collections"": 1.1, ""Asynchronous Computations"": 0.7}"
2561690,2570101,Placing component on Glass Pane,"I have a subclass of JLabel that forms a component of my GUI.  I have implemented the ability to drag and drop the component from one container to another, but without any visual effects.  I want to have this JLabel follow the cursor during the drag of the item from one container to another.  I figured that I could just create a glass pane and draw it on there.  However, even after I add the component to the glass pane, set the component visible, and set the glass pane visible, and set the glass pane as opaque, I still so not see the component.  I know the component works because I can add it to the content pane and have it show up.How do I add a component to the glass pane?Finally figured how to get the simple example working.  Thanks, @akf.  I was able to adapt this solution to my original problem, allowing me to remove ~60 lines of Java2D code that manually rendered a representation of the JLabel.--CODE--","[""package test;import java.awt.Color;import javax.swing.JFrame;import javax.swing.JLabel;import javax.swing.JPanel;import javax.swing.border.LineBorder;public class MainFrame extends JFrame {    /**     * @param args     */    public static void main(String[] args) {        MainFrame mf = new MainFrame();        mf.setSize(400, 400);        mf.setLocationRelativeTo(null);        mf.setDefaultCloseOperation(DISPOSE_ON_CLOSE);        mf.setGlassPane(new JPanel());        JLabel l = new JLabel();        l.setText(\""Hello\"");        l.setBorder(new LineBorder(Color.BLACK, 1));        l.setBounds(10, 10, 50, 20);        l.setBackground(Color.RED);        l.setOpaque(true);        l.setPreferredSize(l.getSize());        //mf.add(l);        ((JPanel)mf.getGlassPane()).add(l);        mf.getGlassPane().setVisible(true);        mf.setVisible(true);    }}""]",<java><swing><glasspane>,2570101,"Besides the pointers to the LayerPane examples already provided, the issue with your original code centers around the setting of the preferred size of your label.  You set it before the JLabel has been sized, so your:--CODE--is ineffectual.  If, on the other hand, you make that call after you make your call to setBounds, you will see your desired results.  With that in mind, reorder this:--CODE--to look like this:--CODE--","[""l.setPreferredSize(l.getSize());"", ""l.setPreferredSize(l.getSize());l.setBounds(10, 10, 50, 20);"", ""l.setBounds(10, 10, 50, 20);l.setPreferredSize(l.getSize());""]",User Interface Components with Swing,"{""Choice Components"": 0.9}"
44563643,,How to pass ArrayList<String> to String[] and display the value inside a Spinner?,"What I'm trying to do is the following, I've an ArrayList which I populate with data, then I have a String[] that I'm using to display text on my spinner, so I want to put the data of my ArrayList inside to replace what's by default but nothing happens. When I'm trying to display it without Arrays.toString() it gives me the following :--CODE--But with the arrays.tostring() i get what i want.So how to pass my data ArrayList inside my string[] to display it on spinner ?Here is my code : --CODE--My spinner : --CODE--Here is OnItemSelectedListener :--CODE--Thanks for your help !","[""[Ljava.lang.string;@e4b348"", ""String prestationuserlist;ArrayList<String> textfordropdown2 = new ArrayList<>();String[] textfordropdown = {\""test\"", \""test\"", \""test\"",\""test\"", \""test\"", \""test\"",\""test\"", \""test\"", \""test\"",\""test\"", \""test\"", \""test\"",\""test\"", \""test\"", \""test\"",\""test\"", \""test\"", \""test\""};String[] valueofdropdowtext = {\""test\"", \""test\"", \""test\""};Spinner  spinnerdynamic;for(int i=0;i<arrSize;i++) {   object = prestationlist.getJSONObject(i);   // Here, we populate the array with value of json, each text and db value   textfordropdown2.add(object.getString(\""Text\""));   valueofdropdown.add(object.getString(\""Value\""));   valueofdropdowtext = valueofdropdown.toArray(new String[0]);   textfordropdown = textfordropdown2.toArray(new String [textfordropdown2.size()]);}"", ""    //Start Create a spinner with different view and value.    spinnerdynamic = (Spinner)findViewById(R.id.dynamic_spinner);    ArrayAdapter<String> adapter1 =            new ArrayAdapter<String>(MainActivity.this,                    android.R.layout.simple_spinner_item, textfordropdown );// Here we set the text with API return value.    adapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);// Here we create a dropdown list item.    spinnerdynamic.setAdapter(adapter1);    spinnerdynamic.setOnItemSelectedListener(onItemSelectedListener1); // Here we call the function which is getting the value according to selected text.    //End Create a spinner with different view and value."", ""  OnItemSelectedListener onItemSelectedListener1 =            new OnItemSelectedListener(){                @Override                public void onItemSelected(AdapterView<?> parent, View view,                                           int position, long id) {                    prestationuserlist = valueofdropdowtext[position];                    test = textfordropdown[position];                }                @Override                public void onNothingSelected(AdapterView<?> parent) {}            };""]",<java><android><string><arraylist><spinner>,44563935,"You don't need to convert your arrayList of Strings into an Array when using it with spinner adapter.See code below ---CODE--This is what I get -[](""https://i.stack.imgur.com/jHWKg.png"")","[""    spinner = (Spinner) findViewById(R.id.spinner);    // populate arraylist with data    ArrayList<String> spinnerArrayList = new ArrayList<>();    for(int i=1; i<10; i++)    {        spinnerArrayList.add(\""Item \"" + i);    }    // create spinner adapter with the above arraylist    ArrayAdapter<String> dataAdapter = new ArrayAdapter<String>(this,            android.R.layout.simple_spinner_item, spinnerArrayList);    dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);    // attach adapter to spinner    spinner.setAdapter(dataAdapter);""]",Fundamental Programming Structures in Java,"{""Strings"": 0.8, ""Arrays"": 0.8}"
5773874,5773913,"JTabbedPane JLabel, JTextField","Right, I have a JTabbedPane that has a JPanel that contains a JLabel and a JTextField. my code JTabbed Pane declaration : --CODE--textfield declaration  :--CODE--JLabel :         this.channelLabel = new JLabel(""Channel name : "");        this.channelLabel.setSize(150, 30);        this.channelLabel.setLocation(10,10);--CODE--So what my plan is, was to have a tabbed pane that  has a JPanel where I have some Labels, textfields and buttons on fixed positions, but after doing this this is my result: [http://i.stack.imgur.com/vXa68.png](""http://i.stack.imgur.com/vXa68.png"")What I wanted was that I had the JLabel and next to it a full grown JTextfield on the left side not in the middle. Anyone any idea what my mistake is ? thank you :)","[""        this.tabPane = new JTabbedPane();    this.tabPane.setSize(750, 50);    this.tabPane.setLocation(10, 10);        tabPane.setSize(750,450);    tabPane.add(\""ControlPanel\"",controlPanel);"", ""    this.channelTxtFld = new JTextField(\""\"");    this.channelTxtFld.setFont(this.indentedFont);    this.channelTxtFld.setSize(200, 30);    this.channelTxtFld.setLocation(200, 10);"", ""private void createPanels() {    controlPanel = new JPanel();    controlPanel.setSize(650,500);} private void fillPanels() {    controlPanel.add(channelLabel);    controlPanel.add(channelTxtFld);}""]",<java><swing><jbutton><jlabel><jtextfield>,5773913,"What kind of Layout Manager are you using for your controlPanel, you probably want BorderLayout, putting the Label in the West, and the TextField in the center.BTW, setting the size and position of various components doesn't make sense unless you are using a Null Layout, which isn't a good idea. So i'd remove all that stuff and let the Layout Manager do it for you.",[],User Interface Components with Swing,"{""Choice Components"": 0.8}"
14120978,,Why Runnable.run() method was made to return no output,"I am trying to understand why Runnable.run method was made to take nothing as input and return nothing as output?I understand that a thread's local variable (reference or primitive) has to come from own stack, but system could have been made to initialized. Put another way, I don't think it is technically impossible (but I may be wrong).",[],<java><multithreading>,14121018,"Returning something is useful and is supported by Callable which can return one object. --CODE--As you can see Callable can return a value because the ExecutorService supports holding passing the value back to the thread with the Future object.  This was only added in Java 5.0, so before this having Runnable returning a value wouldn't have been useful as there was no where for this return value to go.Runnable doesn't need to take any arguments as it is an object which can hold any number of fields. e.g.--CODE--As you can see, the run() method can use any number of values which as passed implcitly by virtue of the fact the Runnable is an object, not just a holder for a method.","[""Future<MyReturnType> ret = executor.submit(new Callable<MyReturnType>() {    public MyReturnType call() throws Exception {         // do something         return new MyReturnType(value1, value2 ...);    }});"", "" static void bgLog(final Level level, final String message, final Throwable t) {    logExec.submit(new Runnable() {        // the anonymous nested class implicitly holds a copy of the final arguments above.        public void run() {           LOG.log(level, message, t);        }    }); }""]",Concurrency,"{""Thread States"": 0.8}"
12273164,12273283,Moving object won't stay within set bounds?,"I'm creating an applet in which a sheep is herded by a dog, both are objects as the dog object moves closer the sheep the sheep moves away in a random direction. (I'm sorry I know I've asked a lot of questions about this applet). So far everything works except the sheep object wont stay within the bounds I've set and eventually disappears off the screen entirely. I've tried lots of different things but nothing seems to work. Any ideas why the sheep object wont stay within the bounds? Any help would be much appreciated.Here is the code, there are two separate java files:MainPanel.java--CODE--SheepDog.java--CODE--","[""import java.awt.Graphics;import java.awt.event.MouseEvent;import java.awt.event.MouseMotionListener;import java.util.Random;import javax.swing.JPanel;public class MainPanel extends JPanel implements MouseMotionListener{    private static final long serialVersionUID = 1L;    Dog dog;    Sheep sheep;    int[] directionNumbersLeft = {0, 1, 3};    int[] directionNumbersRight = {1, 2, 3};    int[] directionNumbersUp = {0, 1, 2};    int[] directionNumbersDown = {0, 2, 3};    int x;    int selection;    int xposR;    int yposR;    int sheepx;    int sheepy;    int sheepBoundsx;    int sheepBoundsy;    int MAX_DISTANCE = 50;    int direction;    int distance;    public MainPanel()    {        addMouseMotionListener(this);        sheepx = 175;        sheepy = 75;        dog = new Dog(22,22);        sheep = new Sheep(sheepx, sheepy);        sheepBoundsx = 30;        sheepBoundsy = 30;    }    public void paintComponent(Graphics g)    {        super.paintComponent(g);        dog.display(g);        sheep.display(g);        g.drawRect(20, 20, 600, 600);    }    public void mouseDragged(MouseEvent e)    {        xposR = e.getX();        yposR = e.getY();        dog.setLocation(xposR, yposR);        sheep.setLocation(sheepx, sheepy);        direction = (int)(Math.random()*4);        Random rand = new Random();        x = rand.nextInt(3);        if (xposR > sheepx&amp;&amp; xposR < sheepx+sheepBoundsx &amp;&amp; yposR > sheepy                &amp;&amp; yposR < sheepy+sheepBoundsy &amp;&amp; direction == 0){            sheepx = sheepx + 50;        }        if (xposR > sheepx&amp;&amp; xposR < sheepx+sheepBoundsx &amp;&amp; yposR > sheepy                &amp;&amp; yposR < sheepy+sheepBoundsy &amp;&amp; direction == 1){            sheepy = sheepy + 50;        }        if (xposR > sheepx&amp;&amp; xposR < sheepx+sheepBoundsx &amp;&amp; yposR > sheepy                &amp;&amp; yposR < sheepy+sheepBoundsy &amp;&amp; direction == 2){            sheepx = sheepx - 50;        }        if (xposR > sheepx&amp;&amp; xposR < sheepx+sheepBoundsx &amp;&amp; yposR > sheepy                &amp;&amp; yposR < sheepy+sheepBoundsy &amp;&amp; direction == 3){            sheepy = sheepy - 50;        }        if (sheepx <= 20){            direction = directionNumbersLeft[x];        }        if (sheepy <= 20){            direction = directionNumbersUp[x];        }        if (sheepx >= 600){            direction = directionNumbersRight[x];        }        if (sheepy >= 600){            direction = directionNumbersDown[x];        }        if (xposR < sheepx){            direction = directionNumbersLeft[x];        }        if (xposR > sheepx){            direction = directionNumbersRight[x];        }        if (yposR > sheepy){            direction = directionNumbersDown[x];        }        if (yposR < sheepy){            direction = directionNumbersUp[x];        }        repaint();    }    public void mouseMoved(MouseEvent e) {    }}"", ""import java.awt.Color;import java.awt.Graphics;import javax.swing.*;public class SheepDog extends JApplet{    /**     *     */    private static final long serialVersionUID = 1L;    /**     *     */    MainPanel mainPanel;    public void init()    {        mainPanel = new MainPanel();        add(mainPanel);    }}class Dog{    int xpos;    int ypos;    int circleWidth = 30;    int circleHeight = 30;    public Dog(int x, int y)    {        xpos = x;        ypos = y;    }    public void setLocation(int lx, int ly)    {        xpos = lx;        ypos = ly;    }    public void display(Graphics g)    {        g.setColor(Color.blue);        g.fillOval(xpos, ypos, circleWidth, circleHeight);    }}class Sheep{    int xpos;    int ypos;    int circleWidth = 30;    int circleHeight = 30;    public Sheep(int x, int y)    {        xpos = x;        ypos = y;    }    public void setLocation(int lx, int ly)    {        xpos = lx;        ypos = ly;    }    public void display(Graphics g)    {        g.setColor(Color.green);        g.fillOval(xpos , ypos, circleWidth, circleHeight);        g.drawOval(xpos - 10, ypos - 10, 50, 50);    }}""]",<java><swing><random><applet>,12273283,"Try adding elses to your long string of if() statements, like so:--CODE--The way you had it before, if sheepx was left then 20, and less than the dog's x, it would still go away from the dog, even though it should've been worried about the boundaries. This was because both if statements would trigger, and modify direction, but since you check'd for boundary first, that would be overwritten by the attempt to run from the dog. Try this solution, tell me how it works","[""    if (sheepx <= 20){        direction = directionNumbersLeft[x];    } else if (sheepy <= 20){        direction = directionNumbersUp[x];    } else if (sheepx >= 600){        direction = directionNumbersRight[x];    } else ...""]",User Interface Components with Swing,"{""Choice Components"": 0.8, ""Sophisticated Layout Management"": 0.8}"
56621362,,How to change window size according to screen size in Java?,"I set the size of my window as 640 x 1136, and I'm running the program on a 13-inch MBP, which has a resolution of 2560 x 1600. I'm assuming that the window should be able to fully displayed on my screen, but it only shows the top half. Here's my code.--CODE--Here's how it looks like on my screen:[](""https://i.stack.imgur.com/QS66A.png"")I tried to play around with the parameters and I found that when the HEIGHT is around 800, the window would exceed the screen. How can the max window height be only 1/2 of the resolution of the screen? And is there a way to increase or decrease the size of the window according to the screen size automatically while keeping everything in scale?Thanks! ","[""public static final int WIDTH = 640;  // width of windowpublic static final int HEIGHT = 1136; // height of windowpublic static void main(String[] args) {    JFrame frame = new JFrame();    World world = new World();    frame.add(world);    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    frame.setSize(WIDTH, HEIGHT);    frame.setLocationRelativeTo(null);     frame.setVisible(true); // 1) set window visible 2) paint() asap    world.action(); // start the program}""]",<java><swing>,56629501,You have to get screen size at runtime and adjust frame size accordingly. This will allow your program to look identically on different screens. --CODE--,"[""Dimension dim = Toolkit.getDefaultToolkit().getScreenSize();frame.setSize(dim.width / 2, dim.height / 2);""]",User Interface Components with Swing,"{""Sophisticated Layout Management"": 0.8}"
11905263,,Aligning Decimal when convert int to string,I understand that in Java you can use printf such as--CODE--But if say you have--CODE--and you want to convert it to String with the decimal alignment. So you will have--CODE--Is there any way to do this other than having a bunch of if statment to check the length?,"[""System.out.printf(\""check1 =  \"" + \""%11.5f  percent\\n\"", 2.0564);System.out.printf(\""cat =     \"" + \""%11.5f  percent\\n\"", 1232.05);"", ""int temp1 = 1.02int temp2 = 12345.01234"", ""a = \""DMC       1.02    percent\""b = \""POLY  12345.01234 percent\""""]",<java><string><alignment><int><decimal>,11905379,Use:--CODE--It produces:--CODE--You may need to increase the value of %-15s to correctly fit very large numbers.,"[""String.format(\""%-15s%11.5f percent\"", \""DMC\"", 1.02);String.format(\""%-15s%11.5f percent\"", \""POLY\"", 12345.01234);"", ""DMC           1.02000 percentPOLY      12345.01234 percent""]",Fundamental Programming Structures in Java,"{""Strings"": 1.0, ""Data Types"": 0.8}"
9329375,,String mismatch by single letter,I want to find out wheather a string has single mismatch. --CODE--In case 1 both string length is same but it has 1 character mismatchIn case 2 both string length differ by 1 and any one character can be mismatched in both String.,"[""1)CHARACTER INTERCHANGE W/O DISTURBING PATTERNACRPG0182F v/s ACRPG0812FACNPA4428K v/s ACHPA4428K2)CHARACTER LENGTH DIFFERS BY 1 DIGITACRPG0182F v/s ACRPG0812ACRPG0182F v/s CRPG0812F""]",<java><string>,9329434,"get the number using regex (\d+)fill a Set with all characters (numberStr.toCharArray())use [guava](""http://code.google.com/p/guava-libraries/"") Sets - Sets.difference(set1, set2) and see if it has exactly one elementOriginally I thought you need to check the difference in a different way: whether only one digit is different, rather than ""the string contains only one different digit, regardless of the order"". If order is also important, just calculate the [levenshtein distance](""http://en.wikipedia.org/wiki/Levenshtein_distance"") and see if it's equal to 1.StringUtils.getLevenshteinDistance(s1, s2) from [commons-lang](""http://commons.apache.org/lang/"") will do it.",[],Fundamental Programming Structures in Java,"{""Strings"": 1.0}"
10612436,10612728,Unable to execute all statements in code block using threading,I am trying to read a number of files in a folder and process them simultaneously using threads. The structure of the program is like this :--CODE--The call method here creates another object and calls a method on it. But oddly enough the program terminates after executing some lines in the call method(it does not reach the final statement in it). I am confused here. Can someone throw some light on what is happening. Please help me,"[""// Assuming there are 5 files in the directory// creating the threadsExecutorService pool = Executors.newFixedThreadPool(5)ExecutorCompletionService service = new ExecutorCompletionService(pool)directory.listFiles().each { eachFile ->   service.submit(new FileReader(eachFile, param2))}// the FileReader classclass FileReader implements Callable {    File file    String param    FileReader(File file, String param){        this.file = file        this.param = param    }   Object call(){      LOG.info(\""Processing file\"" + filePath)      ConfigInfo configInfo = new ConfigInfo()  configInfo.setFilePath(filePath);  configInfo.setReaderUid(readerUid);  configInfo.setPatternsMap(patternsMap);  new LogfileDataProcessor(configObject, param).processFileContent()   }}""]",<java><multithreading><groovy>,10612728,You need your program wait for thread to be finished. You can use CountDounLatch for example for this:--CODE--You can pass latch into thread as constructor arguments.,"[""CountDownLatch latch = new CountDownLatch(numberOfFilesInDirectory);directory.listFiles().each { eachFile ->   service.submit(new FileReader(eachFile, param2))}latch.await();// And in your Callable:class FileReader implements Callable {File fileString paramFileReader(File file, String param){    this.file = file    this.param = param}public Object call() {    try {    LOG.info(\""Processing file\"" + filePath)    ConfigInfo configInfo = new ConfigInfo()    configInfo.setFilePath(filePath);    configInfo.setReaderUid(readerUid);    configInfo.setPatternsMap(patternsMap);    new LogfileDataProcessor(configObject, param).processFileContent();    } finally {        latch .countDown();    }}""]",Concurrency,"{""Tasks and Thread Pools"": 0.8, ""Thread States"": 0.8}"
13963241,,Convert Document (XML) directly to String in java without using transform or XMLSerializer,Is there another way to convert XML Document object to String just like using transform or XmlSerializer from Apache API? I don't want to use mentioned conversion methods because it renders my output xml modifying tags representation ( like collapsing the empty tags to singleton tags). I want conversion method that output in String from the Document object (kind of treating content of Document object as text).,[],<java><xml><string><domdocument>,13963315,"You could do worse than SAX, by extending [DefaultHandler2](""http://docs.oracle.com/javase/1.5.0/docs/api/org/xml/sax/ext/DefaultHandler2.html"") or [DefaultHandler](""http://docs.oracle.com/javase/1.5.0/docs/api/org/xml/sax/helpers/DefaultHandler.html""):--CODE--","[""class Parser extends DefaultHandler {     StringBuffer sb = new StringBuffer();    public void characters(char[] ch, int start, int length) {        sb.append(new String(ch, start, length);    }    public void startElement(String ns, String qname, String name, Attributes attrs) {        sb.append(qname+\"": \"");    }    public void endElement(String ns, String qname, String name) {        sb.append(\""\\n\"");    }    public String toString() {        return sb.toString();    }}""]",Fundamental Programming Structures in Java,"{""Arrays"": 0.8}"
24550072,24550250,Problems with getting number of chars in a file,I don't understand why the first variant is working and the second is not.--CODE--,"[""BufferedReader reader = new BufferedReader(new InputStreamReader(in, charsetName));try {                char[] buffer = new char[4096];    reader.read(buffer, 0, 4096);    return new String(buffer);} finally {    reader.close();}BufferedReader reader = new BufferedReader(new InputStreamReader(in, charsetName));try {    int size = 0;    int ch=0;    while ((ch=reader.read())!=-1){        size++;    }    char[] buffer = new char[size];    reader.read(buffer, 0, size);    return new String(buffer);} finally {    reader.close();}""]",<java><file>,24550250,"BufferedReader  use a sort of pointer in the file to locate the position from where he should read , this pointer change whenever we call read(*) method. so in your case the second want will read nothing because the pointer has reach the end of the file.",[],Fundamental Programming Structures in Java,"{""Input and Output"": 0.8}"
36442880,,"In Java, how can I convert a string to a double (not Double)?","It's part of a school lab and I've researched and I can't find anything to accomplish this task. I'm reading in lines from a file using FileReader and BufferedReader. The data in the file is a name and an age in the following format:John doe 20 Jane doe 30etc. I already have code that will take each line and split as such:split[0] = {""John"", ""doe"", ""20""}I need to get the ""20"" and store in an array of doubles such as double[0] = 20;The reason it has to be a double and not Double is because that part of the code in the assignment is already written and I'm sure I cannot just decide to change everything and use a Double instead. How can I do this? Thank you in advance!",[],<java><string><double>,36442975,"Use [Double#parseDouble](""https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#parseDouble%28java.lang.String%29"").As you can see the static method returns a primitive double and not an object Double:--CODE----CODE--","[""public static double parseDouble(String s)"", ""public static void main(String[] args) {    String strNumber = \""20\"";    double myParsedDouble = Double.parseDouble(strNumber);    System.out.println(myParsedDouble);}""]",Fundamental Programming Structures in Java,"{""Data Types"": 0.75, ""Strings"": 0.8}"
11827326,11837558,SwingPropertyChangeSupport to dynamically update JTextArea,"I'm trying to build upon the answer to a question regarding SwingPropertyChangeSupportI am attempting to modify the code given here in an answer by the very helpful, Hovercraft Full Of Eels: WindowListener does not work as expected, to allow a displayed array to be updated when changes are entered via an input dialog.The array is updated OK but not refreshed in the GUI. I was hoping someone might be able to tell me where I've gone wrong.here is the code:--CODE---EDIT-Hopefully removed compilation errors.","[""import java.awt.BorderLayout;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import java.awt.event.FocusListener;import java.beans.PropertyChangeEvent;import java.beans.PropertyChangeListener;import javax.swing.JButton;import javax.swing.JFrame;import javax.swing.JOptionPane;import javax.swing.JPanel;import javax.swing.JTextArea;import javax.swing.event.SwingPropertyChangeSupport;public class Main {public static void main(String[] arg) {    GuiForUpdate display = new GuiForUpdate();    display.setVisible(true);}}class GuiForUpdate extends JFrame implements ActionListener {/** *  */private static final long serialVersionUID = 1L;private FocusListener focusListener;private String mList;private JButton changeArrayButton;private JTextArea codeIn, displayOutput;private int arrayIndex;private JPanel displayPanel;private ArrayForUpdating arrayForUpdate = new ArrayForUpdating();public GuiForUpdate() {    setSize(224, 180);    layoutLeft();    layoutDisplay();    layoutBottom();}/** * adds a display area for array */public void layoutDisplay() {    displayPanel = new JPanel();    add(displayPanel, BorderLayout.CENTER);    displayOutput = new JTextArea();    displayPanel.add(displayOutput);    displayOutput.addFocusListener(focusListener);    mList = arrayForUpdate.getBoundProperty();    arrayForUpdate.addPropertyChangeListener(new PropertyChangeListener() {        @Override        public void propertyChange(PropertyChangeEvent pcEvt) {            if (pcEvt.getPropertyName().equals(                    ArrayForUpdating.BOUND_PROPERTY)) {                mList = (pcEvt.getNewValue().toString());            }        }    });    displayOutput.setText(mList);}/** * adds left hand side elements to left of GUI */public void layoutLeft() {    JPanel left = new JPanel();    add(left, BorderLayout.WEST);    codeIn = new JTextArea(2, 2);    left.add(codeIn);    codeIn.addFocusListener(focusListener);}/** * adds bottom elements to bottom of GUI */public void layoutBottom() {    JPanel bottom = new JPanel();    changeArrayButton = new JButton(\""Modify array\"");    changeArrayButton.addActionListener(this);    bottom.add(changeArrayButton);    add(bottom, BorderLayout.SOUTH);}/** * Process button clicks */public void actionPerformed(ActionEvent ae) {    if (ae.getSource() == changeArrayButton) {        // first check if any code entered        if (codeIn.getText().trim().length() != 0) {            // call modifyMemory() method            modifyArray();        } else            JOptionPane.showMessageDialog(null,                    \""Please enter something first.\"");    }}/** * method to process modify array */public void modifyArray() {    // show dialog to retrieve entered address    String addressToModify = (String) JOptionPane            .showInputDialog(\""At which location?\"");    // confirm if a string was entered    if ((addressToModify != null) &amp;&amp; (addressToModify.length() > 0)) {        // convert to integer if decimal address entered        arrayIndex = Integer.parseInt(addressToModify);    }    // pass as integer    processInput(arrayIndex);}public void processInput(int a) {    String newValue = codeIn.getText();    arrayForUpdate.instructionsIn(newValue, a);}}class ArrayForUpdating {public static final String BOUND_PROPERTY = \""bound property\"";private String boundProperty = \""\"";private SwingPropertyChangeSupport spcSupport = new SwingPropertyChangeSupport(        this);private StringBuilder mList;private int[] myArray;public ArrayForUpdating() {    myArray = new int[5];    for (int i = 0; i < myArray.length; i++) {        myArray[i] = 0;    }    setArrayyDisplayString();}/**  * method to create formatted string of array */public void setArrayyDisplayString() {    // create StringBuilder for display in memory tab    mList = new StringBuilder();    for (int i = 0; i < myArray.length; i++) {        mList.append(String.format(\""%10s %02d %10s %02d\"", \""Pos:   \"", i,                \""Value:  \"", myArray[i]));        mList.append(\""\\n\"");    }    setBoundProperty(mList.toString());}/** * This method takes in a string passed through from the GUI */public void instructionsIn(String codeIn, int loc) {    String code = codeIn.trim();    int oc = Integer.parseInt(code);    // add the data to the array    setArrayData(loc, oc);    loc++;}/**    * method to add data to the array */public void setArrayData(int a, int memData) {    myArray[a] = memData;    // print array to console for checking    for (int i = 0; i < myArray.length; i++) {        System.out.println(\""location: \"" + i + \"" value: \"" + myArray[i]);    }    setArrayyDisplayString();}public SwingPropertyChangeSupport getSpcSupport() {    return spcSupport;}public void setSpcSupport(SwingPropertyChangeSupport spcSupport) {    this.spcSupport = spcSupport;}public String getBoundProperty() {    return boundProperty;}public void setBoundProperty(String boundProperty) {        String oldValue = this.boundProperty;        System.out.println(\""old = \"" + oldValue);        String newValue = boundProperty;        System.out.println(\""new = \"" + newValue);        this.boundProperty = newValue;        spcSupport.firePropertyChange(BOUND_PROPERTY, oldValue, newValue);    }    public void addPropertyChangeListener(PropertyChangeListener listener) {    spcSupport.addPropertyChangeListener(listener);    }}""]",<java><arrays><swing><refresh>,11837558,"When I put displayOutput.setText(mList) within the propertyChange method, it worked:--CODE--Thank you to everyone for your help and especially your patience. ","[""@Overridepublic void propertyChange(PropertyChangeEvent pcEvt) {    if (pcEvt.getPropertyName().equals(        ArrayForUpdating.BOUND_PROPERTY)) {        mList = (pcEvt.getNewValue().toString());        displayOutput.setText(mList);    }}""]",User Interface Components with Swing,"{""Text Input"": 0.9}"
34814840,,how to peek password while typing in JPasswordField,"I want to create a JPasswordField where I can see the characters while typing,I tried passtxt.setEchoChar((char) 0); but it completely change the '*' to textI don't want this,I want to view text while typing character by character ( as we see in mobile browsers)thanks--CODE--","[""import java.awt.BorderLayout;import java.awt.Checkbox;import java.awt.event.ItemEvent;import java.awt.event.ItemListener;import javax.swing.Box;import javax.swing.JFrame;import javax.swing.JLabel;import javax.swing.JPanel;import javax.swing.JPasswordField;import javax.swing.JTextField;public class Main {  public static void main(String args[]) {    JFrame f = new JFrame(\""JPasswordField  \"");    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    JPanel p=new JPanel();    p.add(new JLabel(\""Username\""));    p.add(new JTextField(20));     p.add(new JLabel(\""Password\""));    JPasswordField jpassword = new JPasswordField(20);    p.add(jpassword);    Checkbox c=new Checkbox(\""type password and click\"");    c.addItemListener(new ItemListener() {        public void itemStateChanged(ItemEvent e) {            if (e.getStateChange() == ItemEvent.SELECTED) {                jpassword.setEchoChar('*');            } else {                jpassword.setEchoChar((char) 0);            }        }    });    jpassword.setEchoChar((char)0);     p.add(c);    f.add(p);    f.setSize(300, 200);    f.setVisible(true);  }}""]",<java><swing><jpasswordfield>,34815991,"This is an easy solution. Use a JTextField instead of JPasswordField and a String member to store the real password seperately:--CODE--implement a java.awt.event.KeyListener, and overwrite keyReleased like this:--CODE--Add the Listener to the text field and you're done.This will overwrite all but the last character typed in with a * any time a new letter or digit is typed.","[""private JTextField textField = new JTextField();private String password = \""\"";"", ""public void keyReleased(KeyEvent e) {    if (Character.isLetter(e.getKeyChar()) ||         Character.isDigit(e.getKeyChar())) { //Add other valid characters as needed        //Get text and last typed character        String text = textField.getText();        char typed = text.charAt(text.length()-1);        //store typed letter separately for later use        password += (text.length() > 0) ? typed : \""\"";        StringBuilder sb = new StringBuilder();        for (int c=0; c<text.length()-1; c++) {            sb.append(\""*\"");        }        sb.append(typed);        //set password with asterisks, for authentication use member: password        textField.setText(sb.toString());}""]",User Interface Components with Swing,"{""Text Input"": 0.9}"
2738608,,Progress bar in Java,I have got a form in Java (Swing) loading large amount of data from the database. I want to display a progress bar while the program gets actually loaded.How can i do it? The code is as follows:--CODE--,"[""import java.awt.*;import javax.swing.*;import java.awt.event.*;import java.sql.*;import java.applet.*;import java.util.*;import java.awt.Color;public class bookshow extends JFrame implements MouseListener, ActionListener {    JPanel p1, p2, p3;    JLabel l1, l2, l3, l4;    ImageIcon image;    JButton b[] = new JButton[84];    JButton btnocc, btnbook, btnsel;    ResultSet rs;    private JMenuBar menuBar = new JMenuBar();    private JMenuItem exit, home, save;    private JMenu fileMenu, gotoMenu;    public int cnt = 0, x = 150, y = 90, i, j, put = 0, k = 0, avail = 1, point, x1, y1, count = 0, quan;    public static int prev_click = -1, xpos, ypos;    public static int prev[] = new int[5];    public static int pos[][] = new int[5][2];    public String movname, movdate, movtime;    public bookshow() {        avail = 1;        try {            String sql = \""Select * from Pass\"";            String url = \""jdbc:odbc:tbs\"";            Connection con = DriverManager.getConnection(url);            Statement s = con.createStatement();            rs = s.executeQuery(sql);            while (rs.next()) {                movname = rs.getString(\""movname\"");                movdate = rs.getString(\""movdate\"");                movtime = rs.getString(\""movtime\"");                quan = Integer.parseInt(rs.getString(\""Quantity\""));            }        } catch (Exception ex) {            System.out.println(ex);        }        try {            String sql = \""Delete from Pass\"";            String url = \""jdbc:odbc:tbs\"";            Connection con = DriverManager.getConnection(url);            Statement s = con.createStatement();            s.executeUpdate(sql);            con.close();        } catch (Exception ex) {            System.out.println(ex);        }        setTitle(\""Select Ticket\"");        setDefaultCloseOperation(EXIT_ON_CLOSE);        p1 = new JPanel();        getContentPane().add(p1);        p1.setLayout(null);        p1.setBackground(Color.white);        setJMenuBar(menuBar);        fileMenu = new JMenu(\""File\"");        menuBar.add(fileMenu);        exit = new JMenuItem(\""Exit\"");        exit.addActionListener(this);        fileMenu.add(exit);        exit.setAccelerator(KeyStroke.getKeyStroke('E', Event.CTRL_MASK));        save = new JMenuItem(\""Save\"");        save.addActionListener(this);        fileMenu.add(save);        save.setAccelerator(KeyStroke.getKeyStroke('S', Event.CTRL_MASK));        gotoMenu = new JMenu(\""Go To\"");        menuBar.add(gotoMenu);        home = new JMenuItem(\""Home\"");        //exit.addActionListener(this);        gotoMenu.add(home);        home.setAccelerator(KeyStroke.getKeyStroke('H', Event.CTRL_MASK));        p2 = new JPanel();        p2.setLayout(null);        p2.setBackground(Color.lightGray);        p2.setBounds(100, 50, 500, 20);        p1.add(p2);        l1 = new JLabel(\""GOLD\"");        l1.setBounds(240, 0, 100, 20);        p2.add(l1);        l1.setBackground(Color.red);        try {            String sql = \""Select * from Book\"";            String url = \""jdbc:odbc:tbs\"";            Connection con = DriverManager.getConnection(url);            Statement s = con.createStatement();            rs = s.executeQuery(sql);            while (rs.next()) {                String getname = rs.getString(\""MovName\"");                String getdate = rs.getString(\""MovDate\"");                String gettime = rs.getString(\""MovTime\"");                if (movname.equalsIgnoreCase(getname) &amp;&amp; movdate.equals(getdate) &amp;&amp; movtime.equals(gettime)) {                    put = 1;                    break;                }            }        } catch (Exception ex) {            System.out.println(ex);        }        for (i = 1; i <= 4; i++) {            for (j = 1; j <= 14; j++) {                point = 0;                b[cnt] = new JButton();                b[cnt].setBounds(x, y, 20, 20);                b[cnt].setBackground(Color.white);                p1.add(b[cnt]);                if (put == 0) {                    try {                        String sql = \""Insert into Book values('\"" + movname + \""','\"" + movtime + \""','\"" + movdate + \""',\"" + x + \"",\"" + y + \"",1)\"";                        String url = \""jdbc:odbc:tbs\"";                        Connection con = DriverManager.getConnection(url);                        Statement s = con.createStatement();                        s.executeUpdate(sql);                        con.close();                    } catch (Exception ex) {                        System.out.println(ex);                    }                } else {                    try {                        String sql = \""Select * from Book\"";                        String url = \""jdbc:odbc:tbs\"";                        Connection con = DriverManager.getConnection(url);                        Statement s = con.createStatement();                        rs = s.executeQuery(sql);                        while (rs.next()) {                            String getname = rs.getString(\""MovName\"");                            String getdate = rs.getString(\""MovDate\"");                            String gettime = rs.getString(\""MovTime\"");                            avail = Integer.parseInt(rs.getString(\""Avail\""));                            if (movname.equalsIgnoreCase(getname) &amp;&amp; movdate.equals(getdate) &amp;&amp; movtime.equals(gettime)) {                                k++;                                if (avail == 0 &amp;&amp; k == (cnt + 1)) {                                    b[cnt].setBackground(Color.red);                                    point = 1;                                    b[cnt].setEnabled(false);                                }                            }                        }                    } catch (Exception ex) {                        System.out.println(ex);                    }                }                if (point == 0) {                    b[cnt].addMouseListener(this);                }                cnt++;                x = x + 30;                k = 0;            }            x = 150;            y = y + 40;        }        y = 300;        x = 150;        p3 = new JPanel();        p3.setLayout(null);        p3.setBackground(Color.lightGray);        p3.setBounds(100, 260, 500, 20);        p1.add(p3);        l2 = new JLabel(\""ECONOMY\"");        l2.setBounds(220, 0, 100, 20);        p3.add(l2);        l2.setBackground(Color.red);        for (i = 1; i <= 2; i++) {            for (j = 1; j <= 14; j++) {                point = 0;                b[cnt] = new JButton();                b[cnt].setBounds(x, y, 20, 20);                b[cnt].setBackground(Color.white);                p1.add(b[cnt]);                if (put == 0) {                    try {                        String sql = \""Insert into Book values('\"" + movname + \""','\"" + movtime + \""','\"" + movdate + \""',\"" + x + \"",\"" + y + \"",1)\"";                        String url = \""jdbc:odbc:tbs\"";                        Connection con = DriverManager.getConnection(url);                        Statement s = con.createStatement();                        s.executeUpdate(sql);                        con.close();                    } catch (Exception ex) {                        System.out.println(ex);                    }                } else {                    try {                        String sql = \""Select * from Book\"";                        String url = \""jdbc:odbc:tbs\"";                        Connection con = DriverManager.getConnection(url);                        Statement s = con.createStatement();                        rs = s.executeQuery(sql);                        while (rs.next()) {                            String getname = rs.getString(\""MovName\"");                            String getdate = rs.getString(\""MovDate\"");                            String gettime = rs.getString(\""MovTime\"");                            avail = Integer.parseInt(rs.getString(\""Avail\""));                            if (movname.equalsIgnoreCase(getname) &amp;&amp; movdate.equals(getdate) &amp;&amp; movtime.equals(gettime)) {                                k++;                                if (avail == 0 &amp;&amp; k == (cnt + 1)) {                                    b[cnt].setBackground(Color.red);                                    point = 1;                                    b[cnt].setEnabled(false);                                }                            }                        }                    } catch (Exception ex) {                        System.out.println(ex);                    }                }                if (point == 0) {                    b[cnt].addMouseListener(this);                }                cnt++;                x = x + 30;                k = 0;            }            x = 150;            y = y + 40;        }        image = new ImageIcon(\""screen.jpg\"");        l3 = new JLabel(image);        l3.setBounds(70, y + 20, 600, 54);        p1.add(l3);        l4 = new JLabel(\""Seat to Occupy\"");        l4.setBounds(140, 490, 100, 15);        p1.add(l4);        btnocc = new JButton();        btnocc.setBounds(260, 490, 15, 15);        btnocc.setBackground(Color.white);        p1.add(btnocc);        l4 = new JLabel(\""Booked seat\"");        l4.setBounds(320, 490, 80, 15);        p1.add(l4);        btnbook = new JButton();        btnbook.setBounds(410, 490, 15, 15);        btnbook.setBackground(Color.red);        p1.add(btnbook);        l4 = new JLabel(\""Current selection\"");        l4.setBounds(460, 490, 100, 15);        p1.add(l4);        btnsel = new JButton();        btnsel.setBounds(570, 490, 15, 15);        btnsel.setBackground(Color.green);        p1.add(btnsel);        setSize(770, 650);        setVisible(true);    }    public void mousePressed(MouseEvent e) {    }    public void mouseReleased(MouseEvent e) {    }    public void mouseEntered(MouseEvent e) {        Cursor mycursor = new Cursor(Cursor.HAND_CURSOR);        setCursor(mycursor);    }    public void mouseExited(MouseEvent e) {        Cursor mycursor = new Cursor(Cursor.DEFAULT_CURSOR);        setCursor(mycursor);    }    public void mouseClicked(MouseEvent e) {        int row, col, ex;        for (i = 0; i < cnt; i++) {            if (e.getSource().equals(b[i])) {                if (count < quan) {                    prev[count] = i;                    b[prev[count]].setBackground(Color.green);                    row = i / 14;                    col = i % 14;                    x1 = 150 + (30 * col);                    if (row >= 0 &amp;&amp; row <= 3) {                        y1 = 90 + (40 * row);                    } else {                        y1 = 300 + (40 * (row - 4));                    }                    pos[count][0] = x1;                    pos[count][1] = y1;                    count++;                } else {                    ex = prev[0];                    b[ex].setBackground(Color.white);                    for (int j = 0; j <= (count - 1); j++) {                        prev[j] = prev[j + 1];                        pos[j][0] = pos[j + 1][0];                        pos[j][1] = pos[j + 1][1];                    }                    prev[count - 1] = i;                    row = i / 14;                    col = i % 14;                    x1 = 150 + (30 * col);                    if (row >= 0 &amp;&amp; row <= 3) {                        y1 = 90 + (40 * row);                    } else {                        y1 = 300 + (40 * (row - 4));                    }                    pos[count - 1][0] = x1;                    pos[count - 1][1] = y1;                    for (int j = 0; j <= (count - 1); j++) {                        b[prev[j]].setBackground(Color.green);                    }                    count = quan;                }            }        }    }    public void actionPerformed(ActionEvent e) {        if (e.getSource() == save) {            if (count != quan) {                JOptionPane.showMessageDialog(null, \""Please select the exact numbers of seat\"", \""Error\"", JOptionPane.ERROR_MESSAGE);            } else {                for (i = 0; i < count; i++) {                    try {                        String sql = \""Update Book set Avail=0 where MovName='\"" + movname + \""' AND MovDate='\"" + movdate + \""' AND MovTime='\"" + movtime + \""' AND X=\"" + pos[i][0] + \"" AND y=\"" + pos[i][1] + \"" \"";                        String url = \""jdbc:odbc:tbs\"";                        Connection con = DriverManager.getConnection(url);                        Statement s = con.createStatement();                        s.executeUpdate(sql);                        con.close();                    } catch (Exception ex) {                        System.out.println(ex);                    }                    setVisible(false);                    bookmain bm = new bookmain();                }            }        }    }    public static void main(String args[]) {        bookshow mm = new bookshow();    }}""]",<java><swing><progress-bar>,2738629,"[Java progress bar tutorial](""http://java.sun.com/docs/books/tutorial/uiswing/components/progress.html"") should help.Another example can be found in [SwingWorker](""http://java.sun.com/javase/6/docs/api/javax/swing/SwingWorker.html#process(java.util.List)"") java docs entry.Instead of calling the nextPrimeNumber() it could be in your case processNextBook().To work out the progress you could use a similar idea as bellow changing to the variables to something meaningful in your code eg. setProgress(100 * booksProcessed.size() / books.size());The code bellow should give you the basic idea how to achieve what your looking for.--CODE--","[""class PrimeNumbersTask extends          SwingWorker<List<Integer>, Integer> {     PrimeNumbersTask(JTextArea textArea, int numbersToFind) {          //initialize      }     @Override     public List<Integer> doInBackground() {         while (! enough &amp;&amp; ! isCancelled()) {                 number = nextPrimeNumber();                 publish(number);                 setProgress(100 * numbers.size() / numbersToFind);             }         }         return numbers;     }     @Override     protected void process(List<Integer> chunks) {         for (int number : chunks) {             textArea.append(number + \""\\n\"");         }     } } JTextArea textArea = new JTextArea(); final JProgressBar progressBar = new JProgressBar(0, 100); PrimeNumbersTask task = new PrimeNumbersTask(textArea, N); task.addPropertyChangeListener(     new PropertyChangeListener() {         public  void propertyChange(PropertyChangeEvent evt) {             if (\""progress\"".equals(evt.getPropertyName())) {                 progressBar.setValue((Integer)evt.getNewValue());             }         }     });""]",User Interface Components with Swing,"{""Sophisticated Layout Management"": 0.7, ""Choice Components"": 0.7}"
13402889,13402939,What will happen if we are creating the Java Swing application in main thread?,What will happen if we are creating the Java Swing application in main thread? Rule of thumb is that we have to start the application in EDT??please help.,[],<java><swing><rule>,13402939,"Q1. Rule of thumb is that we have to start the application in EDTNot really a rule of thumb - more like a requirement [specified by the library](""http://docs.oracle.com/javase/7/docs/api/javax/swing/package-summary.html""):  In general Swing is not thread safe. All Swing components and related classes, unless otherwise documented, must be accessed on the event dispatching thread. Q2. What will happen if we are creating the Java Swing application in main thread?It might work or not: the behaviour is unspecified. An example is given on that same page:  If you modify the model on a separate thread you run the risk of exceptions and possible display corruption.",[],User Interface Components with Swing,"{""Swing and the Model-View-Controller Design Pattern"": 0.8}"
15832791,,Change the icon name in the notification area in windows in Java,I created a program that supports system tray notifications. I set an icon with a tooltip and balloon message for my system tray. When i start the program the icon appears in the Notification Area Icons in Windows and the Default Name next to it is Java(TM) Platform SE Binary. Can I change this default name to a custom name like my program name?,[],<java><swing><system-tray><trayicon>,15834152,please caused with this code too--CODE--,"[""import java.awt.AWTException;import java.awt.Color;import java.awt.Component;import java.awt.Graphics;import java.awt.Graphics2D;import java.awt.GraphicsConfiguration;import java.awt.GraphicsDevice;import java.awt.GraphicsEnvironment;import java.awt.Image;import java.awt.MenuItem;import java.awt.PopupMenu;import java.awt.SystemTray;import java.awt.TrayIcon;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import java.awt.image.BufferedImage;import java.beans.PropertyChangeEvent;import java.beans.PropertyChangeListener;import java.util.logging.Level;import java.util.logging.Logger;import javax.swing.AbstractAction;import javax.swing.Action;import javax.swing.Icon;import javax.swing.ImageIcon;import javax.swing.SwingUtilities;import javax.swing.Timer;import javax.swing.UIManager;public class ActiveTray {    private SystemTray tray;    private TrayIcon trayIcon;    private Icon icon, icon1;    private Image image, image1;    private Timer timer;    public ActiveTray() {        if (SystemTray.isSupported() == false) {            System.err.println(\""No system tray available\"");            return;        }        tray = SystemTray.getSystemTray();        PropertyChangeListener propListener = new PropertyChangeListener() {            public void propertyChange(PropertyChangeEvent evt) {                TrayIcon oldTray[] = (TrayIcon[]) evt.getOldValue();                TrayIcon newTray[] = (TrayIcon[]) evt.getNewValue();                System.out.println(oldTray.length + \"" / \"" + newTray.length);            }        };        tray.addPropertyChangeListener(\""trayIcons\"", propListener);        icon = new BevelArrowIcon(BevelArrowIcon.UP, false, false);        image = iconToImage(icon);        icon1 = new BevelArrowIcon(BevelArrowIcon.DOWN, false, false);        image1 = iconToImage(icon1);        PopupMenu popup = new PopupMenu();        MenuItem item = new MenuItem(\""Hello, World\"");        trayIcon = new TrayIcon(image, \""Tip Text\"", popup);        ActionListener menuActionListener = new ActionListener() {            public void actionPerformed(ActionEvent e) {                trayIcon.displayMessage(\""Good-bye\"", \""Cruel World\"",                        TrayIcon.MessageType.WARNING);            }        };        item.addActionListener(menuActionListener);        popup.add(item);        ActionListener actionListener = new ActionListener() {            public void actionPerformed(ActionEvent e) {                tray.remove(trayIcon);            }        };        trayIcon.addActionListener(actionListener);        try {            tray.add(trayIcon);            start();        } catch (AWTException ex) {            Logger.getLogger(ActiveTray.class.getName()).log(Level.SEVERE, null, ex);        }    }    private void start() {        timer = new javax.swing.Timer(125, updateCol());        timer.start();        trayIcon.displayMessage(null, \""  Aplication Loaded  \"", TrayIcon.MessageType.NONE);    }    private Action updateCol() {        return new AbstractAction(\""Icon load action\"") {            private static final long serialVersionUID = 1L;            @Override            public void actionPerformed(ActionEvent e) {                Runnable doRun = new Runnable() {                    @Override                    public void run() {                        Image img = trayIcon.getImage();                        if (img == image) {                            trayIcon.setImage(image1);                        } else {                            trayIcon.setImage(image);                        }                    }                };                SwingUtilities.invokeLater(doRun);            }        };    }    public static void main(String args[]) {        ActiveTray activeTray = new ActiveTray();    }    static Image iconToImage(Icon icon) {        if (icon instanceof ImageIcon) {            return ((ImageIcon) icon).getImage();        } else {            int w = icon.getIconWidth();            int h = icon.getIconHeight();            GraphicsEnvironment ge =                    GraphicsEnvironment.getLocalGraphicsEnvironment();            GraphicsDevice gd = ge.getDefaultScreenDevice();            GraphicsConfiguration gc = gd.getDefaultConfiguration();            BufferedImage image = gc.createCompatibleImage(w, h);            Graphics2D g = image.createGraphics();            icon.paintIcon(null, g, 0, 0);            g.dispose();            return image;        }    }    static class BevelArrowIcon implements Icon {        public static final int UP = 0;         // direction        public static final int DOWN = 1;        private static final int DEFAULT_SIZE = 16;        private Color edge1;        private Color edge2;        private Color fill;        private int size;        private int direction;        public BevelArrowIcon(int direction, boolean isRaisedView,                boolean isPressedView) {            if (isRaisedView) {                if (isPressedView) {                    init(UIManager.getColor(\""controlLtHighlight\""),                            UIManager.getColor(\""controlDkShadow\""),                            UIManager.getColor(\""controlShadow\""),                            DEFAULT_SIZE, direction);                } else {                    init(UIManager.getColor(\""controlHighlight\""),                            UIManager.getColor(\""controlShadow\""),                            UIManager.getColor(\""control\""),                            DEFAULT_SIZE, direction);                }            } else {                if (isPressedView) {                    init(UIManager.getColor(\""controlDkShadow\""),                            UIManager.getColor(\""controlLtHighlight\""),                            UIManager.getColor(\""controlShadow\""),                            DEFAULT_SIZE, direction);                } else {                    init(UIManager.getColor(\""controlShadow\""),                            UIManager.getColor(\""controlHighlight\""),                            UIManager.getColor(\""control\""),                            DEFAULT_SIZE, direction);                }            }        }        public BevelArrowIcon(Color edge1, Color edge2, Color fill,                int size, int direction) {            init(edge1, edge2, fill, size, direction);        }        @Override        public void paintIcon(Component c, Graphics g, int x, int y) {            switch (direction) {                case DOWN:                    drawDownArrow(g, x, y);                    break;                case UP:                    drawUpArrow(g, x, y);                    break;            }        }        @Override        public int getIconWidth() {            return size;        }        @Override        public int getIconHeight() {            return size;        }        private void init(Color edge1, Color edge2, Color fill,                int size, int direction) {            edge1 = Color.red;            edge2 = Color.blue;            this.edge1 = edge1;            this.edge2 = edge2;            this.fill = fill;            this.size = size;            this.direction = direction;        }        private void drawDownArrow(Graphics g, int xo, int yo) {            g.setColor(edge1);            g.drawLine(xo, yo, xo + size - 1, yo);            g.drawLine(xo, yo + 1, xo + size - 3, yo + 1);            g.setColor(edge2);            g.drawLine(xo + size - 2, yo + 1, xo + size - 1, yo + 1);            int x = xo + 1;            int y = yo + 2;            int dx = size - 6;            while (y + 1 < yo + size) {                g.setColor(edge1);                g.drawLine(x, y, x + 1, y);                g.drawLine(x, y + 1, x + 1, y + 1);                if (0 < dx) {                    g.setColor(fill);                    g.drawLine(x + 2, y, x + 1 + dx, y);                    g.drawLine(x + 2, y + 1, x + 1 + dx, y + 1);                }                g.setColor(edge2);                g.drawLine(x + dx + 2, y, x + dx + 3, y);                g.drawLine(x + dx + 2, y + 1, x + dx + 3, y + 1);                x += 1;                y += 2;                dx -= 2;            }            g.setColor(edge1);            g.drawLine(xo + (size / 2), yo + size - 1, xo                    + (size / 2), yo + size - 1);        }        private void drawUpArrow(Graphics g, int xo, int yo) {            g.setColor(edge1);            int x = xo + (size / 2);            g.drawLine(x, yo, x, yo);            x--;            int y = yo + 1;            int dx = 0;            while (y + 3 < yo + size) {                g.setColor(edge1);                g.drawLine(x, y, x + 1, y);                g.drawLine(x, y + 1, x + 1, y + 1);                if (0 < dx) {                    g.setColor(fill);                    g.drawLine(x + 2, y, x + 1 + dx, y);                    g.drawLine(x + 2, y + 1, x + 1 + dx, y + 1);                }                g.setColor(edge2);                g.drawLine(x + dx + 2, y, x + dx + 3, y);                g.drawLine(x + dx + 2, y + 1, x + dx + 3, y + 1);                x -= 1;                y += 2;                dx += 2;            }            g.setColor(edge1);            g.drawLine(xo, yo + size - 3, xo + 1, yo + size - 3);            g.setColor(edge2);            g.drawLine(xo + 2, yo + size - 2, xo + size - 1, yo + size - 2);            g.drawLine(xo, yo + size - 1, xo + size, yo + size - 1);        }    }}""]",User Interface Components with Swing,"{""Choice Components"": 0.8, ""Sophisticated Layout Management"": 0.8}"
20826518,20827661,Space out console text without tabs using Java,Hey I am currently writing an expression calculator in Java. I have now got it to work but can't figure out how to space out writing in the terminal what I want is two list next to each other. I would originally of used tabs but because the arrays can grow it moves the other one. Here's what I get now:--CODE--Heres what I would like to achieve:--CODE--Heres the code I am currently using to print the stack and output buffer:--CODE--,"[""OUTPUT BUFFER               STACK[]                          [][(]                         [][(]                         [4][(, +]                      [4][(, +, (]                   [4][(, +, (]                   [4, 2][(, +, (, *]                    [4, 2][(, +, (, *, (]                 [4, 2][(, +, (, *, (]                 [4, 2, -2][(, +, (, *, (, -]                  [4, 2, -2][(, +, (, *, (, -]                  [4, 2, -2, 1][(, +, (, *]                    [4, 2, -2, 1, -][(, +]                     [4, 2, -2, 1, -, *][]                         [4, 2, -2, 1, -, *, +][*]                        [4, 2, -2, 1, -, *, +][*]                        [4, 2, -2, 1, -, *, +, 1.5][%]                        [4, 2, -2, 1, -, *, +, 1.5, *]FINAL OUTPUT: [4, 2, -2, 1, -, *, +, 1.5, *, 2, %]INFIX: ( 4 + ( 2 * ( -2 - 1 ) ) ) * 1.5 % 2 POSTFIX: 4 2 -2 1 - * + 1.5 * 2 % TOKEN   ACTION      STACK4      Add             [4.0]2      Add             [4.0, 2.0]-2     Add             [4.0, 2.0, -2.0]1      Add             [4.0, 2.0, -2.0, 1.0]-      Operate         [4.0, 2.0, -3.0]*      Operate         [4.0, -6.0]+      Operate         [-2.0]1.5    Add             [-2.0, 1.5]*      Operate         [-3.0]2      Add             [-3.0, 2.0]%      Operate         [-1.0]ANSWER: -1.0"", ""OUTPUT BUFFER               STACK[]                          [][(]                         [][(]                         [4][(, +]                      [4][(, +, (]                   [4][(, +, (]                   [4, 2][(, +, (, *]                [4, 2][(, +, (, *, (]             [4, 2][(, +, (, *, (]             [4, 2, -2][(, +, (, *, (, -]          [4, 2, -2][(, +, (, *, (, -]          [4, 2, -2, 1][(, +, (, *]                [4, 2, -2, 1, -][(, +]                      [4, 2, -2, 1, -, *][]                          [4, 2, -2, 1, -, *, +][*]                         [4, 2, -2, 1, -, *, +][*]                         [4, 2, -2, 1, -, *, +, 1.5][%]                         [4, 2, -2, 1, -, *, +, 1.5, *]FINAL OUTPUT: [4, 2, -2, 1, -, *, +, 1.5, *, 2, %]INFIX: ( 4 + ( 2 * ( -2 - 1 ) ) ) * 1.5 % 2 POSTFIX: 4 2 -2 1 - * + 1.5 * 2 % TOKEN   ACTION      STACK4      Add           [4.0]2      Add           [4.0, 2.0]-2     Add           [4.0, 2.0, -2.0]1      Add           [4.0, 2.0, -2.0, 1.0]-      Operate       [4.0, 2.0, -3.0]*      Operate       [4.0, -6.0]+      Operate       [-2.0]1.5    Add           [-2.0, 1.5]*      Operate       [-3.0]2      Add           [-3.0, 2.0]%      Operate       [-1.0]ANSWER: -1.0"", ""System.out.println(\""OUTPUT BUFFER\\t\\t\\t\\tSTACK\"");ArrayList<String> out = new ArrayList<String>();Stack<String> stack = new Stack<String>();for(String token : inputTokens){    System.out.print(stack+ \""\\t\\t\\t\\t\\t\"");    System.out.println(out);    if(isOperator(token)){        while(!stack.empty() &amp;&amp; isOperator(stack.peek())){            if (checkPri(token, stack.peek())<=0 || checkPri(token, stack.peek()) < 0 ){                out.add(stack.pop());                //System.out.println(\""OUTPUT: \"" + out);                continue;            }            break;        }        stack.push(token);    }else if(token.equals(\""(\"")){        stack.push(token);    }else if(token.equals(\"")\"")){        while(!stack.empty() &amp;&amp; !stack.peek().equals(\""(\"")){            out.add(stack.pop());        }        stack.pop();    } else {        out.add(token);        //System.out.println(\""OUTPUT BUFFER: \"" + out);    }}""]",<java><string><printing><stack><shunting-yard>,20827661,"you can use String.format(String,args...) or System.out.printf(String,args...);I don't know how to explain due to my poor english, but here the example:--CODE--will get this output:--CODE--","[""int i=10000,j=200,k=5000000;System.out.printf(\""%10d%10d%10d\"",i,j,k);"", ""10000     200       5000000^         ^         ^each has ten spaces between them because of %10d""]",Collections,"{""Concrete Collections"": 0.75, ""Legacy Collections"": 0.85}"
29473686,29473941,paintComponent does not paint correctly,I'm trying to  make checkers game but the following architecture does not show on  JFrame what I'm doing wrong //base class --CODE--//black rectangle  --CODE--//white rectangle  --CODE--and here the Main  Class    import javax.swing.JFrame;--CODE--I expect something like thisSo what's wrong with my code? why paintComponent in  CaseBlanche and CaseNoire does not behave as expected?Please help   ,"[""import java.awt.event.MouseEvent;import java.awt.event.MouseListener;import javax.swing.*;public abstract class   Case extends JComponent implements MouseListener {     /**     *      */    private static final long serialVersionUID = 1L;    protected static final int LONGUEUR=40;     protected  int x,y,width,height;       @Override    public void mouseClicked(MouseEvent arg0) {        // TODO Auto-generated method stub    }    @Override    public void mouseEntered(MouseEvent arg0) {        // TODO Auto-generated method stub    }    @Override    public void mouseExited(MouseEvent arg0) {        // TODO Auto-generated method stub    }    @Override    public void mousePressed(MouseEvent arg0) {        // TODO Auto-generated method stub    }    @Override    public void mouseReleased(MouseEvent e) {        // TODO Auto-generated method stub    }}"", ""import java.awt.Color;import java.awt.Graphics;public class CaseNoire extends Case{/**     *      */    private static final long serialVersionUID = 1L;    public CaseNoire(int x, int y,int width,int height)    {        this.x=x;        this.y=y;          this.width = width;           this.height= height;    }@Overrideprotected void paintComponent(Graphics g){       g.setColor(Color.black);          g.fillRect(x, y,width,height);  }}"", ""import java.awt.Color;import java.awt.Dimension;import java.awt.Graphics;public class CaseBlanche extends Case {    /**     *      */    private static final long serialVersionUID = 1L;    public CaseBlanche(int x, int y,int width,int height)    {        this.x=x;        this.y=y;          this.width = width;           this.height= height;    }    @Override    public void paintComponent(Graphics g)    {        super.paintComponent(g);        g.setColor(Color.white);              g.fillRect(x, y,width,height);       }}import java.awt.Color;import java.awt.Graphics;import java.awt.Paint;import javax.swing.JComponent;import javax.swing.JPanel;public class Plateau extends JComponent{    private Case[][] cases= new Case[10][10];      @Override    protected void paintComponent(Graphics g) {        // TODO Auto-generated method stub        super.paintComponent(g);                           for(int i=0; i<10;  i++)           {               for(int j=0;j<10;j++)               {                   if((i+j)%2==0)                   {                       CaseBlanche blanche= new CaseBlanche(j*Case.LONGUEUR,i*Case.LONGUEUR,Case.LONGUEUR, Case.LONGUEUR);                       //cases[i][j]=blanche;                       add(blanche);                        //g.setColor(Color.white);                             // g.fillRect(j*40, i*40,40,40);                    }                   else                   {                       CaseNoire caseNoire=new CaseNoire(j*Case.LONGUEUR,i*Case.LONGUEUR,Case.LONGUEUR, Case.LONGUEUR);                   add(caseNoire);                   }                                  }           }                            }}"", ""public class MainDamesFrame extends JFrame {    /**     *      */    private static final long serialVersionUID = 1L;    public static void main(String[] args )    {        MainDamesFrame damesFrame = new MainDamesFrame();     }     public  MainDamesFrame()        {        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        setTitle(\""Jeu de Dames\"");                                   this.getContentPane().add(new Plateau());               setSize(800, 600);        setVisible(true);                       }}""]",<java><swing>,29473941,"--CODE--You have a typo. Get rid of the ""s"" in paintComponents().--CODE--This won't work as you expected because the (880, 600) included the title bar and borders, so some of the squares will not be painted properly.So, your custom painting classes should override the getPreferredSize() method to return the size of each component. Then you can use the pack() method to make sure the components are properly sized.There is no need for the CaseNoir and CaseBlanche classes. When you create the Case object you can just use:--CODE--Then when you paint the component you just use:--CODE--Also, your Plateau class is wrong. The paintComponent() method is for painting. Your code is creating and adding components components. If you want to add components then you should be using a layout manager. The GridLayout will easily add components in a grid as long as the getPreferredSize() method has been implemented. You create the component with a specified width/height, so to implement this method you do something like:--CODE--Check out this Chessboard Example for a way to add components in a grid.","[""public void paintComponents(Graphics g)"", ""setSize(800, 600);"", ""setBackground(Color.BLACK);"", ""g.setColor( getBackground() );"", ""@Overridepublic Dimension getPreferredSize(){    return new Dimension(width, height)}""]",User Interface Components with Swing,"{""Choice Components"": 0.8, ""Text Input"": 0.8}"
18219316,,after compiling code JFrame does not appear,"I'm using the Intellij idea platform.I have the following code:--CODE--I expected to see a JFrame after compiling this code, but was nothing appeared. What kind of problem can it be?Also must admit, that I haven't possibility to run method ""main"". InteligIdea propose me only to compile Ramka.java. After compiling IntelijIdeay says, that compilation completed successfully, but thats all and is nothing happened. In my previous exercises I always ran method ""main"".","[""package GUI.test;import javax.swing.*;public class Ramka extends JFrame{    Ramka(){        setVisible(true);        setSize(100,100);    }    public void main (String[] args){        new Ramka();    }}""]",<java><swing><jform>,18219888,"You should do something like this:--CODE--Besides missing the static identifier at main, you also have to make sure that your frame runs in the right thread check [""concurrency""](""http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html"") for swing","[""public static void main (String[] args){            java.awt.EventQueue.invokeLater(new Runnable() {            public void run() {                new Ramka().setVisible(true);            }        });    }""]",User Interface Components with Swing,"{""Choice Components"": 0.8, ""Text Input"": 0.8}"
44930223,,JButtons in JPanel take too much space,"i have a problem with some buttons and panels. I created a JPanel with a GridBagLayout 6x1.--CODE--The problem comes when i try to add buttons to this panel as they take space based on how many they are, even tho they should have fixed size. For example if I do--CODE--I create 4 buttons and the panel is supposed to have 4 button and 2 ""empty spaces"". But instead it ha 4 buttons that take all the space they can.[](""https://i.stack.imgur.com/rTpHs.png"")  If i do--CODE--I get this instead[](""https://i.stack.imgur.com/bDkVk.png"")Shouldn't the dimensions be fixed? Can anyone help me?","[""        GraphicPaintedPanel deck = new GraphicPaintedPanel();        GridBagLayout gblDecks = new GridBagLayout();                                                       gblDecks.columnWidths = new int[]{0, 0, 0, 0, 0, 0, 0};        gblDecks.rowHeights = new int[]{0, 0};        gblDecks.columnWeights = new double[]{0.15, 0.15, 0.15, 0.15, 0.15, 0.15, Double.MIN_VALUE};        gblDecks.rowWeights = new double[]{1.0, Double.MIN_VALUE};        deck.setLayout(gblDecks);"", ""            for(int j=0; j<4; j++){            JButton activate= new JButton(\""ACTIVATE LEADER CARD\"");            GridBagConstraints gbcActivate = new GridBagConstraints();            gbcActivate.gridx = j;            gbcActivate.fill = GridBagConstraints.BOTH;            deck.add(activate, gbcActivate);            }"", ""            for(int j=0; j<6; j++){            JButton activate= new JButton(\""ACTIVATE LEADER CARD\"");            GridBagConstraints gbcActivate = new GridBagConstraints();            gbcActivate.gridx = j;            gbcActivate.fill = GridBagConstraints.BOTH;            deck.add(activate, gbcActivate);            }""]",<java><swing><jpanel><jbutton><gridbaglayout>,44930580,"gbcActivate.fill = GridBagConstraints.BOTHIf we go to the [tutorial](""https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html"") it says:  fill   Used when the component's display area is larger than the component's requested size to determine whether and how to resize the component. Valid values (defined as GridBagConstraints constants) include NONE (the default), HORIZONTAL (make the component wide enough to fill its display area horizontally, but do not change its height), VERTICAL (make the component tall enough to fill its display area vertically, but do not change its width), and BOTH (make the component fill its display area entirely).So, it will fill the display area independtly of what you specify for the columnWeights, etc. Try removing it or changing it for GridBagConstraints.NONEOr as suggested in the comments above, use another [layout manager](""https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html"") such as [FlowLayout](""https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html#flow"")",[],User Interface Components with Swing,"{""Introduction to Layout Management"": 0.8, ""Choice Components"": 0.8}"
34673150,34673195,Java Swing: How to remove the default-spacing for JButtons in a JPanel,"I'm busy writing a button menu for a Java Swing application and I am wondering if it is possible to remove the padding between JButtons that are added to a JPanel.The JPanel uses a FlowLayout that is aligned left.--CODE--The buttons are standard JButtons--CODE--I added the JButtons to the panel as normal--CODE--Everything works as expected but what do I need to do to remove the default spacing between the buttons?I found a suggested solution online which is the following--CODE--However this seems to remove the spacing inside of the button and not the spacing between each button.Is this spacing produced by the FlowLayout? If so, how can I remove it?","[""JPanel panelMenu = new JPanel(new FlowLayout(FlowLayout.LEFT));"", ""JButton buttOne = new JButton(\""One\"");JButton buttTwo = new JButton(\""Two\"");"", ""add(panelMenu, BorderLayout.NORTH);panelMenu.add(buttOne);panelMenu.add(buttTwo);"", ""buttOne.setBorder(null);buttOne.setBorderPainted(false);buttOne.setMargin(new Insets(0,0,0,0));buttTwo.setBorder(null);buttTwo.setBorderPainted(false);buttTwo.setMargin(new Insets(0,0,0,0));""]",<java><swing><jbutton><spacing><flowlayout>,34673195,"// 0, 0 equates to horizontal and vertical offsets, the default is 5.--CODE--Should sort it!","[""JPanel panelMenu = new JPanel(new FlowLayout(FlowLayout.LEFT, 0, 0));""]",User Interface Components with Swing,"{""Choice Components"": 0.85}"
34159151,,Why is the overridden `add` method that JFrame defines is not mentioned in the API documentation of JFrame?,"Quoting [http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html](""http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html"") :  As a conveniance add and its variants, remove and setLayout have  been overridden to forward to the contentPane as necessary. This means  you can write:--CODE--    And the child will be added to the contentPane. Quoting from Core Java Volume I - Fundamentals (9th Edition), Chapter 7,Section 7.4.  As of Java SE 5.0, the JFrame.add method has given up trying to  reeducate programmers, and simply calls add on the content pane.    Thus, you can simply use the call--CODE--But when I scroll through the API docs at[http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html](""http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html""), Ican't find any documentation on the add method in JFrame thatoverrides an add method of a parent class.In fact, the first occurrence of any add method I see in this page isin the 'Methods inherited from class java.awt.Container' section of thepage.Why is the overridden add method that JFrame defines is not mentionedin the API documentation of JFrame?","[""frame.add(child);"", ""frame.add(c);""]",<java><swing>,34160822,"[add](""http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html#add(java.awt.Component)"") has not been overridden and still is inherited from [java.awt.Container](""http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html"") but as you can see below, a call is made to addImpl which is overridden in [JFrame](""http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html"")--CODE--[JFrame#addImpl()](""http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html#addImpl(java.awt.Component,%20java.lang.Object,%20int)"")  Adds the specified child Component. This method is overridden to  conditionally forward calls to the contentPane. By default, children  are added to the contentPane instead of the frame, refer to  RootPaneContainer for details.","[""376     public Component add(Component comp) {377         addImpl(comp, null, -1);378         return comp;379     }""]",User Interface Components with Swing,"{""Choice Components"": 0.85}"
33689850,33689993,Using ReentrantLock instead of synchronized for improving performance,"I'm trying to find the most optimal solution for my particular situation. I currently have the following class:--CODE--The class represents all updates of amount of money shared by a user group. The group may consist up to 100 users. The amount field may be updated by any user of the group concurrently.Calling the update(int) includes entering two synchronized blocks which is not very good from performance standpoint. Also it may happen that the BULK operation will be computed twice or more times even if there is no need for it. Actually, assume that three threads are trying to acces update() concurrently. The check(date) returned true in each of the threads. It doesn't do any harm, but the BULK operation is quite heavy (more thaqn 1 minute). So, it's critical to not perform it even twice if there is no need.It's not possible to wrap the BULK operation into a synchronized block becuase it includes calling a couple of alien methods. So, I tend to use ReentrantLock instead of synchronization. The class then may be rewritten as follows:--CODE--QUESTION: Is such using of ReentrantLock more efficient in such circumstances than explicit synchronization.","[""public class Container    private volatile Date date;    private int amount;    private final Object lock = new Object();    public void update(int amount){        int actualAmount;        if(check(date)){              //do some BULK computation to compute the actualAmount             synchronized(lock){                 date = new Date();                 this.amount = actualAmount;             }        }    }    private boolean check(Date date){        synchronized(lock){          //reading from the date and returning true if the date is expired        }    }}"", ""public class Container    private volatile Date date;    private int amount;    private final Lock lock = new ReentrantLock();    public void update(int amount){        int actualAmount;        lock.lock();        try{            if(check(date)){                 //do some BULK computation to compute the actualAmount                 date = new Date();                 this.amount = actualAmount;            }        } finally {            lock.unlock();        }    }    private boolean check(Date date){         //reading from the date and returning true if the date is expired    }}""]",<java><multithreading><synchronization><locking>,33689993,You can do the same without synchronization.Synchronization is needed only if a thread needs to know the value of a variable to update it. If the thread only change a variable it is sufficient to define it as volatile.--CODE--NOTE: A synchronization can be necessary if the amount depends on the actual amount value. A synchronization for date is not necessary,"[""public class Container    private volatile Date date;    private volatile int amount;    public void update(int amount){        int actualAmount;        if (check(date)) {              //do some BULK computation to compute the actualAmount             date = new Date();             this.amount = actualAmount;        }    }    private boolean check(Date date) {          //reading from the date and returning true if the date is expired    }}""]",Concurrency,"{""Synchronization"": 0.8}"
8178847,8179009,Frequently Used Hash Maps But With Concurrency,"I'm reaching back to a previous question I had: Frequently Used metadata HashmapHowever, this time how would I adapt that solution to work with ConcurrentMap? LinkedHashMap isn't a synchronized collection, and due to performance reasons I don't want to wrap it in sycronizedMap. Is there an alternative [concurrent friendly] solution  to solve this problem?The original problem was that I need a hash map that gets rid of the least used items after so many entries. ",[],<java><multithreading><performance><concurrency>,8179009,"The Guava [MapMaker](""http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/MapMaker.html"") and [CacheBuilder](""http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/cache/CacheBuilder.html"") classes can generate concurrent maps with an LRU eviction policy.  The CacheBuilder class is preferred for caching use-cases, as the Guava developers are in the process of stripping the cache support methods out of MapMaker.",[],Concurrency,"{""Synchronization"": 0.8, ""Thread-Safe Collections"": 0.85}"
5983799,5989730,Fading Jpanels in and out in a JFrame,"I would like to make a game with multiple JPanels in a single global JFrame. I would like to switch these JPanels but with a nice animation like fade in and fade out. How would you be able to fade a JPanel out, switch the JPanel to a new one, and fade the new in (preferably without an external library)?Thanks a lot",[],<java><swing><user-interface><jpanel><fade>,5989730,"Maybe  [http://filthyrichclients.org/](""http://filthyrichclients.org/"")has some nice ideas and examples(online) to get started. It contains many swing animation details.",[],User Interface Components with Swing,"{""Choice Components"": 0.8}"
8049561,8050690,FlowLayout does not use multiple lines within GridBagLayout,"Normally, FlowLayout uses more than one line if needed. Apparently this doesn't happen if the component with the FlowLayout is itself part of a GridBagLayout.Consider this code:--CODE--This code is intended to display the JLabels ""Label #1"", ""Label #2"" etc. on multiple lines, but in fact it only uses one line.I can force it to use multiple lines by removing the '//' before the call to setPreferredSize in the above code, but this requires me to set both a width and a height, and I don't know what height to use. (I cannot use FontMetrics to calculate the height, because in my actual case the JLabels are in reality small JPanels of varying size.)So is there a way to force FlowLayout to use multiple lines? (Or, alternatively, is there a way to calculate the required height of a component when its width is known?)","[""import java.awt.*;import javax.swing.*;public class Xyzzy extends JFrame{    public static void main(String[] args) {        javax.swing.SwingUtilities.invokeLater(new Runnable() {            public void run() {                Xyzzy frame = new Xyzzy();                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);                frame.setLayout(new GridBagLayout());                JPanel top = new JPanel();                top.setLayout(new FlowLayout());                for (int i=1; i<=30; ++i)                    top.add(new JLabel(String.format(\""Label #%d\"",i)));                GridBagConstraints c = new GridBagConstraints();                c.weightx = 1.0;                c.gridwidth = GridBagConstraints.REMAINDER;                c.anchor = GridBagConstraints.CENTER;                frame.add(top,c);                frame.add(new JLabel(\""Bottom\""),c);                //top.setPreferredSize(new Dimension(500,300));                frame.setSize(600, 600);                frame.setVisible(true);            }        });    }}""]",<java><swing>,8050690,Try to add constraint parameters:--CODE--It should allow growing of panel with FlowLayout in vertical direction.,"[""c.weighty = 1.0;c.fill = GridBagConstraints.VERTICAL;""]",User Interface Components with Swing,"{""Sophisticated Layout Management"": 0.95}"
19738402,19739656,How do I get a JPanel with an empty JLabel to take up space in a GridBagLayout,"I am  working on a GUI for a project at school. I am using a GridBagLayout in swing.I want to have a label indicating the input(a type of file @ x = 0, y = 0), followed by another label(the actual file name once selected @ x = 1, y = 0), followed by a browse button for a file chooser( @ x = 2, y = 0). The label at (1,0) is initially blank, however I want the area that the text will occupy to take up some space when the label contains no text. I also want the space between the label at (0,0) and the button at (2,0) to remain constant.To achieve this, I'm trying to put the label onto a panel and then play with the layouts. However I can't seam to achieve the desired results. Could anyone offer some suggestions? The next three rows of the GridBagLayout will be laid out exactly the same way. Here is a link to a screen shot of the GUI. --CODE--","[""    calibrationFileSelectionValueLabel = new JLabel(\""\"",Label.LEFT);    calibrationFileSelectionValueLabel.setName(\""calibrationFileSelection\"");    calibrationFileSelectionValueLabel.setMinimumSize(new Dimension(100,0));    calibrationFileSelectionValuePanel = new JPanel();    calibrationFileSelectionValuePanel.setBorder(BorderFactory.createEtchedBorder());    calibrationFileSelectionValuePanel.add(calibrationFileSelectionValueLabel);    c.gridx = 0;    c.gridy = 0;    c.fill = GridBagConstraints.NONE;    filesPanel.add(calibrationFileLabel,c);    c.gridy = 1;    filesPanel.add(frequencyFileLabel,c);    c.gridy = 2;    filesPanel.add(sampleFileLabel,c);    c.gridy = 3;    filesPanel.add(outputFileLabel,c);    c.gridx = 1;    c.gridy = 0;    c.fill = GridBagConstraints.BOTH;   // filesPanel.add(calibrationFileSelection,c);    filesPanel.add(calibrationFileSelectionValuePanel,c);    c.gridy = 1;   // filesPanel.add(frequencyFileSelection,c);    filesPanel.add(frequencyFileSelectionValueLabel,c);    c.gridy = 2;   // filesPanel.add(sampleFileSelection,c);    filesPanel.add(sampleFileSelectionValueLabel,c);    c.gridy = 3;   // filesPanel.add(outputFileSelection,c);    filesPanel.add(outputFileSelectionValueLabel,c);    c.gridx = 2;    c.gridy = 0;    c.fill = GridBagConstraints.NONE;    filesPanel.add(calibrationFileSelectionButton,c);    c.gridy = 1;    filesPanel.add(frequencyFileSelectionButton,c);          c.gridy = 2;    filesPanel.add(sampleFileSelectionButton,c);    c.gridy = 3;    filesPanel.add(createOutputFileButton,c);           panelForFilesPanelBorder = new JPanel();    panelForFilesPanelBorder.setBorder(BorderFactory.createCompoundBorder(new EmptyBorder(5,10,5,10), BorderFactory.createEtchedBorder()));    panelForFilesPanelBorder.add(filesPanel);    buttonsPanel = new JPanel();    buttonsPanel.setLayout(new FlowLayout(FlowLayout.CENTER));    buttonsPanel.setBorder(BorderFactory.createCompoundBorder(new EmptyBorder(5,10,10,10), BorderFactory.createEtchedBorder()));    buttonsPanel.add(startButton);    buttonsPanel.add(stopButton);    basePanel.add(panelForFilesPanelBorder);    basePanel.add(numericInputPanel);     basePanel.add(buttonsPanel); ""]",<java><swing><gridbaglayout>,19739656,"Well, Essentially, GridBagLayout places components in rectangles (cells) in a grid, and then uses the components' preferred sizes to determine how big the cells should be. With this layout:if the container's size is smaller than the preferred size only then the minimum size gets used. With empty("""") text A JLabel\JTextFeild\JButton's preferred size is around (2,2), if no preferred size hints is given to it explicitly using setPreferredSize(size) or overriding getPreferredSize(size). At his point setting minimum size will not work, as the preferred size with empty text is around (2,2) and container's size is already larger than the preferred size. GridBagLayout uses the preferred size not worrying about the minimum size at all.  You actually need to set both preferred and minimum size with GridBagLayout because:If you try setting  only the preferred size, shrinking the size of the window would eventually cause the container panel's size to get shrink. The container's panel size will be smaller than the preferred size of the component and the JLabel\JTextFeild\JButton  shrink to their minimum size. If you haven't given minimum size hints at this point, the default minimum size: likely to be around (2,2) gets used. You will understand better with given working example below.Some other things to note:--CODE--you are adding the panel which contains your calibrationFileSelectionValueLabel. You don't need to use an extra panel, rather just add the calibrationFileSelectionValueLabel directly to the grid by setting( instead overriding getPreferedSize(Size) is preferable) preferredSize. However try setting inset to the GridBagConstraints to look your first panel a little more nicer:--CODE--A minimal working example for you: In case you are not getting what we are saying, this example i have set only preferred size for  resolving your problem. But as i haven't set minimum size, try resizing the window to match with above explanation.  Source code:--CODE--","[""   c.gridx = 1;    c.gridy = 0;    c.fill = GridBagConstraints.BOTH;   // filesPanel.add(calibrationFileSelection,c);    filesPanel.add(calibrationFileSelectionValuePanel,c);"", ""   gridBagCnst.insets = new Insets(3, 3, 3, 3); "", ""import java.awt.*;import java.awt.Dimension;import java.awt.GridBagConstraints;import java.awt.Insets;import javax.swing.*;import javax.swing.SwingUtilities;import javax.swing.border.*;/** * * @author Rashed */ class GridBagLayoutDemo extends JFrame{    public JLabel createLabel(String txt, int width, int height, Color color)    {        JLabel label = new JLabel(txt);        label.setOpaque(true);        label.setBackground(color);        label.setPreferredSize(new Dimension(width, height));        return label;    }    public GridBagLayoutDemo() throws HeadlessException {      // setSize(400,400);       setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);       JPanel panel = new JPanel(new java.awt.GridBagLayout());       panel.setBorder(new EmptyBorder(10, 10, 10, 10));       GridBagConstraints labCnst = new GridBagConstraints();       Dimension preferredSize = new Dimension(140,20);       labCnst.insets = new Insets(3, 3, 3, 3);       JLabel title = new JLabel(\""My Title\"");       JLabel title2 = new JLabel(\""My Title\"");       JLabel title3 = new JLabel(\""My Title\"");       JLabel selectionLabel1 = new JLabel(\""\"");       selectionLabel1.setBorder(new LineBorder(Color.BLACK));       JLabel selectionLabel2 = new JLabel(\""\"");       selectionLabel2.setBorder(new LineBorder(Color.BLACK));       JLabel selectionLabel3 = new JLabel(\""\"");       selectionLabel3.setBorder(new LineBorder(Color.BLACK));       selectionLabel1.setPreferredSize(preferredSize);       selectionLabel2.setPreferredSize(preferredSize);       selectionLabel3.setPreferredSize(preferredSize);       JButton browse1 = new JButton(\""Browse\"");       JButton browse2 = new JButton(\""Browse\"");       JButton browse3 = new JButton(\""Browse\"");        labCnst.gridx = 0;        labCnst.gridy = 0;        panel.add(title, labCnst);        labCnst.gridy = 1;        panel.add(title2, labCnst);        labCnst.gridy = 2;        panel.add(title3, labCnst);        labCnst.gridx = 1;        labCnst.gridy = 0;        panel.add(selectionLabel1, labCnst);        labCnst.gridy = 1;        panel.add(selectionLabel2, labCnst);        labCnst.gridy = 2;        panel.add(selectionLabel3, labCnst);        labCnst.gridx = 3;        labCnst.gridy = 0;        panel.add(browse1, labCnst);        labCnst.gridy = 1;        panel.add(browse2, labCnst);        labCnst.gridy = 2;        panel.add(browse3, labCnst);       //labCnst.anchor = GridBagConstraints.LINE_END;       add(panel);       pack();    }    public static void main(String[] args) {        SwingUtilities.invokeLater(new Runnable() {            @Override            public void run() {                new GridBagLayoutDemo().setVisible(true);            }        });    }}""]",User Interface Components with Swing,{}
42735826,,Populating JComboBox with custom objects stored in an ArrayList,"I'm trying to populate a JComboBox with object names.  The objects are of Category type and are stored in an ArrayList (named categoryList) in the Category class. Here is the content of the Category class:--CODE--Here is the code that populates the JCombobox (method name: populateComboBox()):--CODE--When I populate the ArrayList with 2 objects, named Obj1 and Obj2, I get the following problems:When populateComboBox() is invoked, the combo box only displays the second object i.e. it only displays Obj2.  The expected display was Obj1, Obj2.Since it only displays Obj2. When populateComboBox() is invoked twice, the combo box displays two Obj2. When invoked three times it displays three Obj2. i.e. the number of times the method gets invoked, the number of times Obj2 gets displayed in the combo box.Should the categoryList ArrayList be inside the Category class? or should it be inside the control class? I'm a bit confused with this one.","[""public class Category {    private static String catName;    private static List<Category> categoryList;    public static void addToCatList(String str)    {        Category cat = new Category();        Category.setCatName(str);        categoryList.add(cat);    }    public static List<Category> getCatList()    {        return categoryList;    }    public static String getCatName()     {        return catName;    }    public static void setCatName(String catName)     {        Category.catName = catName;    }    @Override    public String toString()    {        return catName;    }}"", ""        List<Category> catList = new ArrayList<Category>();        catList = Category.getCatList();        Category list[] = new Category[catList.size()];        list = catList.toArray(list);        for(int i = 0; i <list.length; i++)        {                selectCatComboBox.addItem(list[i].getCatName());         }        addItemDialog.setVisible(true); ""]",<java><swing><arraylist><jcombobox>,42735975,"Your problem is that your design is broken. Category's catName name field is static and so only one object exists for the entire class. If you change it, you change it class wide. This is why Obj1 and Obj2 (bad names for variables by the way) share the same name and display the same name.This class should be broken into two classes, one say called Category that has no static fields, no List fields, has private instance fields, constructor(s), public methods, and another, perhaps called Categories, that holds a non-static ArrayList, with the addCategory(...) and such methods. Fix this first before concerning yourself with GUI, else you'll be building your house on a very shaky foundation. Whenever you create a static field, always ask yourself why you're doing this, and strongly consider seeing if you can make it instance instead.",[],User Interface Components with Swing,"{""Choice Components"": 0.85}"
10344298,10344375,Convert byte array into a file without writing the file to a disk,"I have saved icon size images in a mysql database in bytes, now, what I need to do is retrieve those file bytes from the database and show those images in a swing application, I have a method which gets the bytes from the database and convert it back to a file but I have to write that file in to the diskthis is my method,--CODE--but this method doesn't give what I need, please assist me.","[""public void downloadFile(int FamerId) throws Exception {  String sql = \""SELECT * FROM images WHERE famer_id=?\"";  Connection con = JDBCConnectionPool.getInstance().checkOut();  PreparedStatement ps = con.prepareStatement(sql);          ps.setInt(1, FamerId);  ResultSet resultSet = ps.executeQuery();  int count = 0;  while (resultSet.next()) {    ByteArrayInputStream bais;    ObjectInputStream inputStream;    bais = new ByteArrayInputStream(resultSet.getBytes(\""image\""));    inputStream = new ObjectInputStream(bais);    SaveFile sf = (SaveFile) inputStream.readObject();    FileOutputStream out = new FileOutputStream(\""fileLocation/\"" + resultSet.getString(\""image_name\""));    byte[] bytes = sf.getArray();    int c = 0;    while (c < bytes.length) {      out.write(bytes[c]);      c++;    }    out.close();    inputStream.close();    bais.close();                JDBCConnectionPool.getInstance().checkOut();  }}""]",<java><swing><file>,10344375,"You can read images directly from byte streams with the [ImageIO](""http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageIO.html"") class. Assuming of course that you have previously written the image data in a compatible format. Which is hard to say given the fact that in your code you use an intermediary object input stream when reading your byte data. Here's an example of how you can create an image directly from the database without using intermediary files:--CODE--And an example of how you would have written the data to the database, in order to be able to use this code:--CODE--","[""bais = new ByteArrayInputStream(resultSet.getBytes(\""image\""));final BufferedImage image = ImageIO.read(bais);// pass the image to your Swing layer to be rendered."", ""final ByteArrayOutputStream baos = new ByteArrayOutputStream(64000);ImageIO.write(image, \""PNG\"", baos);final byte[] data = baos.toByteArray();// write data to database""]",Fundamental Programming Structures in Java,"{""Input and Output"": 0.9}"
22759934,,Which object do these threads synchronize on,I want to synchronize 3 threads invoked via ExecutorService. How do I ensure that they synchronize on the same object?Right now I have this code:--CODE--One of these threads is responsible for generating a condition and the other 2 act on it. ,"[""class Test {     executor.submit(new Request(threadNames[i]));    executor.submit(new Request(threadNames[i]));    executor.submit(new Request(threadNames[i]));     private class Request implements Callable {        @Override        public Long call() throws InterruptedException {            if (threadName.equals(\""SOMETHING\"") {                doSomething();            } else {                doSomeOtherThing();            }        }    }    private synchronized void doSomething() {    }    private synchronized void doSomeOtherThing() {    }    ...}""]",<java><multithreading><monitor><synchronized>,22760039,"You don't get to submit threads to the Executor service; you submit tasks, which will at some later point be executed on one of the threads in the Executor's thread pool;if one task is a producer and the two others consumers, then it is wrong to submit all three tasks to the Executor. It can easily lead to a deadlock, where a consumer task waits indefinitely for the producer, but the producer can't run because the consumers are occupying all the threads.Rethink your solution so that the producer task is also responsible for submitting the consumer tasks to the Executor; the tasks can be instantiated with the produced value, so the coordination problem is solved at the outset.",[],Concurrency,"{""Synchronization"": 0.85}"
48936177,48936483,Update AtomicInteger from other thread,"I have a class that creates many new objects each on their own thread and I would like to keep a running count across the threads. I wanted to have an AtomicInteger but it's not doing what I expected and instead just gets a smaller version. I'm assuming that this is a race condition error - but I'm not entirely sure.A created this test example which recreates what I want to do.--CODE--However, this outputs: --CODE--When I would like the final output to be 1000. How can I increment across threads?Thanks in advance.","[""public class Test {    public static void main(String args[]) {        AtomicInteger total = new AtomicInteger(0);        for (int i = 0; i < 10; i++) {            DoThing doThing = new DoThing();            Thread thread = new Thread(doThing);            thread.start();            total.addAndGet(doThing.getTally());        }        System.out.println(total.get());    }}class DoThing implements Runnable {    int tally = 0;    @Override    public void run() {        for(int i = 0; i< 100; i++) {            tally++;        }        System.out.println(\""Tally is \"" + tally);    }    public int getTally() {        return tally;    }}"", ""Tally is 100Tally is 100Tally is 100Tally is 100Tally is 100Tally is 100Tally is 100Tally is 1000Tally is 100Tally is 100""]",<java><multithreading><atomicinteger>,48936483,"Try with this:--CODE--The root of your problem is that you are misunderstanding how to use AtomicInteger, you are treating it just like a normal int and it is not being accessed concurrently at all.Also getTally() is a race condition until you assure that the thread has completed by calling Thread.join().So you can keep an up-to-date tally by having all the Runnables in the threads update the same AtomicInteger instance and you can ensure that you have the right total by waiting for all the threads to finish their tallies by join()ing them before getting the tally.","[""public static void main(String args[]) {    AtomicInteger tally = new AtomicInteger(0);    List<Thread> threadList = new ArrayList<Thread>();    for (int i = 0; i < 10; i++) {        Thread t = new Thread(new DoThing(tally));        t.start();        threadList.add(t);    }    for (Thread t : threadList) {        try { t.join(); } catch (Exception e){}    }    System.out.println(\""Total tally: \"" + tally.get());}public static class DoThing implements Runnable {    private static final Random rand = new Random();    private final AtomicInteger tally;    public DoThing(AtomicInteger tally) {        this.tally = tally;    }    @Override public void run() {        for (int i = 0; i < 100; i++) {            int currTally  = tally.incrementAndGet();            System.out.println(\""Thread \"" + Thread.currentThread().getName() + \"": \"" + currTally);            // Random sleep to show that your threads are properly concurrently incrementing            try { Thread.sleep(rand.nextInt(10)); } catch (Exception e) {}        }    }}""]",Concurrency,"{""Synchronization"": 1.0}"
47843147,47843229,Java tab's contents keep moving,"This code's purpose [Open Java file, than content of that Java file will display at new Tab] I also try to make compile func but I need to solve this problem at here first.My problem is when I try to open new Java file, then last content of Java file I opened accumulate to new content of Java file. I don't know why, is there a way to solve this?--CODE--","[""package term_project_GUI;import javax.swing.*;import javax.swing.filechooser.*;import java.awt.*;import java.awt.event.*;import java.io.*;public class JavaIDE_UI extends JFrame {    Container contentPane;    JTabbedPane tp;    JPanel p1 = new JPanel();    JPanel p2 = new JPanel();    JTextArea ta = new JTextArea(15, 30);    JScrollPane sp = new JScrollPane(ta);    JavaIDE_UI() {        setTitle(\""JavaIDE\"");        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        createMenu();        contentPane = getContentPane();        contentPane.setLayout(new BorderLayout());        tp = new JTabbedPane();        contentPane.add(tp, BorderLayout.NORTH);        contentPane.add(p2, BorderLayout.SOUTH);        setSize(400, 500);        setVisible(true);    }    void createMenu() {        JMenuBar mb = new JMenuBar();        JMenu File = new JMenu(\""File\"");        JMenu Run = new JMenu(\""Run\"");        JMenuItem Open = new JMenuItem(\""Open\"");        JMenuItem Close = new JMenuItem(\""Close\"");        JMenuItem Save = new JMenuItem(\""Save\"");        JMenuItem SaveAs = new JMenuItem(\""Save As\"");        JMenuItem Quit = new JMenuItem(\""Quit\"");        JMenuItem Compile = new JMenuItem(\""Compile\"");    Open.addActionListener(new OpenActionListener_open());    File.add(Open);    File.add(Close);    File.add(Save);    File.add(SaveAs);    File.add(Quit);    Run.add(Compile);    mb.add(File);    mb.add(Run);    setJMenuBar(mb);}class OpenActionListener_open implements ActionListener {    JFileChooser chooser;    JTextArea ta = new JTextArea(15, 30);    OpenActionListener_open() {        chooser = new JFileChooser();    }    public void actionPerformed(ActionEvent e) {        FileNameExtensionFilter filter = new FileNameExtensionFilter(\"".java files\"", \""java\"");        chooser.setFileFilter(filter);        int ret = chooser.showOpenDialog(null);        if (ret != JFileChooser.APPROVE_OPTION) {            JOptionPane.showMessageDialog(null, \""File Unchoose.\"", \""Warning\"", JOptionPane.WARNING_MESSAGE);            return;        }        String fileName = chooser.getSelectedFile().getName();        tp.addTab(fileName, new JScrollPane(ta));        String filePath = chooser.getSelectedFile().getPath();        try {            BufferedReader reader = new BufferedReader(new FileReader(filePath));            String data = \""\"";            while ((data = reader.readLine()) != null) {                ta.append(data+\""\\n\"");            }            reader.close();        } catch (IOException e1) {        }    }}public static void main(String[] args) {    new JavaIDE_UI();}}""]",<java><swing><jtextarea><jtabbedpane>,47843229,"You're creating two instance of JTextArea, one is an instance field of JavaIDE_UI and the other is an instance field of OpenActionListener_open.When the actionPerformed method is called, it's appending the text to the existing JTextArea (of the OpenActionListener_open), a process which will also remove it from it's current tab/scroll pane and move it to the new one you've creatingSo, instead, create a new JTextArea for each tab...--CODE--This example will also select the tab so you can see the newly opened file.Also, I would change to contentPane.add(tp, BorderLayout.NORTH); contentPane.add(tp);, otherwise you're going to have some weird layout issues","[""class OpenActionListener_open implements ActionListener {    JFileChooser chooser;    OpenActionListener_open() {        chooser = new JFileChooser();    }    public void actionPerformed(ActionEvent e) {        FileNameExtensionFilter filter = new FileNameExtensionFilter(\"".java files\"", \""java\"");        chooser.setFileFilter(filter);        int ret = chooser.showOpenDialog(null);        if (ret != JFileChooser.APPROVE_OPTION) {            JOptionPane.showMessageDialog(null, \""File Unchoose.\"", \""Warning\"", JOptionPane.WARNING_MESSAGE);            return;        }        String fileName = chooser.getSelectedFile().getName();        JTextArea ta = new JTextArea();        JScrollPane sp = new JScrollPane(ta);        tp.addTab(fileName, sp);        String filePath = chooser.getSelectedFile().getPath();        try {            BufferedReader reader = new BufferedReader(new FileReader(filePath));            String data = \""\"";            while ((data = reader.readLine()) != null) {                ta.append(data + \""\\n\"");            }            reader.close();        } catch (IOException e1) {        }        tp.setSelectedComponent(sp);    }}""]",User Interface Components with Swing,"{""Text Input"": 0.85}"
18024246,18024727,Set Value and Label to JComboBox,"I have a JComboBox where the items are the results of a query. The combo shows all the categories names taken from a query, right? Ok, it works. Now I need to give each item a value, which would be the ID of the product.This is what I've got so far:--CODE--As you can see in the code, the ""label"" of each item is the name of it. Now, how can I set each item its ID so I can manipulate after?Thanks and try to answer easily, I'm having the hardest time trying to get this Java thing! Ha!","[""    final JComboBox proveedorCombo = new JComboBox();    contentPanel.add(proveedorCombo);    ProveedorDAO dao = new ProveedorDAO();    List<Proveedor> proveedor = dao.getAll();    Object[][] elementos = new Object[proveedor.size()][2];    for (int i = 0; i < proveedor.size(); i++) {        Proveedor p = proveedor.get(i);        elementos[i][0] = p.getId();        elementos[i][1] = p.getNombre();        proveedorCombo.addItem(elementos[i][1]);    }""]",<java><swing><label><jcombobox>,18024727,JComboBox by default uses a renderer wich uses toString() method to display object data. So you can make your own render class to customize the view.This is the way it was designed for.--CODE--Another hacky approach is overriding toString() from Proveedor or making your adapter class that uses your toString() but this solution is not much flexible as the other one.--CODE--In the combobox if you want to populate from zero.--CODE--Or if you have previous data and you want to maintain.--CODE--,"[""proveedorCombo.setRenderer( new DefaultListCellRenderer(){        @Override          public Component getListCellRendererComponent(            JList list, Object value, int index,            boolean isSelected, boolean cellHasFocus)        {            super.getListCellRendererComponent(list, value, index,                isSelected, cellHasFocus);                if(value != null){                 Proveedor proveedor = (Proveedor)value;                 setText( proveedor.getName());                }            return this;        }});"", ""public class Proveedor {//in some part@Overridepublic String toString(){    return this.nombre;}}"", ""proveedorCombo.setModel(new DefaultComboBox(new Vector<Proveedor>(dao.getAll())));"", ""for(Proveedor p : dao.getAll){    proveedorCombo.addItem(p);}""]",User Interface Components with Swing,"{""Choice Components"": 0.85}"
