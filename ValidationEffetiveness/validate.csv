42269769,42270114,Find a subsequence of an array of tuples using regex,"Lets assume that I have the following array of string tuples:--CODE--I want to find a sublist that the first tuple contains N and the second one contains F.Here  are the excepted answers:--CODE--I've tried this--CODE--So it can detect [N][F], But with it only works where tuples has only one element.Is it possible to achieve this using regex?","[""[N][F][N][N,F],[F,NN,FN,...][N,F],[F,NB,NN,..]"", ""    [N][F]    [N][N,F]    [N,F],[F,NN,FN]    [N,F],[F,NB,NN]"", ""(\\[N\\])(\\[F\\])""]",<java><python><regex>,42270114,"If I understand you correctly and based on your try:--CODE--this should work for you.See: [https://regex101.com/r/HQ3WAA/4](""https://regex101.com/r/HQ3WAA/4"")","[""\\[[^\\]]*N[^\\]]*\\][^\\]]*F[^\\]]*\\]""]",Strings,"{""Regular expressions"": 1.0}"
2718110,,Java Swing - Problem in disabling JCheckbox,"I am disabling a JCheckbox and then enabling it with the help of setEnabled(...) method.But the problem is if I disable a unselected checkbox, then it becomes selected after I enable it.I want all of them to have the same state after being enabled that they had before being disabled.",[],<java><swing><checkbox><jcheckbox>,2718240,"Are you enabling/disabling the JCheckBox using an ActionListener? If so, then that is normal because when you click on the checkbox, the isSelected() status changes. What you can do is to add checks using isSelected() and the setSelected() methods. ",[],Graphical User Interfaces,"{""A selection of Swing components"": 0.8}"
5071508,5071923,Problem with extending class JLabel to add to it property dragging,"I have class JLabelExtended, which extends class javax.swing.JLabel.I extend it, because I want to add property dragging using mouse.Here is my code:--CODE--}This is console part after label dragged:--CODE--I have several questions:Why e.getY() takes negative results?When I drag my label there are appeares copy of label which drags near my label. How can I fix it?When I drag my label, it drags  very slowly.For example: when I move my cursor on 10 points my label moves only on 5 point. How can I fix it?Thanks in advanceHere are else one way to extend JLabel:public class LabelEasy extends JLabel {    private MouseAdapter moveMouseAdapter;    private MouseMotionAdapter mouseMotionAdapter;--CODE--}But it works like previous variant.","[""public class JLabelExtended extends JLabel {private MouseMotionAdapter mouseMotionAdapter;private JLabelExtended jLabelExtended;public LabelEasy(String text) {    super(text);    jLabelExtended = this;    mouseMotionAdapter = new MouseMotionAdapter() {        @Override        public void mouseDragged(MouseEvent e) {            System.out.println(e.getX() + \""  :   \"" + e.getY());            jLabelExtended.setLocation(e.getX(), e.getY()            );        }    };    jLabelExtended.addMouseMotionListener(mouseMotionAdapter);}"", ""163  :   163144  :   -87163  :   162144  :   -88163  :   161144  :   -89"", ""private LabelEasy jLabelExtended;private int xAdjustment, yAdjustment;Boolean count = false;public LabelEasy(String text) {    super(text);    jLabelExtended = this;    moveMouseAdapter = new MouseAdapter() {        @Override        public void mouseClicked(MouseEvent e) {            if (e.getButton() == 1) {                xAdjustment = e.getX();                yAdjustment = e.getY();            }        }    };    mouseMotionAdapter = new MouseMotionAdapter() {        @Override        public void mouseDragged(MouseEvent e) {            if (count) {                System.out.println(e.getX() + \""  :   \"" + e.getY());                jLabelExtended.setLocation(xAdjustment + e.getX(), yAdjustment + e.getY());                count = false;            } else {                count = true;            }            ;        }    };    jLabelExtended.addMouseMotionListener(mouseMotionAdapter);    jLabelExtended.addMouseListener(moveMouseAdapter);}""]",<java><swing><mouseevent><jlabel><jcomponent>,5071923,"I think you're doing it wrong.  The MouseMotionListener is added to the JLabel and its location is relative to the JLabel, not the Container which holds the JLabel, so the information is useless to help you drag it.  You may wish to use a MouseAdapter and add it both as a MouseListener and a MouseMotionListener.  On mousePressed, get the location of the JLabel and the mouse relative to the screen and then use that for your dragging on mouseDragged.  Myself, I wouldn't extend JLabel to do this but would rather just use a regular JLabel, but that's my preference.Edit: it worked better for me when I dealt with the mouse's position relative to the screen (by calling getLocationOnScreen) and the JLabel's position relative to its Container (by calling getLocation).  For e.g.,--CODE--","[""import java.awt.*;import java.awt.event.*;import java.util.Random;import javax.swing.*;public class DragLabelEg {    private static final String[] LABEL_STRINGS = { \""Do\"", \""Re\"", \""Me\"", \""Fa\"",            \""So\"", \""La\"", \""Ti\"" };    private static final int HEIGHT = 400;    private static final int WIDTH = 600;    private static final Dimension MAIN_PANEL_SIZE = new Dimension(WIDTH,            HEIGHT);    private static final int LBL_WIDTH = 60;    private static final int LBL_HEIGHT = 40;    private static final Dimension LABEL_SIZE = new Dimension(LBL_WIDTH,            LBL_HEIGHT);    private JPanel mainPanel = new JPanel();    private Random random = new Random();    public DragLabelEg() {        mainPanel.setPreferredSize(MAIN_PANEL_SIZE);        mainPanel.setLayout(null);        MyMouseAdapter myMouseAdapter = new MyMouseAdapter();        for (int i = 0; i < LABEL_STRINGS.length; i++) {            JLabel label = new JLabel(LABEL_STRINGS[i], SwingConstants.CENTER);            label.setSize(LABEL_SIZE);            label.setOpaque(true);            label.setLocation(random.nextInt(WIDTH - LBL_WIDTH),                    random.nextInt(HEIGHT - LBL_HEIGHT));            label.setBackground(new Color(150 + random.nextInt(105),                    150 + random.nextInt(105), 150 + random.nextInt(105)));            label.addMouseListener(myMouseAdapter);            label.addMouseMotionListener(myMouseAdapter);            mainPanel.add(label);        }    }    public JComponent getMainPanel() {        return mainPanel;    }    private class MyMouseAdapter extends MouseAdapter {        private Point initLabelLocation = null;        private Point initMouseLocationOnScreen = null;        @Override        public void mousePressed(MouseEvent e) {            JLabel label = (JLabel)e.getSource();            // get label's initial location relative to its container            initLabelLocation = label.getLocation();            // get Mouse's initial location relative to the screen             initMouseLocationOnScreen = e.getLocationOnScreen();        }        @Override        public void mouseReleased(MouseEvent e) {            initLabelLocation = null;            initMouseLocationOnScreen = null;        }        @Override        public void mouseDragged(MouseEvent e) {            // if not dragging a JLabel            if (initLabelLocation == null || initMouseLocationOnScreen == null) {                return;            }            JLabel label = (JLabel)e.getSource();            // get mouse's new location relative to the screen            Point mouseLocation = e.getLocationOnScreen();            // and see how this differs from the initial location.            int deltaX = mouseLocation.x - initMouseLocationOnScreen.x;            int deltaY = mouseLocation.y - initMouseLocationOnScreen.y;            // change label's position by the same difference, the \""delta\"" vector            int labelX = initLabelLocation.x + deltaX;            int labelY = initLabelLocation.y + deltaY;            label.setLocation(labelX, labelY);        }    }    public static void main(String[] args) {        SwingUtilities.invokeLater(new Runnable() {            public void run() {                createGui();            }        });    }    private static void createGui() {        JFrame frame = new JFrame(\""App\"");        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        frame.getContentPane().add(new DragLabelEg().getMainPanel());        frame.pack();        frame.setLocationRelativeTo(null);        frame.setVisible(true);    }}""]",Graphical User Interfaces,"{""A selection of Swing components"": 0.8, ""The Swing event model"": 0.7}"
45684047,45684222,Java Regexp to match domain of url,"I would like to use Java regex to match a domain of a url, for example,for www.table.google.com, I would like to get 'google' out of the url, namely, the second last word in this URL string. Any help will be appreciated !!!",[],<java><regex>,45684222,"It really depends on the complexity of your inputs...Here is a pretty simple regex:--CODE--It fetches something that is inside dots \\..And here are some examples for that pattern: [https://regex101.com/r/L52oz6/1](""https://regex101.com/r/L52oz6/1""). As you can see, it works for simple inputs but not for complex urls.But why reinventing the wheel, there are plenty of really good libraries that correctly parse any complex url. But sure, for simple inputs a small regex is easily build. So if that does not solve the problem for your inputs then please callback, I will adjust the regex pattern then.Note that you can also just use simple splitting like:--CODE--But don't forget the index-bound checking.Or if you search for a very quick solution than walk through the input starting from the last position. Work your way through until you found the first dot, continue until the second dot was found. Then extract that part with input.substring(index1, index2);.There is also already a delegate method for exactly that purpose, namely String#lastIndexOf (see the [documentation](""https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#lastIndexOf-int-"")).Take a look at this code snippet:--CODE--Maybe the bounds are off by 1, haven't tested the code, but you get the idea. Also don't forget bound checking.The advantage of this approach is that it is really fast, it can directly work on the internal structures of Strings without creating copies.","["".+\\\\.(.+)\\\\..+"", ""String[] elements = input.split(\""\\\\.\"");String secondToLastElement = elements[elements.length - 2];"", ""String input = ...int indexLastDot = input.lastIndexOf('.');int indexSecondToLastDot = input.lastIndexOf('.', indexLastDot);String secondToLastWord = input.substring(indexLastDot, indexSecondToLastDot);""]",Strings,"{""Regular expressions"": 1.0}"
34355057,34355371,My JFrame doesn't draw a string of options,"In my game I have different states, and the first state is the Main Menu. However, it does not draw that Main Menu for an unknown reason to me.Main-code:--CODE--Game-code:--CODE--GameStateManager-code:--CODE--GameState-code:--CODE--And the Main Menu-code:--CODE--I can however draw rectangles from the Game-code, line 65.","[""package Game.Window;import java.awt.BorderLayout;import javax.swing.JFrame;public class Window {    public static void main(String[] args){        JFrame frame = new JFrame(\""TITLE\"");        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        frame.setResizable(false);        frame.setLayout(new BorderLayout());        frame.add(new Game(), BorderLayout.CENTER);        frame.pack();        frame.setLocationRelativeTo(null);        frame.setVisible(true);    }}"", ""package Game.Window;import java.awt.Dimension;import java.awt.Graphics;import java.awt.event.KeyEvent;import java.awt.event.KeyListener;import javax.swing.JPanel;import Game.Framework.GameStateManager;public class Game extends JPanel implements Runnable, KeyListener{    private static final long serialVersionUID = 1L;    public static final int WIDTH = 800;    public static final int HEIGHT = WIDTH/12*9;    private Thread thread;    private boolean isRunning = true;    private int FPS = 60;    private long targetTime = 1000/FPS;    private GameStateManager gsm;    public Game(){        setPreferredSize(new Dimension(WIDTH, HEIGHT));        start();    }    private void start(){        isRunning = true;        thread = new Thread(this);        thread.start();    }    public void run() {        long start, elapsed, wait;        gsm = new GameStateManager();        while(isRunning){            start = System.nanoTime();            tick();            repaint();            elapsed = System.nanoTime();            wait = targetTime - elapsed/1000000;            if(wait <= 0){                wait = 5;            }            try{                Thread.sleep(wait);            }catch(Exception e){                e.printStackTrace();            }        }    }    public void tick(){        gsm.tick();        // Shows Current FPS: System.out.println(FPS);    }    public void paintComponent(Graphics g){        super.paintComponent(g);        g.clearRect(0, 0, WIDTH, WIDTH);        gsm.draw(g);    }    public void keyPressed(KeyEvent e) {        gsm.keyPressed(e.getKeyCode());    }    public void keyReleased(KeyEvent e) {        gsm.keyReleased(e.getKeyCode());    }    public void keyTyped(KeyEvent e) {    }}"", ""package Game.Framework;import java.awt.Graphics;import java.util.Stack;import Game.States.MainMenu;public class GameStateManager {    private Stack<GameState> states;    public GameStateManager(){        states = new Stack<GameState>();        states.push(new MainMenu(this));    }    public void tick(){        states.peek().tick();    }    public void draw(Graphics g){        states.peek().draw(g);    }    public void keyPressed(int k){        states.peek().keyPressed(k);    }    public void keyReleased(int k){        states.peek().keyReleased(k);    }}"", ""package Game.Framework;import java.awt.Graphics;public abstract class GameState {    protected GameStateManager gsm;    public GameState(GameStateManager gsm){        this.gsm = gsm;        init();    }    public abstract void init();    public abstract void tick();    public abstract void draw(Graphics g);    public abstract void keyPressed(int k);    public abstract void keyReleased(int k);}"", ""package Game.States;import java.awt.Color;import java.awt.Font;import java.awt.Graphics;import Game.Framework.GameState;import Game.Framework.GameStateManager;import Game.Window.Game;public class MainMenu extends GameState{    private String[] options = {\""New Game\"", \""Load Game\"", \""Options\"", \""Exit\""};    private int currentSelection = 0;    public MainMenu(GameStateManager gsm) {        super(gsm);    }    public void init() {}    public void tick() {    }    public void draw(Graphics g) {        for(int i = 0; i < options.length; i++){            if(i == currentSelection){                g.setColor(Color.GREEN);            }else{                g.setColor(Color.BLACK);            }            g.setFont(new Font(\""Arial\"", Font.PLAIN, 24));            g.drawString(options[i], Game.WIDTH/2-50, 50*i*30);        }    }    public void keyPressed(int k) {    }    public void keyReleased(int k) {    }}""]",<java><string><state>,34355371,"Your math looks a little wrong.g.drawString(options[i], Game.WIDTH/2-50, 50 * i + 30);                               //add, not multiply^A couple other things--CODE--","[""class MainMenu extends GameState{    //declare font once    private static final Font ARIAL_24 = new Font(\""Arial\"", Font.PLAIN, 24);    private String[] options = {\""New Game\"", \""Load Game\"", \""Options\"", \""Exit\""};    private int currentSelection = 0;    public MainMenu(GameStateManager gsm) {        super(gsm);    }    public void init() {}    public void tick() {    }    public void draw(Graphics g) {        for(int i = 0; i < options.length; i++){            //simple ternary operator can replace what was here before.            g.setColor(i == currentSelection ? Color.GREEN : Color.BLACK);            //since this never changes make it static and final            //avoid recreating objects in a paint method, or when not neccesary            g.setFont(ARIAL_24);             g.drawString(options[i], Game.WIDTH/2-50, 50 * i + 30);        }    }    public void keyPressed(int k) {    }    public void keyReleased(int k) {    }}""]",Graphical User Interfaces,"{""A selection of Swing components"": 1.0, ""The Swing event model"": 0.6}"
19340120,19340419,"Java, writing my own split string method","I need to be able to write my own split string method so that input like--CODE--will print [ab, #, cd, #, efg, #] to the console.So far I've got it to split like that but my way leaves awkward spaces where 2 delimiters are in a row, or a delimiter is at the start of the input.--CODE--When I use that method in my Test main, I get the output [ab, #, cd, #, efg, #, , , , ]. So I'm lost on how to fix the spacing of it all and I'll also need to be able to allow multiple delimiters which my code currently doesn't handle.Also I know this code is really sloppy at the moment, just trying to lay down the concepts before the optimization.","[""String[] test1 = mySplit(\""ab#cd#efg#\"", \""#\"");System.out.println(Arrays.toString(test1));"", ""public static String[] mySplit(String str, String regex){    String[] storeSplit = new String[str.length()];    char compare1, compare2;    int counter = 0;    //Initializes all the string[] values to \""\"" so when the string    //and char concatonates, 'null' doesn't appear.    for(int i=0; i<str.length(); i++) {        storeSplit[i] = \""\"";    }    //Puts the str values into the split array and concatonates until    //a delimiter is found, then it moves to the next array index.    for(int i=0; i<str.length(); i++) {        compare1 = str.charAt(i);        compare2 = regex.charAt(0);            if(!(compare1 == compare2)) {                storeSplit[counter] += \""\""+str.charAt(i);            } else {                counter++;                storeSplit[counter] = \""\""+str.charAt(i);                counter++;            }    }    return storeSplit;}""]",<java><string><split>,19340419,"The problem is straightforward, you have one offset walking through finding new matches (pos), and another showing then end of the last place you found a match (start).--CODE--This avoid extra looping and copies each character only once.  Actually, because of the way that substring works, no characters are ever copied, only small string objects are created pointing to the original character buffer.  No concatenation of strings is done at all, which is an important consideration.","[""public static String[] mySplit(String str, String regex){    Vector<String> result = new Vector<String>;    int start = 0;    int pos = str.indexOf(regex);    while (pos>=start) {        if (pos>start) {            result.add(str.substring(start,pos));        }        start = pos + regex.length();        result.add(regex);        pos = str.indexOf(regex,start);     }    if (start<str.length()) {        result.add(str.substring(start));    }    String[] array = result.toArray(new String[0]);    return array;}""]",Strings,"{""Operations on Strings"": 0.5}"
35656295,35696158,Define default for JLabel,What's the best way to define a default for this example so I don't have to define the border and font for each object again.--CODE--,"[""Border infoLabelMargin = new EmptyBorder(10, 10, 10, 10);JLabel usernameInfoLabel = new JLabel(\""Benutzer: \"" + GlobalValues.USERNAME);Border usernameInfoLabelBorder = usernameInfoLabel.getBorder();usernameInfoLabel.setFont(new Font(\""SANS_SERIF\"", Font.BOLD, 35));usernameInfoLabel.setBorder(new CompoundBorder(usernameInfoLabelBorder, infoLabelMargin));infoBox.add(usernameInfoLabel);JLabel versionInfoLabel = new JLabel(\""Version: \"" + GlobalValues.VERSION_NUMBER);Border versionInfoLabelBorder = versionInfoLabel.getBorder();versionInfoLabel.setBorder(new CompoundBorder(versionInfoLabelBorder, infoLabelMargin));infoBox.add(versionInfoLabel);""]",<java><swing>,35696158,Code to create labels--CODE--Class that defines the default label--CODE--,"[""infoBox.add(DefaultLayouts.infoLabel(\""Benutzer: \"" + GlobalValues.USERNAME));infoBox.add(DefaultLayouts.infoLabel(\""Version: \"" + GlobalValues.VERSION_NUMBER));"", ""public class DefaultLayouts {    public static JLabel infoLabel(String text) {        JLabel label = new JLabel(text);        Border margin = new EmptyBorder(10, 10, 10, 10);        Border border = label.getBorder();        label.setBorder(new CompoundBorder(border, margin));        return label;    }}""]",Graphical User Interfaces,"{""A selection of Swing components"": 1.0}"
31420461,31420600,panel.setFocusable() not working,"I am making a program that lets user enter file path in a JTextField and displays the contents of the file in a JTextArea when the ""View"" JButton is clicked or the Enter Key is pressed.Problem:Clicking the ""View"" button works (the file contents get displayed). But, the enter key ain't working.I think southPanel.setFocusable(true) is messing.--CODE--","[""import java.awt.BorderLayout;import java.awt.event.*;import java.io.File;import java.io.FileNotFoundException;import java.util.Scanner;import javax.swing.*;public class CFrame extends JFrame{JTextArea outputTextArea = new JTextArea(); // Create a TextArea on which the contents of the file will be displayedJPanel southPanel = new JPanel(); // Create a panel to be placed at the bottom of the frameJScrollPane output = new JScrollPane(outputTextArea); // Create a ScrollPane for outputTextAreaJButton view = new JButton(\""View\""); // This button, when clicked, displays the file's contents in outputTextAreaJTextField fileNameField = new JTextField(); // File Path/Name is entered in this fieldCFrame() {    southPanel.setFocusable(true);    southPanel.addKeyListener(new KeyAdapter() {        @Override        public void keyPressed(KeyEvent e) {            if(e.getKeyCode() == e.VK_ENTER) {                view.setEnabled(true);            }        }    });    southPanel.setLayout(new BorderLayout());    southPanel.add(fileNameField,BorderLayout.CENTER);    southPanel.add(new JLabel(\""  File Name:  \""), BorderLayout.WEST);    southPanel.add(view, BorderLayout.EAST);    outputTextArea.setEditable(false);    setLayout(new BorderLayout(0,1));    add(output,BorderLayout.CENTER);    add(southPanel,BorderLayout.SOUTH);    view.addActionListener(new ButtonListener());}public class ButtonListener implements ActionListener {    @Override    public void actionPerformed(ActionEvent e) {        String fileName = fileNameField.getText();        String data = \""\"";        File file = new File(fileName);        try {            Scanner input = new Scanner(file);            while(input.hasNextLine()) {                data = data + input.nextLine() + \""\\n\\r\"";            }            outputTextArea.setText(data);        }        catch(FileNotFoundException ex) {            System.out.println(\""No such file\"");        }        southPanel.requestFocusInWindow();    }}}""]",<java><swing><focus>,31420600,"  enter file path in a JTextField and displays the contents of the file in a JTextArea when the ""View"" JButton is clicked or the Enter Key is pressedYour design is wrong. You should not be attempting to listener for the Enter key on the panel.Add the ActionListener to the text field. If the text field has focus and you press Enter the ActionListener is invoked.",[],Graphical User Interfaces,"{""A selection of Swing components"": 0.8}"
40705616,40707249,Background color flickers using JCheckBox in JTable,"On my JTable, I am setting the background colors of the rows using the prepareRenderer function. I also removed the focus border and later in the code I disable the row selection.--CODE--The problem is when I click on the JCheckBoxes in the background color switches to white while the mouse button pressed down. Is there a way keep to keep the color from changing whilst clicking on the JCheckBox?NoteUsing the default boolean renderer to achieve this still has the same problem but it does not happen as often--CODE--Note 2I also tried adding a MouseListener to the JCheckBox but that did not work as the mouse listener did not seem to attach to the JCheckBox--CODE--Edit - SSSCE using first example of code--CODE--","[""JTable table = new JTable() {    private static final long serialVersionUID = -2965586838134675413L;    public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {        Component c = super.prepareRenderer(renderer, row, column);        c.setBackground(row % 2 == 1 ? Color.WHITE : new Color(255, 245, 248));        ((JComponent) c).setBorder(null);        return c;    }};DefaultTableModel tableModel = new DefaultTableModel(sampleData, headers) {    private static final long serialVersionUID = 9186050244728809804L;    @Override    public Class<?> getColumnClass(int columnIndex) {        switch(columnIndex) {            case 0:                return Boolean.class;            default:                return String.class;        }    }    @Override    public boolean isCellEditable(int row, int column) {        switch(column) {            case 0:                return true;            default:                return false;        }    }    @SuppressWarnings(\""unchecked\"")    @Override    public void setValueAt(Object aValue, int row, int column) {        if (aValue instanceof Boolean &amp;&amp; column == 0) {            //System.out.println(aValue);            Vector<Boolean> rowData = (Vector<Boolean>) getDataVector().get(row);            rowData.set(0, (boolean) aValue);            fireTableCellUpdated(row, column);        }    }};table.setModel(tableModel);table.setRowSelectionAllowed(false);"", ""private class BooleanRenderer extends JCheckBox implements TableCellRenderer{    private static final Border noFocusBorder = new EmptyBorder(1, 1, 1, 1);    public BooleanRenderer() {        super();        setHorizontalAlignment(JLabel.CENTER);        setBorderPainted(true);    }    public Component getTableCellRendererComponent(JTable table, Object value,            boolean isSelected, boolean hasFocus, int row, int column) {        if (isSelected) {            setForeground(table.getSelectionForeground());            super.setBackground(table.getSelectionBackground());        } else {            setForeground(table.getForeground());            setBackground(table.getBackground());        }        setSelected((value != null &amp;&amp; ((Boolean)value).booleanValue()));        setBorder(noFocusBorder);        return this;    }}table.setDefaultRenderer(Boolean.class, new BooleanRenderer())"", ""JTable fileList = new JTable() {    private static final long serialVersionUID = -2965586838134675413L;    public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {        Component c = super.prepareRenderer(renderer, row, column);        c.setBackground(row % 2 == 1 ? Color.WHITE : new Color(255, 245, 248));        ((JComponent) c).setBorder(null);        if(c instanceof JCheckBox) {            c.addMouseListener(new MouseAdapter() {                public void mouseClicked(MouseEvent e) {                    setBackground(row % 2 == 1 ? Color.WHITE : new Color(255, 245, 248));                }                public void mousePressed(MouseEvent e) {                    setBackground(row % 2 == 1 ? Color.WHITE : new Color(255, 245, 248));                }                public void mouseReleased(MouseEvent e) {                    setBackground(row % 2 == 1 ? Color.WHITE : new Color(255, 245, 248));                }            });        }        return c;    }};"", ""import java.awt.Color;import java.awt.Component;import java.awt.GridLayout;import javax.swing.JComponent;import javax.swing.JFrame;import javax.swing.JPanel;import javax.swing.JScrollPane;import javax.swing.JTable;import javax.swing.table.DefaultTableModel;import javax.swing.table.TableCellRenderer;public class JTableTest extends JFrame {    private JTableTest()  {        super(\""Button Layout\"");        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        setLayout(new GridLayout(1, 1));        createPanel();        pack();        setVisible(true);    }    JPanel panel = new JPanel(new GridLayout(1, 1));    JScrollPane scroll = new JScrollPane();    private void createPanel() {        Object[] headers = {\""Select\"", \""Title\"", \""Artist\"", \""Length\""};        Object[][] sampleData = {{true, \""Bat Outta Hell\"", \""Meat Loaf\"", \""673\""},                {false, \""Spanish Train\"", \""Chris De Burgh\"", \""358\""}};        JTable table = new JTable() {            public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {                Component c = super.prepareRenderer(renderer, row, column);                c.setBackground(row % 2 == 1 ? Color.WHITE : Color.RED);                ((JComponent) c).setBorder(null); //Left in so it is easier to see problem                return c;            }        };        DefaultTableModel tableModel = new DefaultTableModel(sampleData, headers) {            @Override            public Class<?> getColumnClass(int columnIndex) {                switch(columnIndex) {                    case 0:                        return Boolean.class;                    default:                        return String.class;                }            }        };        table.setModel(tableModel);        table.setRowSelectionAllowed(false); //Left in so it is easier to see problem        scroll.getViewport().add(table);        panel.add(scroll);        getContentPane().add(panel);    }    public static void main(String[] args) {        new JTableTest();    }}""]",<java><swing><jtable>,40707249,"You are missing a prepareEditor override in your JTable instance, I added one in your sample. When you click on the checkbox, what is displayed is the editor component rather than the renderer component. You need to prepare that component as well to get the coloring you want.--CODE--","[""import java.awt.Color;import java.awt.Component;import java.awt.GridLayout;import javax.swing.JComponent;import javax.swing.JFrame;import javax.swing.JPanel;import javax.swing.JScrollPane;import javax.swing.JTable;import javax.swing.SwingUtilities;import javax.swing.table.DefaultTableModel;import javax.swing.table.TableCellEditor;import javax.swing.table.TableCellRenderer;@SuppressWarnings(\""serial\"")public class JTableTest extends JFrame {    private JTableTest()  {        super(\""Button Layout\"");        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        setLayout(new GridLayout(1, 1));        createPanel();        pack();        setVisible(true);    }    JPanel panel = new JPanel(new GridLayout(1, 1));    JScrollPane scroll = new JScrollPane();    private void createPanel() {        Object[] headers = {\""Select\"", \""Title\"", \""Artist\"", \""Length\""};        Object[][] sampleData = {{true, \""Bat Outta Hell\"", \""Meat Loaf\"", \""673\""},                {false, \""Spanish Train\"", \""Chris De Burgh\"", \""358\""}};        JTable table = new JTable() {            public Component prepareRenderer(TableCellRenderer renderer, int row, int column) {                Component c = super.prepareRenderer(renderer, row, column);                c.setBackground(row % 2 == 1 ? Color.WHITE : Color.RED);                ((JComponent) c).setBorder(null); //Left in so it is easier to see problem                return c;            }            @Override            public Component prepareEditor(TableCellEditor editor, int row, int column) {                Component c = super.prepareEditor(editor, row, column);                c.setBackground(row % 2 == 1 ? Color.WHITE : Color.RED);                ((JComponent) c).setBorder(null); //Left in so it is easier to see problem                return c;            }        };        DefaultTableModel tableModel = new DefaultTableModel(sampleData, headers) {            @Override            public Class<?> getColumnClass(int columnIndex) {                switch(columnIndex) {                    case 0:                        return Boolean.class;                    default:                        return String.class;                }            }        };        table.setModel(tableModel);        table.setRowSelectionAllowed(false); //Left in so it is easier to see problem        scroll.getViewport().add(table);        panel.add(scroll);        getContentPane().add(panel);    }    public static void main(String[] args) {        SwingUtilities.invokeLater (            new Runnable() {                @Override                public void run() {                    new JTableTest();                }            }        );    }}""]",Graphical User Interfaces,"{""A selection of Swing components"": 0.8}"
20501533,20501681,Cannot assign a substring from a file to my array,"I have a file with 50 states and capitals in this format:Alabama,Tallahasee,Wisconsin,Madison,........I am trying to assign the states and capitals to seperate arrays and I am having a problem with the for loop.  My code is as follows:--CODE--}The error I am getting is--CODE--any help would be appreciated.","[""import java.io.FileInputStream;import java.io.FileNotFoundException;import java.util.Scanner;public class StatesAndCapitals {public static void main(String[] args) throws FileNotFoundException {    FileInputStream is = new FileInputStream(\""capitals.txt\"");    Scanner input = new Scanner(is);    String[] states = new String[50];    String[] capitals = new String[50];    for (int i = 0; i < states.length; i++){        int a = states[i].lastIndexOf(\"",\"");        String states1 = states[i].substring(0, a);        states[i] = states1;        input.nextLine();    }//end for loop    System.out.println(states);}"", ""Exception in thread \""main\"" java.lang.NullPointerException    at StatesAndCapitals.main(StatesAndCapitals.java:12)""]",<java><arrays><file>,20501681,"When you do--CODE--you're analyzing the content of states[i]. But that is your destination array, and not the source containing the text. The source is what is returned from input.nextLine(), which should be the first thing you should do at each iteration:--CODE--","[""states[i].lastIndexOf(\"",\"");"", ""for (int i = 0; i < states.length; i++){    String currentLine = input.nextLine();    // now extract the data from current line, and store them in the arrays.}""]",IO,"{""Typical uses of IO streams"": 0.8, ""Input and output"": 0.7}"
34032511,34032545,Java: String Manipulation without Spaces,"So given data for example:--CODE--I'm attempting to get the letter and put it in a String, and then have the rest of the numbers in another String. I am using charAt(0) to get the letter, but am having issues finding a way to split the numbers given that they aren't all of the same length.One way I used, when there weren't 26 diff options, in another program was replacing a with a|, b with b|, and so on and then splitting on the |. It led to very ugly code and I was hoping for another option. Thanks for your time!","[""a898            //result string1=a  string2=898b832            //string1=b string2=832c3232           //string1=c string2=3232d938202         //string1=d string2=938202""]",<java><string><split>,34032545,You can use like--CODE--,"[""    String str = \""d938202\"";    String string1 = str.substring(0, 1);    String string2 = str.substring(1);""]",Strings,"{""Operations on Strings"": 0.8}"
43167073,,What is the point of using ConcurrentMap.replace in this example,"Here's an excerpt from Java Concurrency in Practice:--CODE--My question is about the setLocation method which uses ConcurrentMap.replace. The JavaDoc of this method says that it's equivalent to:--CODE--except that the action is performed atomically.What could go wrong if we don't use the atomic version. One possibility is that one thread sees that the map contains a given key and before it puts a new value for that key, another thread removes that key-value pair, but since the class in the example does not allow removals, this cannot happen.Another possibility is that two threads attempt to replace the same key with different values. In that case one thread may not return the correct previous value but in the example we don't care about the previous value, the method setLocation returns void.So, it seems as though the method could be rewritten without replace. And that is what prompted my question. In a subsequent version of the same class in the book, which almost identical to the one above, the method setLocation does not use replace, just containsKey and I was wondering if this could compromise thread safety.","[""public class DelegatingVehicleTracker {    private final ConcurrentMap<String, Point> locations;    private final Map<String, Point> unmodifiableMap;    public DelegatingVehicleTracker(final Map<String, Point> points) {        this.locations = new ConcurrentHashMap<>(points);        this.unmodifiableMap = Collections.unmodifiableMap(this.locations);    }    public Map<String, Point> getLocations() {        return unmodifiableMap;    }    public Point getLocation(final String id) {        return locations.get(id);    }    public void setLocation(final String id, final int x, final int y) {        if (null == locations.replace(id, new Point(x, y))) {            throw new IllegalArgumentException(\""Invalid vehicle name: \"" + id);        }    }}"", ""if (map.containsKey(key)) {     return map.put(key, value);} else return null;""]",<java><multithreading><thread-safety><concurrenthashmap>,43167157,"  the method setLocation does not use replace, just containsKey and I  was wondering if this could compromise thread safety.It does, you've described it perfectly  What could go wrong if we don't use the atomic version. One  possibility is that one thread sees that the map contains a given key  and before it puts a new value for that key, another thread removes  that key-value pair, but since the class in the example does not allow  removals, this cannot happen.That's why the implementation of ConcurrentHashMap.replace locks the node it tries to replace--CODE--","[""/**     * Implementation for the four public remove/replace methods:     * Replaces node value with v, conditional upon match of cv if     * non-null.  If resulting value is null, delete.     */    final V replaceNode(Object key, V value, Object cv) {        int hash = spread(key.hashCode());        for (Node<K,V>[] tab = table;;) {            Node<K,V> f; int n, i, fh;            if (tab == null || (n = tab.length) == 0 ||                (f = tabAt(tab, i = (n - 1) &amp; hash)) == null)                break;            else if ((fh = f.hash) == MOVED)                tab = helpTransfer(tab, f);            else {                V oldVal = null;                boolean validated = false;                synchronized (f) {                    if (tabAt(tab, i) == f) {                        if (fh >= 0) {                            validated = true;                            for (Node<K,V> e = f, pred = null;;) {                                K ek;                                if (e.hash == hash &amp;&amp;                                    ((ek = e.key) == key ||                                     (ek != null &amp;&amp; key.equals(ek)))) {                                    V ev = e.val;                                    if (cv == null || cv == ev ||                                        (ev != null &amp;&amp; cv.equals(ev))) {                                        oldVal = ev;                                        if (value != null)                                            e.val = value;                                        else if (pred != null)                                            pred.next = e.next;                                        else                                            setTabAt(tab, i, e.next);                                    }                                    break;                                }                                pred = e;                                if ((e = e.next) == null)                                    break;                            }                        }                        else if (f instanceof TreeBin) {                            validated = true;                            TreeBin<K,V> t = (TreeBin<K,V>)f;                            TreeNode<K,V> r, p;                            if ((r = t.root) != null &amp;&amp;                                (p = r.findTreeNode(hash, key, null)) != null) {                                V pv = p.val;                                if (cv == null || cv == pv ||                                    (pv != null &amp;&amp; cv.equals(pv))) {                                    oldVal = pv;                                    if (value != null)                                        p.val = value;                                    else if (t.removeTreeNode(p))                                        setTabAt(tab, i, untreeify(t.first));                                }                            }                        }                    }                }                if (validated) {                    if (oldVal != null) {                        if (value == null)                            addCount(-1L, -1);                        return oldVal;                    }                    break;                }            }        }        return null;    }""]",Concurrency,"{""Sharing resources"": 0.5, ""Performance tuning"": 0.8}"
14140326,14140547,Regular expression that finds a text between text and dot in Java,"I'm crawling a web site and it has relative urls and I want to turn them to absolute path.For this reason, I want to use regular expression.For example--CODE--I want to get  such kind of output:--CODE--I think my regex doesnt seem correct. How should I change it to work it properly.Any help will be appreciated.","["" String text =  new String(); text +=\""Lorem Ipsum /image/xyz.jpg\"";  text +=\"" Lorem Ipsum /image/xyz2.jpg\""; text +=\"" Lorem Ipsum /image/xyz2.jpg\""; Pattern pattern = Pattern.compile(\""\\\\/image\\\\/.*\\\\.\""); Matcher matcher = pattern.matcher(text); while(matcher.find()){  System.out.println(matcher.group()); }"", ""/image/xyz./image/xyz2./image/xyz2.""]",<java><regex>,14140547,"The following should do the trick:--CODE--This is assuming there's only one ""."" character in the match, ie, no multiple "".""s","[""Pattern.compile(\""\\\\/image\\\\/[^.]*\\\\.\"");""]",Strings,"{""Regular expressions"": 1.0}"
21425754,,Swing Components,"I'm trying to set my GUI as mentioned :Having a transperent JPanel appearing above a Canvas. (using JLayeredPane)I read a alot about this topic on web, and realized the problem meshing up heavyweight components (Canvas)and lightweight components (JPanel), I Have tried to solve this in many ways but none works.(using Java jdk1.6.0_45)Is there a way to get my GUI as desired ?sample code :--CODE--","[""public class main {    public static void main(String[] args) {            myWindow frame = new myWindow();            frame.setSize(950, 600);            frame.setVisible(true);            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    }    public static class myWindow extends JFrame {        private Canvas redCanvas;        private JPanel upperPanel;        private JLayeredPane layeredPane;        public myWindow() {            init();            getContentPane().setBackground(Color.black);            getContentPane().add(layeredPane);            layeredPane.add(redCanvas,2);            layeredPane.add(upperPanel, 0);        }        private void init() {            layeredPane = new JLayeredPane();            layeredPane.setLayout(null);            upperPanel = new JPanel();            JButton jButton = new JButton(\""Check\"");            jButton.setSize(50, 50);            jButton.setBounds(50, 50, 50, 50);            upperPanel.add(jButton);            upperPanel.setLocation(70, 5);            upperPanel.setOpaque(false);            upperPanel.setSize(400, 200);            upperPanel.setBackground(new Color(0,0,0,15));            redCanvas = new Canvas();            redCanvas.setBackground(Color.RED);            redCanvas.setSize(500, 500);        }    }}""]",<java><swing>,21426804,"  ""Im trying to set my GUI as mentioned : Having a transperent JPanel appearing above a Canvas.""You were right in your speculation not use Canvas I switched the Canvas to JPanel--CODE--You need to be using an Integer and not a primitive int initializing the layer. See in documentation  When adding a component to a layered pane you specify the layer with an Integer. When using setLayer to change a component's layer, you use an int. You might think that if you use an int instead of an Integer with the add method, the compiler would complain or your program would throw an illegal argument exception. But the compiler says nothing, which results in a common layered pane problem. --CODE--Side NotesI know that you need to set the bounds and sizes for components in a JLayeredPane, and this was probably just practice, but just so you know, you should not be setting the size to all your components. Instead use LayoutManagers so your GUI is more fluid and not rigid. See more one [Laying out Components Withing a Containter](""http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html"") to learn more about how to use layout.Instead of setting the size to the frame, you should call pack(), and all the preferred sizes will we respected.Run your Swing programs from the [Event Dispatch Thread(EDT)](""http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html"") like below. Also see [Initial Threads](""http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html"")--CODE--Alas, here is your program with the above two fixes, but without the side-notes. You can figure them out with the links I gave you.--CODE--","[""JPanel redPanel = new JPanel();"", ""layeredPane.add(redCanvas, new Integer(0));layeredPane.add(upperPanel, new Integer(1));"", ""public static void main(String[] args) {    SwingUtilities.invokeLater(new Runnable(){        @Override        public void run() {            myWindow frame = new myWindow();            ....        }    });}"", ""import java.awt.Color;import javax.swing.JButton;import javax.swing.JFrame;import javax.swing.JLayeredPane;import javax.swing.JPanel;public class main {    public static void main(String[] args) {        myWindow frame = new myWindow();        frame.setSize(950, 600);        frame.setVisible(true);        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    }    static class myWindow extends JFrame {        private JPanel redCanvas;        private JPanel upperPanel;        private JLayeredPane layeredPane;        public myWindow() {            init();            getContentPane().setBackground(Color.black);            layeredPane.add(redCanvas, new Integer(0));            layeredPane.add(upperPanel, new Integer(1));            getContentPane().add(layeredPane);        }        private void init() {            layeredPane = new JLayeredPane();            layeredPane.setLayout(null);            upperPanel = new JPanel();            JButton jButton = new JButton(\""Check\"");            jButton.setSize(50, 50);            jButton.setBounds(50, 50, 50, 50);            upperPanel.add(jButton);            upperPanel.setLocation(70, 5);            upperPanel.setOpaque(false);            upperPanel.setSize(400, 200);            upperPanel.setBackground(new Color(0, 0, 0, 15));            redCanvas = new JPanel();            redCanvas.setBackground(Color.RED);            redCanvas.setOpaque(true);            redCanvas.setSize(500, 500);        }    }}""]",Graphical User Interfaces,"{""A selection of Swing components"": 1.0, ""Concurrency & Swing"": 0.8}"
28923167,28923182,Equivalent of getSelected column method of JTable in DefaultTableModel,"I was re designing my codes with formerly using--CODE--Now, I need to use DefaultTableModel. Is there a method or implementation that is related to this method of JTable? Thanks!","[""JTable jtable = new JTable();int selectedIndex = jtable.getSelectedColumn();//implementations""]",<java><user-interface><jtable><tablemodel><defaulttablemodel>,28923182,"A TableModel has nothing to do with the selected column of the JTable.It doesn't matter what TableModel you use with the JTable, you still use --CODE--method to get the selected column.Of course, there is no selected column when you first create the JTable. The user must select the column or you must set the selection on a particular cell of the table.So you only use the getSelectedColumn() method in response to some kind of user event.","[""int selectedIndex = table.getSelectedColumn();""]",Graphical User Interfaces,"{""A selection of Swing components"": 1.0}"
28033255,28033597,Incorrect Spacing with JPanels using BorderLayout,"I have an annoying issue with my JPanels that use BorderLayout.--CODE--This is in the constructor of my Inventory JPanel. Slot() and MapGUI() are classes that extend JPanel. When the game runs, the screen looks like this:Clearly the Panels are completely off, with both being off the screen. How can I fix this? Thanks for any help.","[""    this.setLayout(new BorderLayout(0, 0));     JPanel panel = new JPanel(new BorderLayout(0, 0));    panel.add(new Slot(), BorderLayout.SOUTH);    panel.add(new MapGUI(), BorderLayout.NORTH);    this.add(panel, BorderLayout.CENTER);""]",<java><swing><jpanel><layout-manager><border-layout>,28033597,"According to the JavaDocs for the BorderLayout:  The components are laid out according to their preferred sizes and the constraints of the container's size. The NORTH and SOUTH components may be stretched horizontally; the EAST and WEST components may be stretched vertically; the CENTER component may stretch both horizontally and vertically to fill any space left over.Do you have the preferred sizes set?You may want to try the [BoxLayout](""http://docs.oracle.com/javase/8/docs/api/javax/swing/BoxLayout.html"") if you want to align the components vertically.",[],Graphical User Interfaces,"{""A selection of Swing components"": 0.8, ""Controlling layout"": 0.85}"
55487998,,Singleton returning empty Object,"We have a cache implementation in our project, for which we have used singleton design pattern. Class Cache is a singleton class which has a HashMap m inside it. Sometime when we get data from the Hashmap m . returned inner HashMap is empty. This is happening randomly and we are clueless why it is happening. We have ensured in our code that there is no remove statement is invoked on map, as well as no code is present which is removing this data.Any leads on this will be very helpful.Thanks in advance.Cache Class :---CODE--Code to put value :---CODE--Code to get Value:---CODE--This scenario occurring randomly in production and we are not able to replicate in Non production environment. I am suspecting it because of GC but have no evidence to prove it.","[""public Class Cache{    public static Cache c;    private HashMap<String,HashMap> m ;    private Cache()    {         m = new HashMap<String,HashMap>();    }    public static synchronized Cache getInstance()    {        if(c == null) { c = new Cache(); }        return c;    }    public void put(String id,HashMap value)    {    m.put(id,value);     }    public HashMap get(String id)    {    return m.get(id);    }}"", ""Cache c = Cache.getInstance();c.put(\""CITY_CACHE\"",cityMap);// cityMap is a non empty map having city data"", ""Cache c = Cache.getInstance();HashMap cityMap = c.get(\""CITY_CACHE\"");//city Map here becomes empty sometimes""]",<java><multithreading><singleton>,55488372,"While you synchronize getting the Cache instance, you don't protect the inner map's manipulation. You should either synchronize these operations or use a thread-safe map implementation, such as [ConcurrentHashMap](""https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html"").",[],Concurrency,"{""Sharing resources"": 0.85, ""Cooperation between tasks"": 0.85}"
12852076,12852362,How can I rotate an onscreen component in Java?,--CODE--So anyways theres my code. It probably looks a bit jumbled as I am not used to stackoverflow just yet so I apologize. Here's my question: This program makes this small rectangle slowly move to the right; how can I add rotation to the rectangles movement during that time period?,"["" import javax.swing.*; import java.awt.*; public class JFrameAnimationTest extends JFrame {     public static void main(String[] args) throws Exception{        AnimationPanel animation = new AnimationPanel();        JFrameAnimationTest frame = new JFrameAnimationTest();        frame.setSize(600, 480);        frame.setLocationRelativeTo(null);        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        frame.add(animation);        frame.setVisible(true);                for(int i = 0; i < 100; i++) {            animation.incX(1);            //animation.incY(1);            animation.repaint();            Thread.sleep(10);        }    }}class AnimationPanel extends JPanel {    int x = 10;    int y = 10;     public AnimationPanel() {          }  @Override  protected void paintComponent(Graphics g) {      super.paintComponent(g);      g.setColor(Color.BLUE);      g.drawRect(x, y, 20, 20);      g.fillRect(x, y, 20, 20);  }  protected void incX(int X) {      x += X;  }  protected void incY(int Y) {      y += Y;  }}""]",<java><swing><graphics2d><paintcomponent>,12852362,"Note: I haven't actually compiled this code, but you get the gist.--CODE--Also note that you should really be using something like a javax.swing.Timer when you modify x, y, and rotation and when you call repaint(). That way all of it happens on the event dispatch thread.","[""public void paintComponent( Graphics g ){    super.paintComponent( g );    Graphics2D g2d = (Graphics2D) g;    // The 20x20 rectangle that you want to draw    Rectangle2D rect = new Rectangle2D.Double( 0, 0, 20, 20 );    // This transform is used to modify the rectangle (an affine    // transform is a way to do operations like translations, rotations,    // scalings, etc...)    AffineTransform transform = new AffineTransform();    // 3rd operation performed: translate the rectangle to the desired    // x and y position    transform.translate( x + 10, y + 10 );    // 2nd operation performed: rotate the rectangle around the origin    transform.rotate( rotation );    // 1st operation performed: translate the rectangle such that it is    // centered on the origin    transform.translate( -10, -10 );    // Apply the affine transform    Shape s = transform.createTransformedShape( rect );    // Fill the shape with the current paint    g2d.fill( s );    // Stroke the edge of the shape with the current paint    g2d.draw( s );}""]",Graphical User Interfaces,"{""A selection of Swing components"": 0.8, ""Swing basics"": 0.7}"
13931081,13962197,JTextField focus is not getting on the first click of Tab button,i've done an application with two JTextField with the autocomplete featurethe application works fine but On clicking the Tab Button while the mouse pointer is on the first TextField the Mouse focus is not going into the second Textfield but gets the focus on the second time. i.e for passing the focus we have press the Tab button twiceCan anyone tell me wat's the reason and the solution for this problemMy code is given below--CODE--Thanks in advance.,"[""import java.awt.BorderLayout;import java.awt.Dimension;import java.awt.event.*;import java.text.Collator;import java.util.*;import javax.swing.DefaultComboBoxModel;import javax.swing.JComboBox;import javax.swing.JTextField;import javax.swing.event.DocumentEvent;import javax.swing.event.DocumentListener;import javax.swing.text.AttributeSet;import javax.swing.text.BadLocationException;import javax.swing.text.PlainDocument;public class AutoCompleteExample extends javax.swing.JFrame {    public AutoCompleteExample() {        initComponents();         List<Country> countries = new ArrayList<Country>();        Locale[] locales = Locale.getAvailableLocales();        for (Locale locale : locales) {        String iso = locale.getISO3Country();        String code = locale.getCountry();        String name = locale.getDisplayCountry();        if (!\""\"".equals(iso) &amp;&amp; !\""\"".equals(code) &amp;&amp; !\""\"".equals(name)) {            countries.add(new Country(iso, code, name));        }        }        Collections.sort(countries, new CountryComparator());        java.util.Set<String> item = new java.util.TreeSet<String>();        for(Country cn:countries){            item.add(\""\""+cn);        }        ArrayList<String> items = new ArrayList<String>(item);        setupAutoComplete(country,code, items);        country.setColumns(30);       }    @SuppressWarnings(\""unchecked\"")    // <editor-fold defaultstate=\""collapsed\"" desc=\""Generated Code\"">    private void initComponents() {        jDesktopPane1 = new javax.swing.JDesktopPane();        jLabel1 = new javax.swing.JLabel();        country = new javax.swing.JTextField();        jLabel2 = new javax.swing.JLabel();        code = new javax.swing.JTextField();        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);        jDesktopPane1.setBackground(javax.swing.UIManager.getDefaults().getColor(\""Button.background\""));        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);        jLabel1.setText(\""Country Name\"");        jLabel1.setBounds(0, 10, 80, 20);        jDesktopPane1.add(jLabel1, javax.swing.JLayeredPane.DEFAULT_LAYER);        country.addFocusListener(new java.awt.event.FocusAdapter() {            public void focusLost(java.awt.event.FocusEvent evt) {                countryFocusLost(evt);            }        });        country.addKeyListener(new java.awt.event.KeyAdapter() {            public void keyReleased(java.awt.event.KeyEvent evt) {                countryKeyReleased(evt);            }        });        country.setBounds(90, 10, 140, 20);        jDesktopPane1.add(country, javax.swing.JLayeredPane.DEFAULT_LAYER);        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);        jLabel2.setText(\""Code\"");        jLabel2.setBounds(235, 10, 50, 20);        jDesktopPane1.add(jLabel2, javax.swing.JLayeredPane.DEFAULT_LAYER);        code.setBounds(300, 10, 160, 20);        jDesktopPane1.add(code, javax.swing.JLayeredPane.DEFAULT_LAYER);        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());        getContentPane().setLayout(layout);        layout.setHorizontalGroup(            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)            .addComponent(jDesktopPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 473, Short.MAX_VALUE)        );        layout.setVerticalGroup(            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)            .addComponent(jDesktopPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 43, Short.MAX_VALUE)        );        pack();    }// </editor-fold>    private void countryFocusLost(java.awt.event.FocusEvent evt) {        // TODO add your handling code here:    }    private void countryKeyReleased(java.awt.event.KeyEvent evt) {    }    public static void main(String args[]) {        java.awt.EventQueue.invokeLater(new Runnable() {            public void run() {                new AutoCompleteExample().setVisible(true);            }        });    }    // Variables declaration - do not modify    public static javax.swing.JTextField code;    public static javax.swing.JTextField country;    private javax.swing.JDesktopPane jDesktopPane1;    private javax.swing.JLabel jLabel1;    private javax.swing.JLabel jLabel2;    // End of variables declaration private static boolean isAdjusting(JComboBox cbInput) {        if (cbInput.getClientProperty(\""is_adjusting\"") instanceof Boolean) {            return (Boolean) cbInput.getClientProperty(\""is_adjusting\"");        }        return false;    }    private static void setAdjusting(JComboBox cbInput, boolean adjusting) {        cbInput.putClientProperty(\""is_adjusting\"", adjusting);    }    public static void setupAutoComplete(final JTextField txtInput,final JTextField txtInput2, final ArrayList<String> items) {        final DefaultComboBoxModel model = new DefaultComboBoxModel();        final JComboBox cbInput = new JComboBox(model) {            public Dimension getPreferredSize() {                return new Dimension(super.getPreferredSize().width, 0);            }        };        setAdjusting(cbInput, false);        for (Object item : items) {            model.addElement(item);        }        cbInput.setSelectedItem(null);        cbInput.addActionListener(new ActionListener() {            @Override            public void actionPerformed(ActionEvent e) {                if (!isAdjusting(cbInput)) {                    if (cbInput.getSelectedItem() != null) {                        txtInput.setText(cbInput.getSelectedItem().toString());                        txtInput2.setText(datas.get(cbInput.getSelectedItem().toString())+\""\"");                    }                }            }        });        txtInput.addKeyListener(new KeyAdapter() {            @Override            public void keyPressed(KeyEvent e) {                setAdjusting(cbInput, true);                if (e.getKeyCode() == KeyEvent.VK_SPACE) {                    if (cbInput.isPopupVisible()) {                        e.setKeyCode(KeyEvent.VK_ENTER);                    }                }                if (e.getKeyCode() == KeyEvent.VK_ENTER || e.getKeyCode() == KeyEvent.VK_UP || e.getKeyCode() == KeyEvent.VK_DOWN) {                    e.setSource(cbInput);                    cbInput.dispatchEvent(e);                    if (e.getKeyCode() == KeyEvent.VK_ENTER) {                        txtInput.setText(cbInput.getSelectedItem().toString());                        // System.out.println(\""SEEEEE:\""+datas.get(cbInput.getSelectedItem().toString()));                        txtInput2.setText(datas.get(cbInput.getSelectedItem().toString())+\""\"");                        cbInput.setPopupVisible(false);                    }                }                if (e.getKeyCode() == KeyEvent.VK_ESCAPE) {                    cbInput.setPopupVisible(false);                }                setAdjusting(cbInput, false);            }            @Override             public void keyReleased(KeyEvent e)             {                setAdjusting(cbInput, true);                if (e.getKeyCode() == KeyEvent.VK_SPACE) {                    if (cbInput.isPopupVisible()) {                        e.setKeyCode(KeyEvent.VK_ENTER);                    }                }                if (e.getKeyCode() == KeyEvent.VK_ENTER || e.getKeyCode() == KeyEvent.VK_UP || e.getKeyCode() == KeyEvent.VK_DOWN) {                    e.setSource(cbInput);                    cbInput.dispatchEvent(e);                    if (e.getKeyCode() == KeyEvent.VK_ENTER) {                        txtInput.setText(cbInput.getSelectedItem().toString());                        // System.out.println(\""SEEEEE:\""+datas.get(cbInput.getSelectedItem().toString()));                        txtInput2.setText(datas.get(cbInput.getSelectedItem().toString())+\""\"");                        cbInput.setPopupVisible(false);                    }                }                if (e.getKeyCode() == KeyEvent.VK_ESCAPE) {                    cbInput.setPopupVisible(false);                }                setAdjusting(cbInput, false);             }        });        txtInput.addFocusListener(new FocusListener() {            public void focusGained(FocusEvent e) {            }            @Override            public void focusLost(FocusEvent e) {            try{     setAdjusting(cbInput, true);                 e.setSource(cbInput);                 cbInput.dispatchEvent(e);                 txtInput.setText(cbInput.getSelectedItem().toString());                       // System.out.println(\""SEEEEE:\""+datas.get(cbInput.getSelectedItem().toString()));                 txtInput2.setText(datas.get(cbInput.getSelectedItem().toString())+\""\"");                 cbInput.setPopupVisible(false);                  setAdjusting(cbInput, false);            }catch(Exception s){country.setText(\""\"");code.setText(\""\"");            }              }            });        txtInput.getDocument().addDocumentListener(new DocumentListener() {            public void insertUpdate(DocumentEvent e) {                updateList();            }            public void removeUpdate(DocumentEvent e) {                updateList();            }            public void changedUpdate(DocumentEvent e) {                updateList();            }            private void updateList() {                setAdjusting(cbInput, true);                model.removeAllElements();                String input = txtInput.getText();                if (!input.isEmpty()) {                    for (Object item : items) {                        if ((item+\""\"").toLowerCase().startsWith(input.toLowerCase())) {                            model.addElement(item);                        }                    }                }                cbInput.setPopupVisible(model.getSize() > 0);                setAdjusting(cbInput, false);            }        });        txtInput.setLayout(new BorderLayout());        txtInput.add(cbInput, BorderLayout.SOUTH);    }    public static HashMap datas=new HashMap();;}////////////////////////////////////////////////////class JTextFieldLimits for limiting texfield strength/////////////////////////////////////////class JTextFieldLimits extends PlainDocument {  private int limit;  JTextFieldLimits(int limit) {   super();   this.limit = limit;   }    @Override  public void insertString( int offset, String  str, AttributeSet attr ) throws BadLocationException {    if (str == null) return;    if ((getLength() + str.length()) <= limit) {      super.insertString(offset, str, attr);    }  }}////////////////////////////////////////////////////class Country for getting names/////////////////////////////////////////class Country {  private String iso;  private String code;  public String name;  Country(String iso, String code, String name) {    this.iso = iso;    this.code = code;    this.name = name;      AutoCompleteExample.datas.put(name, code);  }    @Override  public String toString() {    return  name;  }  public String getName() {    return  code;  }}class CountryComparator implements Comparator<Country> {  private Comparator comparator;  CountryComparator() {    comparator = Collator.getInstance();  }    @Override  public int compare(Country o1, Country o2) {    return comparator.compare(o1.name, o2.name);  }}""]",<java><swing><autocomplete><focus><jtextfield>,13962197,"The problem is that your JComboBox you're using for displaying the autocomplete is focusable.  So when you hit tab, it focuses on the non-visible ComboBox.  If you use this line after declaring cbInput in setupAutoComplete, it should fix your problem:--CODE--Example:--CODE--","[""    cbInput.setFocusable(false);"", ""public static void setupAutoComplete(final JTextField txtInput,final JTextField txtInput2, final ArrayList<String> items) {        final DefaultComboBoxModel model = new DefaultComboBoxModel();        final JComboBox cbInput = new JComboBox(model) {            public Dimension getPreferredSize() {                return new Dimension(super.getPreferredSize().width, 0);            }        };        //The important line:        cbInput.setFocusable(false);        setAdjusting(cbInput, false);        for (Object item : items) {            model.addElement(item);        }        ...}     ""]",Graphical User Interfaces,"{""Capturing an event"": 0.8, ""The Swing event model"": 0.8, ""A selection of Swing components"": 0.65}"
16159385,,Java textBox.setText() error (too much text?),"I have a total noob Java question :|When using the setText() method, I get this error--CODE--And this is my action event --CODE--list is my JTextArea, those numbers and hex as well as the | are what I'm basically trying to remove from the text area.Thanks anyone :)","[""javax.swing.JTextArea[,0,-26524,590x27015,layout=javax.swing.plaf.basic.BasicTextUI$UpdateHandler,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.basic.BasicBorders$MarginBorder@52d1f1fb,flags=296,maximumSize=,minimumSize=,preferredSize=,caretColor=sun.swing.PrintColorUIResource[r=51,g=51,b=51],disabledTextColor=javax.swing.plaf.ColorUIResource[r=184,g=207,b=229],editable=true,margin=javax.swing.plaf.InsetsUIResource[top=0,left=0,bottom=0,right=0],selectedTextColor=sun.swing.PrintColorUIResource[r=51,g=51,b=51],selectionColor=javax.swing.plaf.ColorUIResource[r=184,g=207,b=229],colums=20,columWidth=11,rows=5,rowHeight=15,word=false,wrap=false]"", ""    list.setText(list.toString().replaceAll(\""|3835569365|e49e24d5\"", \""\""));""]",<java><swing><netbeans><methods><settext>,16159400,"The problem is you are using toString() when you should using getText().Change your code to read more like...--CODE--InsteadtoString() is returning stateful information about the object, you shouldn't need to use in every day work","[""list.setText(list.getText().replaceAll(\""|3835569365|e49e24d5\"", \""\""));""]",Graphical User Interfaces,"{""Text areas"": 0.9, ""A selection of Swing components"": 0.85}"
33657583,33658152,Creating a Canvas for both input and output - Java,I want to create a black canvas for both inputting and outputting text. I was wondering how you would initialize and implement this code. Thank You!,[],<java><user-interface>,33658152,"Expanding on what user3437460 said is that you can create a JFrame and add a JTextArea to that JFrame. Like he said, set the background and foreground colors of the JTextArea and handle any input that the user enters. If you still don't understand, here's a quick example:--CODE--I believe this is what you are trying to achieve?","[""public class Console extends JFrame{    private final JTextArea text;    private final DocumentListener docListener = new DocumentListener()    {        @Override        public void insertUpdate(DocumentEvent e)        {            System.out.println(\""String inserted\"");            // This is called when text is inserted into the JTextArea            // Similar to a user typing        }        @Override        public void removeUpdate(DocumentEvent e)        {            System.out.println(\""String removed\"");            // This is called when text is removed from the JTextArea            // Similar to a user backspacing        }        @Override        public void changedUpdate(DocumentEvent e)        {            // This isn't all that necessary because it doesn't apply to JTextAreas        }    };    public Console()    {        text = new javax.swing.JTextArea();        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);        setTitle(\""Console\"");        text.setBackground(new java.awt.Color(0, 0, 0));        text.setColumns(40);        text.setForeground(new java.awt.Color(0, 255, 0));        text.setRows(10);        text.setText(\""I am a console!\"");        text.setCaretColor(new java.awt.Color(0, 255, 0));        Document doc = new PlainDocument();        doc.addDocumentListener(docListener);        text.setDocument(doc);        getContentPane().add(new JScrollPane(text), java.awt.BorderLayout.CENTER);        pack();        setLocationRelativeTo(null);    }                           public static void main(String args[])    {        EventQueue.invokeLater(new Runnable()        {            @Override            public void run()            {                new Console().setVisible(true);            }        });    }}""]",Graphical User Interfaces,"{""Text areas"": 0.9, ""A selection of Swing components"": 0.85}"
52884348,52884959,how to put a component at the center of other component that sit in a JPanel,"I wondered how do I put a JLabel or a JPanel at the center of a JTable that Sit in a JPanel.I saw one example with BufferedImage but I could not convert it for some resone, here is the example link:[](""https://stackoverflow.com/questions/45701380/put-jlabel-on-component-in-jpanel"">Put)I put also an image to show what I mean.[Press to see the result I need](""https://i.stack.imgur.com/k8KUu.png"")by the way this is how it looks like when I uses windows 8now...any idea ?",[],<java><swing><awt>,52884959,"You can add any component directly to the table (this is how an editor works).You just need to set the size/location of the component:--CODE--Or you could use the JLayer class to decorate the JTable. Read the section from the Swing tutorial on [How to Decorate Components With the JLayer Class](""https://docs.oracle.com/javase/tutorial/uiswing/misc/jlayer.html"") for more information and working examples.Edit:A simple example of a proper MCVE""--CODE--","[""JLabel label = new JLabel( \""Please Wait\"" );label.setSize( label.getPreferredSize() );label.setLocation(20, 20);table.add( label );table.repaint();"", ""import java.awt.*;import javax.swing.*;import javax.swing.border.*;public class PleaseWait extends JPanel{    PleaseWait()    {        JTable table = new JTable(5, 5);        table.setPreferredScrollableViewportSize(table.getPreferredSize());        add( new JScrollPane( table ) );        JLabel label = new JLabel(\""Please Wait\"");        label.setOpaque(true);        label.setBackground(Color.LIGHT_GRAY);        label.setBorder( new EmptyBorder(10, 10, 10, 10) );        label.setSize( label.getPreferredSize() );        label.setLocation(150, 20);        table.add( label );    }    private static void createAndShowGUI()    {        JFrame frame = new JFrame(\""PleaseWait\"");        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        frame.add(new PleaseWait());        frame.pack();        frame.setLocationByPlatform( true );        frame.setVisible( true );    }    public static void main(String[] args) throws Exception    {        EventQueue.invokeLater( () -> createAndShowGUI() );/*        EventQueue.invokeLater(new Runnable()        {            public void run()            {                createAndShowGUI();            }        });*/    }}""]",Graphical User Interfaces,"{""A selection of Swing components"": 0.85}"
21773270,21773305,File Reader IO Reading Text Files,I have an assignment that asks me to read a code from a text file.  Does anybody know what would be wrong with my code?  Instead of outputting the text itself it also outputs extra characters:{\rtf1\ansi\ansicpg1252\cocoartf1187\cocoasubrtf390{\fonttbl\f0\fswiss\fcharset0 Helvetica;}{\colortbl;\red255\green255\blue255;}\margl1440\margr1440\vieww10800\viewh8400\viewkind0\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\f0\fs24 \cf0 ana\nan\stop\pots} when it should just be outputting this:ana nanstop potsHeres the code:--CODE--Thanks for the help!,"[""package anagram1;import java.io.FileReader; //Access file systems and allows buffered reader                        //to readimport java.io.BufferedReader; //Scannerimport java.util.Scanner;public class Anagram1 {public static void main(String[] args) throws Exception{    String path;    Scanner prompt = new Scanner(System.in);     System.out.println(\""Enter file path.\"");    path = prompt.nextLine();    FileReader file = new FileReader(path);  //here is where the file path is inserted    BufferedReader reader = new BufferedReader(file);    String text = \""\""; //stores what is inside file    String line = reader.readLine(); //keeps reading line after line of string given    while (line != null)    {        text += line;        line = reader.readLine();    }    System.out.println(text);}}""]",<java><file><input><output><filereader>,21773305,EDITIt seems your text file contains not only the expected four lines but other code.Former contentAre you sure your text file ONLY contains these four strings and is no special format? You could probably check with another text file you freshly created.,[],IO,"{""Typical uses of IO streams"": 0.85}"
50220868,50221005,Prinitng matching information from 2 files in Java,"I am trying to write a program that checks two files and prints the common contents from both the files.Example of the file 1 content would be:--CODE--Example of the file 2 content would be:--CODE--So the final output printed on the console would be:--CODE--Here is what I have so far in my code:--CODE--I am having trouble in figuring out how to match the file contents, and print only the student name and their major by matching the student id in each of the file. Thanks for all the help.","[""James 1Cody 2John 3"", ""1 Computer Science2 Chemistry3 Physics"", ""James Computer ScienceCody ChemistryJohn Physics"", ""public class Filereader {    public static void main(String[] args) throws Exception {    File file = new File(\""file.txt\"");    File file2 = new File(\""file2.txt\"");    BufferedReader reader = new BufferedReader(new FileReader(file));    BufferedReader reader2 = new BufferedReader(new FileReader(file2));    String st, st2;    while ((st = reader.readLine()) != null) {          System.out.println(st);    }    while ((st2 = reader2.readLine()) != null) {            System.out.println(st2);    }    reader.close();    reader2.close();    }}""]",<java><file>,50221005,"What you want is to organize your text file data into map, then merge their data. This will work even if your data are mixed, not in order.--CODE--","[""public class Filereader {    public static void main(String[] args) throws Exception {    File file = new File(\""file.txt\"");    File file2 = new File(\""file2.txt\"");    BufferedReader reader = new BufferedReader(new FileReader(file));    BufferedReader reader2 = new BufferedReader(new FileReader(file2));    String st, st2;    Map<Integer, String> nameMap = new LinkedHashMap<>();    Map<Integer, String> majorMap = new LinkedHashMap<>();    while ((st = reader.readLine()) != null) {          System.out.println(st);         String[] parts = st.split(\"" \""); // Here you got [\""James\"", \""1\""]         String name = parts[0];         Integer id = Integer.parseInt(parts[1]);         nameMap.put(id, name);    }    while ((st2 = reader2.readLine()) != null) {         System.out.println(st2);         String[] parts = st2.split(\"" \"");         String name = parts[1];         Integer id = Integer.parseInt(parts[0]);         majorMap.put(id, name);    }    reader.close();    reader2.close();    // Combine and print    nameMap.keySet().stream().forEach(id -> {      System.out.println(nameMap.get(id) + \"" \"" + majorMap.get(id));    })    }}""]",IO,"{""Typical uses of IO streams"": 0.85}"
33923387,,Save JTextField and Selected Radio Button Data To A Text File,"I've create a GUI in Netbeans to get inputs from the user for certain fields. I don't understand how to save the text from the JTextField and Radio Buttons that are selected to a text file. I attached the picture below of the user form. Once ""OK"" button is pressed, the user gets a dialog to save the file. Currently, I can save the file to a text file. But nothing appears in the text file. How can I retrieve data from each text field and radio button?Please help, I've tried a lot of solutions but it has not been working properly.--CODE--[](""https://i.stack.imgur.com/0mTrl.png"")","[""private void buttonOkActionPerformed(java.awt.event.ActionEvent evt) {                                             // TODO add your handling code here:    try{        String filename = JOptionPane.showInputDialog(null, \""Enter the name to be saved\"", \""File Name\"", 1 );        FileOutputStream writer = new FileOutputStream(filename+\"".dat\"");        txtFirstName.getText().toString(); //Trying to get text from First Name field.        writer.close();        JOptionPane.showMessageDialog(null,\""Saved Successfully\"");   }catch (Exception e) {       JOptionPane.showMessageDialog(null, e);   }}  ""]",<java><user-interface><netbeans><jdialog><fileoutputstream>,33923509,"Between--CODE--and --CODE--you should actually write using FileOutputStream's write method.I think that what you want to do is: --CODE--In the above code you can see that the FileOutputStream (conventionally references as fos for lazyness sake) gets wrapped.There are two families of classes to write files in Java. Readers/Writers and Streams.Your fos is a stream, so it deals with system specific implementation and writes bytes or integers, meanwhile that the BufferedWritter (bw for lazyness sake) deals with writing Objects, and basic types. With the wrapping we get the best of both worlds, high level handling and low level functionality.","[""FileOutputStream writer = new FileOutputStream(filename+\"".dat\"");"", ""writer.close();"", ""FileOutputStream writer = null;    try {        FileOutputStream writer = new FileOutputStream(filename+\"".dat\"");        OutputStreamWriter os = new OutputStreamWriter(writer);        BufferedWriter bw = new BufferedWriter(os);        bw.write(txtFirstName.getText().toString());    } catch (FileNotFoundException ex) {        Logger.getLogger(generafechas.class.getName()).log(Level.SEVERE, null, ex);    } catch (IOException ex) {        Logger.getLogger(generafechas.class.getName()).log(Level.SEVERE, null, ex);    }finally{        if(writer!=null)            try {                writer.close();        } catch (IOException ex) {            Logger.getLogger(generafechas.class.getName()).log(Level.SEVERE, null, ex);        }    }""]",Graphical User Interfaces,"{""A selection of Swing components"": 0.8, ""Text areas"": 0.85}"
29549852,,Java getting the wrong number of jbuttons in grid layout,So I'm new to Java and im definitely new to Swing. I've got a 80 X 80 array thats going to be used by a maze. I need my gui to have 80 X 80 buttons so they can be tied to the values in my array. I cant figure out why I'm only getting five or six large buttons from this code. If anyone can tell me how I can get this to work then thank you in advance because I'm stumped.Just run it and you'll see what I mean...also I guess I've not figured out how to change the color of the buttons and I changed the background color instead. Heres my code:--CODE--,"[""public static void draw() {    JFrame f = new JFrame();    f.setTitle(\""Maze\"");    f.setSize(800, 800);    f.setVisible(true);    f.setDefaultCloseOperation(EXIT_ON_CLOSE);    JPanel c = (JPanel)f.getContentPane();    GridLayout gridLayout = new GridLayout();    c.setLayout(gridLayout);    for(int i =0;i<80;i++){        for(int j =0;j<80;j++){            JButton b = new JButton();            c.add(b, i,j);            b.setSize(10, 10);            b.setOpaque(true);            b.setBackground(Color.red);        }    }}}""]",<java><swing><user-interface><jpanel><jbutton>,29550259,"80 * 10 > f.setSize(800, 800); and your code is not possible to fit in FullHd monitoruse f.pack() instead of f.setSize(800, 800);f.pack() and f.setVisible(true); (could be a main issue) should be last code lines in non_static and renamed to !public void DrawMe() {!, because draw() is reserved word for/in Java APIc.add(b, i,j); should be last code line too (logical ordering), c.add(b, i,j); set row and columns for GridLayout instead of injecting the JButton to virtual grid in GridLayoutmake me some sense (starting with the numbers of elements)from--CODE--","[""import java.awt.GridLayout;import javax.swing.JButton;import javax.swing.JFrame;import javax.swing.JPanel;import javax.swing.SwingUtilities;public class DrawMe {    private JFrame frame = new JFrame();    private JPanel c = new JPanel();    private static final int column = 10;    private static final int row = 10;    public DrawMe() {        c.setLayout(new GridLayout(row, column));        for (int i = 0; i < column; i++) {            for (int j = 0; j < row; j++) {                JButton b = new JButton((i + 1) + \"" \"" + (j + 1));                c.add(b);            }        }        frame.add(c);        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        frame.pack();        frame.setLocation(150, 150);        frame.setVisible(true);    }    public static void main(String[] args) {        SwingUtilities.invokeLater(new Runnable() {            @Override            public void run() {                new DrawMe();            }        });    }}""]",Graphical User Interfaces,"{""A selection of Swing components"": 0.85, ""Making a button"": 0.8}"
31013830,31013907,Java JFrame setSize doesn`t work properly,"I am making a JFrame with the size of 500x500 pixels.I make a blue background and add a red square in the right-bottom corner from (490,490) to (500,500).Image: I don't see the red square on the screen.I switched the frame from not resizable to resizable and if I make the window larger the red dot is there.Is the frame size the same as application's window size?How can I make the application's window to be the exactly 500x500?",[],<java><swing><jframe>,31013907,"The frame is the size of the entire window, including the title bar required by the OS. When drawing things in the JPanel in the JFrame, the (0, 0) coordinate is in the top left corner if the JPanel, which begins just below the title bar. It sounds like your title bar is taller than 10 pixels, so 490 as a y component is actually off the window, since the visible height of the JPanel is windowHeight - titleBarHeight.",[],Graphical User Interfaces,"{""A selection of Swing components"": 0.85}"
27978295,,Display excel sheet in JFrame,"Is there any way to display excel sheet in JFrame  directly rather than reading all cells? Just as we display Web page in frame directly like below, or do I have to read the excel file?--CODE--","[""JEditorPane website = new JEditorPane(\""http://smo-gram.tumblr.com/\"");""]",<java><excel><swing>,27978366,"You can display the Excel file in the default spreadsheet app of your OS by using the Desktop API. Read the section from the Swing tutorial on [How to Integrate With the Desktop](""http://docs.oracle.com/javase/tutorial/uiswing/misc/desktop.html"").Or you can access the data of the file by using API's found in: Integrating excel sheet with java swing",[],Graphical User Interfaces,"{""A selection of Swing components"": 0.85}"
21965293,,How to start a remote thread in java?,I have an apllication where there are three folders. I am trying to implement the producer consumer concept using LinkedBlockingQueue.Folder 1:Contains a class which has a shared queue--CODE--From a method in this class I try to call the Producer thread and the Consumer thread both of which reside in separate files.--CODE--Folder 2:Contains the producer thread class as follows:--CODE--Folder 3: Contains the consumer class as follows:--CODE--Can somebody tell me how to make sure that the data added to the shared queue by Producer class can be taken by Consumer class. The consumer consumes the data every minute. Not necessary that data is consumed as soon as it is produced. Calling the Consumer and Producer threads is not working as I have them in separate directories. Do I have to use remote method invocation? Is it possible for threads?,"[""public static BlockingQueue sharedQueue = new LinkedBlockingQueue();"", ""  Thread updateThread = new Thread(new Producer(sharedQueue));  Thread takeThread = new Thread(new Consumer(sharedQueue));  updateThread.start();  takeThread.start();"", ""public class Producer implements Runnable {            private final BlockingQueue Queue;    public Producer(BlockingQueue sharedQueue){            Queue = sharedQueue;    }    public void run()    {         while (Thread.currentThread() != null) {         Random random = new Random();         int pos = random.nextInt(productList.size());                       String query = \""insert into tab1 values(\""+pos+\"")\"";         Queue.put(query);      }}"", ""public class Consumer implements Runnable{    private final BlockingQueue queue;    Collection<String> joblist;       public Consumer (BlockingQueue sharedQueue) {    queue = sharedQueue;    MonitoringForm.txtInforamtion.append(\""hi\""+sharedQueue.size());    joblist = new ArrayList<String>();}@Overridepublic void run() {    while(true){        try {                         for(int i = 0; i < queue.size(); i++)            {                joblist.add(queue.take().toString());                MonitoringForm.txtInforamtion.append(\""What we got \""+queue.take().toString());            }        } catch (InterruptedException ex) {            Logger.getLogger(Consumer.class.getName()).log(Level.SEVERE, null, ex);        }        try {            Thread.sleep(60*1000);         } catch (Exception e) {     }    }}}""]",<java><multithreading><producer-consumer>,21965354,Here's a sample code I wrote which can help you understand the concept:--CODE--,"[""import java.util.Random;import java.util.concurrent.ArrayBlockingQueue;import java.util.concurrent.ExecutorService;import java.util.concurrent.Executors;/** * We want a Producer thread to create random values, and the Consumer thread to * consume it. One caveat is that if the Producer has already created a random * value, which the Consumer thread hasn't consumed yet, the Producer thread * blocks or waits. On the flip side, the Consumer thread waits for the Producer * thread to produce some value if the Producer thread hasn't already. *  * Write a program to simulate such a situation. */public class ProducerConsumerCommunication{  private volatile boolean running = true;  private ArrayBlockingQueue<Integer> buffer = new ArrayBlockingQueue<>(1);  private Random random = new Random(System.currentTimeMillis());  private class ProducerTask implements Runnable  {    public void run()    {      while (running)      {        try        {          Thread.sleep(random.nextInt(2000));          Integer value = random.nextInt();          buffer.put(value); // Blocks if buffer is full.          System.out.println(\""Value Put: \"" + value);        }        catch (InterruptedException e)        {          e.printStackTrace();        }      }    }  }  private class ConsumerTask implements Runnable  {    public void run()    {      while (running)      {        try        {          Thread.sleep(random.nextInt(2000));          Integer value = buffer.take(); // Blocks if buffer is empty.          System.out.println(\""Value Taken: \"" + value);        }        catch (InterruptedException e)        {          e.printStackTrace();        }      }    }  }  public ProducerConsumerCommunication()  {    ExecutorService service = Executors.newCachedThreadPool();    service.execute(new ProducerTask());    service.execute(new ConsumerTask());    service.shutdown();  }  public static void main(String[] args)  {    new ProducerConsumerCommunication();  }}""]",Concurrency,"{""Basic threading"": 0.85, ""Cooperation between tasks"": 0.8}"
33194592,33195259,populate jList and text fields from a .txt file,"I am trying to populate a GUI (included pic below) from a text file. The text file has 12 lines of text and is written like this : Matthew Smith;Australia;60,62,58,62,63,70;50,52,56,57,60,56. The aim is to have the names populate the jlist so when you select the name, the country will appear as a jlabel next to 'country' and the textfields will populate with the scores. I've been trying a few things but all I get is the java.Lang etc every time in the jList.. Can someone please point me in the right direction? Thanks very much[pic of GUI](""http://i.stack.imgur.com/ceZmo.png"")--CODE--","[""private static Scanner inGui;public Stage3() {    initialize();}private void readFile() throws IOException {    BufferedReader reader = new BufferedReader(new FileReader(\""Stage3Scores.txt\""));    String line = \""\"";    int iScore = 0;    while((line = reader.readLine()) != null) {        String[] splitLine = line.split(\"";\"");        athletes[iScore] = splitLine[0];        countries[iScore] = splitLine[1];        scores[iScore] = splitLine[2];        iScore++;    }    reader.close();    lblDisplayCountry = new JLabel(\""l\"");    lblDisplayCountry.setBounds(101, 119, 186, 24);    frame.getContentPane().add(lblDisplayCountry);    listAthlete = new JList();    listAthlete.addListSelectionListener(new ListSelectionListener() {        public void valueChanged(ListSelectionEvent e) {            //listAthlete.setText(athletes[listAthlete.getSelectedIndex()]);            lblDisplayCountry.setText(athletes[listAthlete.getSelectedIndex()]);        }    });    listAthlete.setBounds(101, 187, 186, 205);    frame.getContentPane().add(listAthlete);    JButton btnLoadAthlete = new JButton(\""Load\"");    btnLoadAthlete.addActionListener(new ActionListener() {        public void actionPerformed(ActionEvent arg0) {            DefaultListModel DLM = new DefaultListModel();            DLM.addElement(\""\""+ athletes +\""\"");            DLM.addElement(\""\""+ countries +\""\"");            DLM.addElement(\""\"" + scores + \""\"");            listAthlete.setModel (DLM);        }    });    btnLoadAthlete.setBounds(142, 422, 89, 23);    frame.getContentPane().add(btnLoadAthlete);    }    }""]",<java><swing><user-interface><jtextfield><jlist>,33195259,The DefaultListModel is: public class DefaultListModel extends AbstractListModel so what you can do is either create a class like POJO and override toString method to show the Athlete Name and add the object to DefaultListModel otherwise only create the DLM as follows:--CODE--Then on selection of the athlete name you can get the details from appropriate array with the index no of the list item selected.,"[""DefaultListModel<String> DLM = new DefaultListModel<String>();for(int i = 0; i < athletes.length; i++)  DLM.addElement(athletes[i]);listAthlete.setModel (DLM);""]",Graphical User Interfaces,"{""A selection of Swing components"": 0.9, ""Text areas"": 0.85}"
10251401,10251763,HTML code search using regular expression android,"I've been trying to make an app for a website for a while. I used webview at first, but now I'm creating my own app look with buttons, textview etc.... And whenever there is a query into the website database, I post into the site and get the contents(loaded html code into textview and webview) as seen in demo app pic below.I used HttpPost and HttpResponse and everything works. Now, the remaining part is that I want to search through the string with the html code and get only the part that looks like the middle part in the webview in image below, which is the table in the middle with the main content.The site is written completely using tables. and the part I want has this structure.--CODE--I know I can use JSON and php scripts to post and get results, but the thing is I don't have access to the webpage or the server. What is the regular expression to use in this case because I can't get it working. I only have basic knowledge in regular expression searching. Thank you.[app demo image](""http://i.stack.imgur.com/zalZj.jpg"")","[""<td id=\""main_content\"" class=\""text\"">     <table>        <tr>            <td></td>            <td></td>            <td></td>            <td></td>            <td></td>        </tr>        <tr>            <td></td>            <td></td>            <td></td>            <td></td>            <td></td>        </tr>            .            .            .            depending on results    </table> </td>""]",<java><android><html><regex><search>,10251763,"Consider using JSoup instead: Android JSoup Example. As another commenter noted, RegEx isn't really an appropriate tool for parsing HTML generally.",[],Strings,"{""Regular expressions"": 1.0}"
8775948,8775968,How to put the type cursor automatically in a JEditorPane?,After a card panel switch I would like to automatically put the type cursor in a JEditorPane located in my new displayed card. How can I do that?,[],<java><swing><focus><cursor><jpanel>,8775968,--CODE--,"[""editorPane.requestFocusInWindow();""]",Graphical User Interfaces,"{""A selection of Swing components"": 0.75}"
21641800,21641815,Recursive method print each letter in a string 3 times backwards,"I'm working on a recursive method that will return and print in my main method, each letter of a string three backwards. The string being (args[1]). So for instance, if the string is ""stack"". It should output to:  kkkcccaaatttsssSo far I managed to print the string backwards. How should I go about printing each string three times?My code so far:--CODE--","[""public static void main(String[] args){    int number = Integer.parseInt(args[0]);    String word = new String(\""\"");    word = args[1];    String methodddd = recursive1.method4(word, number);    System.out.println(methodddd);}public static String method4(String word){    int length = word.length();    if (length == length*3){     return \""\"";    }    return word.substring(length-1, length) +  method4(word.substring(0, length-1));}""]",<java><string><recursion><methods><command-line>,21641815,"You are very close: modify the return line to pre-pend substring three times, instead of pre-pending it once:--CODE--Note the ending condition: length == length*3 is true if (and only if) length is zero.[Demo.](""http://ideone.com/35Rr8q"")","[""public static String method4(String word){    int length = word.length();    if (length == 0){         return \""\"";    }    String last = word.substring(length-1, length);    return  last + last + last +  method4(word.substring(0, length-1));}""]",Strings,"{""Formatting output"": 0.5}"
19688978,19689372,Java jScrollPane not displaying scollbars,"I'm trying to get scrollbars working on my scroll pane. Originally my pane had been just a editor pane that loaded a webpage. However, I did research and found out you can't add scrollbars natively to that kind of jSwing element. So, I made a jScrollPane and added a jEditorPane to it. Everything works great except I can't figure out why there are no scroll bars appearing and the pane is completely unscrollable. Any help is greatly appreciated, thank you.--CODE--","[""public Main() {    initComponents();    scrollWeb.add(editorWeb);    editorWeb.setEditable(false);    editorWeb.setSize(scrollWeb.getWidth(), scrollWeb.getHeight());    try {        editorWeb.setPage(\""http://www.futureretrogaming.tk/news.html\"");    } catch (IOException ex) {        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);    }}""]",<java><swing><jscrollpane><jeditorpane>,19689372,"  scrollWeb.add(editorWeb);Don't add components to the scrollpane. Intead you add components to the viewport of the scrollpane:--CODE--Or, when you create the scrollpane you can use:--CODE--","[""scrollWed.setViewportView( editorWeb );"", ""scrollWeb = new JScrollPane( editorWed );""]",Graphical User Interfaces,"{""A selection of Swing components"": 0.75}"
13739199,13739842,"Java regex to replace special character, one or more spaces and period with special character and period","I have the following string:--CODE--I would like it to be --CODE--Which is:every special character followed by zero or more spaces and one or more periods, will be replaced with the special character and a space. In case of a number and 2 periods, it will be replace with spaces onlyHow can I do it?","[""See it now! .5..%..off your purchase!.Only today."", ""See it now! 5% off your purchase! Only today.""]",<java><regex>,13739842,\Try this--CODE--This matches one or more spaces or periods which are preceded by a non-word boundary. These are then replaced by a single space.EditBased on the amended question:--CODE--Also matches a digit followed by one or more periods. The periods are replaced by a single space.,"[""String resultString = subjectString.replaceAll(\""\\\\B[ .]+\"", \"" \"");"", ""String resultString = subjectString.replaceAll(\""\\\\B[ .]+|(\\\\d)\\\\.+\"", \""$1 \"");""]",Strings,"{""Regular expressions"": 1.0}"
53332509,,why space is not counted in String.length in java code?,"Im quite confused with a simple problem. when i use space in my String, the String.length method just calculate the string length before the space, why?? for example it returns length of ""ab cdef"", 2, while it seems to be 7! I want to know the string length with the space,here is my simple code:--CODE--Also, if i want to remove space in string,--CODE--does not work!Can anyone help me please?","[""public static void main(String[] args){    Scanner scanner = new Scanner(System.in);    System.out.println(\""Please Enter Operation: \"");    String value = scanner.next();    System.out.println(valuee.length());}// psv main"", ""String valuee = value.replaceAll(\""\\\\s\"",\""\"");""]",<java><string><replaceall>,53332644,"A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace. You can change the delimiter using the useDelimiter method--CODE--You could even use nextLine() which has a new line as delimiter by default","[""    Scanner scanner = new Scanner(System.in);    scanner.useDelimiter(\""\\n\""); // use new line as delimiter instead of white space    System.out.println(\""Please Enter Operation: \"");    String value = scanner.next();    System.out.println(value.length());""]",IO,"{""Standard IO"": 0.85}"
382,384,What is the meaning of the type safety warning in certain Java generics casts?,"What is the meaning of the Java warning?  Type safety: The cast from Object to List is actually checking against the erased type ListI get this warning when I try to cast an Object to a type with generic information, such as in the following code:--CODE--","[""Object object = getMyList();List<Integer> list = (List<Integer>) object;""]",<java><generics><warnings><casting><type-safety>,384,"This warning is there because Java is not actually storing type information at run-time in an object that uses generics.  Thus, if object is actually a List, there will be no ClassCastException at run-time except until an item is accessed from the list that doesn't match the generic type defined in the variable.  This can cause further complications if items are added to the list, with this incorrect generic type information.  Any code still holding a reference to the list but with the correct generic type information will now have an inconsistent list.  To remove the warning, try:--CODE--However, note that you will not be able to use certain methods such as add because the compiler doesn't know if you are trying to add an object of incorrect type.  The above will work in a lot of situations, but if you have to use add, or some similarly restricted method, you will just have to suffer the yellow underline in Eclipse (or a SuppressWarning annotation).","[""List<?> list = (List<?>) object;""]",Generics,"{""Issues"": 2.0999999999999996, ""The mystery of erasure"": 0.6}"
2158,2245,Creating a custom JButton in Java,"Is there a way to create a JButton with your own button graphic and not just with an image inside the button? If not, is there another way to create a custom JButton in java?",[],<java><swing><jbutton>,2245,"When I was first learning Java we had to make Yahtzee and I thought it would be cool to create custom Swing components and containers instead of just drawing everything on one JPanel.  The benefit of extending Swing components, of course, is to have the ability to add support for keyboard shortcuts and other accessibility features that you can't do just by having a paint() method print a pretty picture.  It may not be done the best way however, but it may be a good starting point for you.Edit 8/6 - If it wasn't apparent from the images, each Die is a button you can click. This will move it to the DiceContainer below.  Looking at the source code you can see that each Die button is drawn dynamically, based on its value.Here are the basic steps:Create a class that extends JComponentCall parent constructor super() in your constructorsMake sure you class implements MouseListenerPut this in the constructor:--CODE--Override these methods:--CODE--Override this method:--CODE--The amount of space you have to work with when drawing your button is defined by getPreferredSize(), assuming getMinimumSize() and getMaximumSize() return the same value.  I haven't experimented too much with this but, depending on the layout you use for your GUI your button could look completely different.And finally, the [source code](""https://github.com/kdeloach/labs/blob/master/java/yahtzee/src/Dice.java"").  In case I missed anything.  ","[""enableInputMethods(true);   addMouseListener(this);"", ""public Dimension getPreferredSize()  public Dimension getMinimumSize()  public Dimension getMaximumSize()"", ""public void paintComponent(Graphics g)""]",Graphical User Interfaces,"{""Making a button"": 1.0, ""A selection of Swing components"": 1.9500000000000002}"
2968,2985,What are the different methods to parse strings in Java?,"For parsing player commands, I've most often used the [split](""http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29"") method to split a string by delimiters and then to then just figure out the rest by a series of ifs or switches. What are some different ways of parsing strings in Java?",[],<java><string><parsing>,2985,"I assume you're trying to make the command interface as forgiving as possible. If this is the case, I suggest you use an algorithm similar to this:Read in the stringSplit the string into tokensUse a dictionary to convert synonyms to a common form For example, convert ""hit"", ""punch"", ""strike"", and ""kick"" all to ""hit""Perform actions on an unordered, inclusive baseUnordered - ""punch the monkey in the face"" is the same thing as ""the face in the monkey punch""Inclusive - If the command is supposed to be ""punch the monkey in the face"" and they supply ""punch monkey"", you should check how many commands this matches. If only one command, do this action. It might even be a good idea to have command priorities, and even if there were even matches, it would perform the top action.",[],Strings,"{""Operations on Strings"": 0.8, ""StringTokenizer"": 0.65, ""Regular expressions"": 1.2, ""Scanning input"": 0.65}"
7269,46902,How can I identify in which Java Applet context running without passing an ID?,"I'm part of a team that develops a pretty big Swing Java Applet. Most of our code are legacy and there are tons of singleton references. We've bunched all of them to a single ""Application Context"" singleton. What we now need is to create some way to separate the shared context (shared across all applets currently showing) and non-shared context (specific to each applet currently showing). However, we don't have an ID at each of the locations that call to the singleton, nor do we want to propagate the ID to all locations. What's the easiest way to identify in which applet context we're running? (I've tried messing with classloaders, thread groups, thread ids... so far I could find nothing that will enable me to ID the origin of the call).",[],<java><swing><applet>,46902,"Singletons are evil, what do you expect? ;)Perhaps the most comprehensive approach would be to load the bulk of the applet in a different class loader (use java.net.URLClassLoader.newInstance). Then use a WeakHashMap to associate class loader with an applet. If you could split most of the code into a common class loader (as a parent of each per-applet class loader) and into the normal applet codebase, that would be faster but more work.Other hacks:If you have access to any component, you can use Component.getParent repeatedly or SwingUtilities.getRoot.If you are in a per-applet instance thread, then you can set up a ThreadLocal.From the EDT, you can read the current event from the queue (java.awt.EventQueue.getCurrentEvent()), and possibly find a component from that. Alternatively push an EventQueue with a overridden dispatchEvent method.",[],Graphical User Interfaces,"{""Applets"": 1.6, ""Swing basics"": 2.15, ""Capturing an event"": 1.25}"
7681,7688,Test serialization encoding,"What is the best way to verify/test that a text string is serialized to a byte array with a certain encoding?In my case, I want to verify that an XML structure is serialized to a byte array with the UTF-8 encoding which is of variable character length. As an example, my current ugly procedure is to inject a character known to require two bytes into the structure before serializing, then replacing the two-byte character with an ASCII character and comparing the serialized array lengths. This should yield two serialized arrays where the array containing the two-byte characters should have length +1.Plus if the solution is elegant for Java. I can't think of any elegant way to seek for a byte sequence in a byte array. (Could be used to seek for a known byte sequence representing the desired character representation in UTF-8.)",[],<java><xml><string><serialization><encoding>,7688,"Perhaps you could deserialise the byte array using a known encoding and ensure that (a) it doesn't throw any exceptions, and (b) deserialises to the original string. It seems that from your description of the scenario, you may not have the original string readily available. Might there be a way to create it?",[],Strings,"{""Operations on Strings"": 1.9}"
18524,18529,Converting List<Integer> to List<String>,"I have a list of integers, List and I'd like to convert all the integer objects into Strings, thus finishing up with a new List.Naturally, I could create a new List and loop through the list calling String.valueOf() for each integer, but I was wondering if there was a better (read: more automatic) way of doing it?",[],<java><string><collections><integer>,18529,"As far as I know, iterate and instantiate is the only way to do this.  Something like (for others potential help, since I'm sure you know how to do this):--CODE--","[""List<Integer> oldList = .../* Specify the size of the list up front to prevent resizing. */List<String> newList = new ArrayList<String>(oldList.size()) for (Integer myInt : oldList) {   newList.add(String.valueOf(myInt)); }""]",Holding Your Objects,"{""List"": 1.6}"
19893,19904,How do you embed binary data in XML?,"I have two applications written in Java that communicate with each other using XML messages over the network.  I'm using a SAX parser at the receiving end to get the data back out of the messages.  One of the requirements is to embed binary data in an XML message, but SAX doesn't like this.  Does anyone know how to do this?UPDATE:  I got this working with the [Base64](""http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Base64.html"") class from the [apache commons codec library](""http://commons.apache.org/codec/""), in case anyone else is trying something similar.",[],<java><xml><binary><binary-data>,19904,"You could encode the binary data using base64 and put it into a Base64 element; the below article is a pretty good one on the subject.[Handling Binary Data in XML Documents](""http://www.xml.com/pub/a/98/07/binary/binary.html"")",[],IO,"{""XML"": 1.7, ""File reading & writing utilities"": 1.0}"
20880,20901,Java JPanel redraw issues,"I have a Java swing application with a panel that contains three JComboBoxes that do not draw properly.The combox boxes just show up as the down arrow on the right side, but without the label of the currently selected value.The boxes will redraw correctly if the window is resized either bigger or smaller by even one pixel.All of my googling has pointed to calling revalidate() on the JPanel to fix this, but that hasn't worked for me.Calling updateUI() on the JPanel has changed it from always displaying incorrectly to displaying incorrectly half of the time.  Has anyone else seen this and found a different way to force a redraw of the combo boxes?",[],<java><swing><jpanel>,20901,"Can you give us some more information on how you add the combo boxes to the JPanel?  This is a pretty common thing to do in Swing so I doubt that it's a JVM issue but I guess anything is possible.Specifically, I would double check to make sure you're not accessing the GUI from any background threads.  In this case, maybe you're reading the choices from a DB or something and updating the JComboBox from a background thread, which is a big no-no in Swing.  See SwingUtils.invokeLater().",[],Graphical User Interfaces,"{""A selection of Swing components"": 1.5, ""The Swing event model"": 0.3, ""Controlling layout"": 0.2, ""Concurrency & Swing"": 1.0}"
22115,22133,Using Regex to generate Strings rather than match them,I am writing a Java utility which helps me to generate loads of data for performance testing.  It would be really cool to be able to specify a regex for Strings so that my generator spits out things which match this.  Is there something out there already baked which I can use to do this?  Or is there a library which gets me most of the way there?Thanks,[],<java><regex>,22133,"Edit: As mentioned in the comments, there is a library available at Google Code to acheive this:[http://code.google.com/p/xeger](""http://code.google.com/p/xeger"")See also [https://github.com/mifmif/Generex](""https://github.com/mifmif/Generex"") as suggested by MifmifOriginal message:Firstly, with a complex enough regexp, i believe this can be impossible. But you should be able to put something together for simple regexps.If you take a look at the source code of the class java.util.regex.Pattern, you'll see that it uses an internal representation of Node instances. Each of the different pattern components have their own implementation of a Node subclass. These Nodes are organised into a tree.By producing a visitor that traverses this tree, you should be able to call an overloaded generator method or some kind of Builder that cobbles something together.",[],Strings,"{""Regular expressions"": 2.8}"
24866,24902,Is it essential that I use libraries to manipulate XML?,I am using Java back end for creating an XML string which is passed to the browser. Currently I am using simple string manipulation to produce this XML. Is it essential that I use some XML library in Java to produce the XML string?I find the libraries very difficult to use compared to what I need.,[],<java><xml>,24902,"It's not essential, but advisable. However, if string manipulation works for you, then go for it! There are plenty of cases where small or simple XML text can be safely built by hand.Just be aware that creating XML text is harder than it looks. Here's some criteria I would consider:First: how much control do you have on the information that goes into the xml?The less control you have on the source data, the more likely you will have trouble, and the more advantageous the library becomes. For example: (a) Can you guarantee that the element names will never have a character that is illegal in a name? (b) How about quotes in an attribute's content? Can they happen, and are you handling them? (c) Does the data ever contain anything that might need to be encoded as an [entity](""http://en.wikipedia.org/wiki/XML_entity"") (like the less-than which often needs to be output as &amp;lt;); are you doing it correctly?Second, maintainability: is the code that builds the XML easy to understand by someone else?You probably don't want to be stuck with the code for life. I've worked with second-hand C++ code that hand-builds XML and it can be surprisingly obscure. Of course, if this is a personal project of yours, then you don't need to worry about ""others"": substitute ""in a year"" for ""others"" above.I wouldn't worry about performance. If your XML is simple enough that you can hand-write it, any overhead from the library is probably meaningless. Of course, your case might be different, but you should measure to prove it first.Finally, Yes; you can hand build XML text by hand if it's simple enough; but not knowing the libraries available is probably not the right reason.A modern XML library is a quite powerful tool, but it can also be daunting. However, learning the essentials of your XML library is not that hard, and it can be quite handy; among other things, it's almost a requisite in today's job marketplace. Just don't get bogged down by namespaces, schemas and other fancier features until you get the essentials.Good luck.",[],IO,"{""XML"": 1.7}"
2158,2245,Creating a custom JButton in Java,"Is there a way to create a JButton with your own button graphic and not just with an image inside the button? If not, is there another way to create a custom JButton in java?",[],<java><swing><jbutton>,2245,"When I was first learning Java we had to make Yahtzee and I thought it would be cool to create custom Swing components and containers instead of just drawing everything on one JPanel.  The benefit of extending Swing components, of course, is to have the ability to add support for keyboard shortcuts and other accessibility features that you can't do just by having a paint() method print a pretty picture.  It may not be done the best way however, but it may be a good starting point for you.Edit 8/6 - If it wasn't apparent from the images, each Die is a button you can click. This will move it to the DiceContainer below.  Looking at the source code you can see that each Die button is drawn dynamically, based on its value.Here are the basic steps:Create a class that extends JComponentCall parent constructor super() in your constructorsMake sure you class implements MouseListenerPut this in the constructor:--CODE--Override these methods:--CODE--Override this method:--CODE--The amount of space you have to work with when drawing your button is defined by getPreferredSize(), assuming getMinimumSize() and getMaximumSize() return the same value.  I haven't experimented too much with this but, depending on the layout you use for your GUI your button could look completely different.And finally, the [source code](""https://github.com/kdeloach/labs/blob/master/java/yahtzee/src/Dice.java"").  In case I missed anything.  ","[""enableInputMethods(true);   addMouseListener(this);"", ""public Dimension getPreferredSize()  public Dimension getMinimumSize()  public Dimension getMaximumSize()"", ""public void paintComponent(Graphics g)""]",Graphical User Interfaces,"{""Making a button"": 0.8999999999999999, ""A selection of Swing components"": 1.9}"
32519,32707,List in JScrollPane painting outside the viewport,"I have a list, each item of which has several things in it, including a JProgressBar which can be updated a lot. Each time one of the items updates its JProgressBar, the ListDataListener on the list tries to scroll it to the visible range using--CODE--Note that I'm trying to make sure the scrolling is done in the dispatch thread, since I thought maybe the problem was it being scrolled while it was repainting.  And yet, I still have a problem where if things are really active, some of the list items paint outside of the viewport, overwriting what's outside the JScrollPane.  Forcing an exposure event will repaint those things, but it's annoying.Is there anything else I need to look out for to stop these things painting outside of their clipping area?","[""/* * This makes the updating content item automatically scroll * into view if it is off the viewport. */public void contentsChanged(final ListDataEvent evt) {    if (!EventQueue.isDispatchThread()) {        /**          * Make sure the scrolling happens in the graphics \""dispatch\"" thread.          */        EventQueue.invokeLater(new Runnable() {            public void run()  {               contentsChanged(evt);            }        });    }    if (playbackInProgress) {        int index = evt.getIndex0();        currentContentList.ensureIndexIsVisible(index);    }}""]",<java><swing><jscrollpane>,32707,"Have you tried explicitly enabling double-buffering on the JList and/or the components that it is drawing over? (with:[setDoubleBuffered(boolean aFlag)](""http://java.sun.com/javase/6/docs/api/javax/swing/JComponent.html#setDoubleBuffered(boolean)""))Another thought is that you might need to exit the function immediately after delegating to the EDT.  The way your code is written, it looks like the update will happen in both threads if ContentChanged is invoked from a non-EDT thread.  Logging in the first if (or set a breakpoint in the if -- but not in the runnable -- should help determine if that is your problem.eg:--CODE--","[""public void contentsChanged(final ListDataEvent evt){    if (!EventQueue.isDispatchThread())    {        log.debug(\""Delegating contentsChanged(...) to EDT\"");        EventQueue.invokeLater(new Runnable()         {            public void run()             {                contentsChanged(evt);            }        });        // don't run ensureIndexIsVisible twice:        return;     }     if (playbackInProgress)     {         int index = evt.getIndex0();         currentContentList.ensureIndexIsVisible(index);     }}""]",Graphical User Interfaces,"{""A selection of Swing components"": 1.2999999999999998, ""The Swing event model"": 1.5}"
37026,37046,Java: notify() vs. notifyAll() all over again,"If one Googles for ""difference between notify() and notifyAll()"" then a lot of explanations will pop up (leaving apart the javadoc paragraphs). It all boils down to the number of waiting threads being waken up: one in notify() and all in notifyAll().However (if I do understand the difference between these methods right), only one thread is always selected for further monitor acquisition; in the first case the one selected by the VM, in the second case the one selected by the system thread scheduler. The exact selection procedures for both of them (in the general case) are not known to the programmer.What's the useful difference between [notify()](""http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#notify%28%29"") and [notifyAll()](""http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#notifyAll%28%29"") then? Am I missing something?",[],<java><multithreading>,37046,"  However (if I do understand the difference between these methods right), only one thread is always selected for further monitor acquisition.That is not correct.  o.notifyAll() wakes all of the threads that are blocked in o.wait() calls.  The threads are only allowed to return from o.wait() one-by-one, but they each will get their turn.Simply put, it depends on why your threads are waiting to be notified. Do you want to tell one of the waiting threads that something happened, or do you want to tell all of them at the same time?In some cases, all waiting threads can take useful action once the wait finishes. An example would be a set of threads waiting for a certain task to finish; once the task has finished, all waiting threads can continue with their business. In such a case you would use notifyAll() to wake up all waiting threads at the same time.Another case, for example mutually exclusive locking, only one of the waiting threads can do something useful after being notified (in this case acquire the lock). In such a case, you would rather use notify(). Properly implemented, you could use notifyAll() in this situation as well, but you would unnecessarily wake threads that can't do anything anyway.In many cases, the code to await a condition will be written as a loop:--CODE--That way, if an o.notifyAll() call wakes more than one waiting thread, and the first one to return from the o.wait() makes leaves the condition in the false state, then the other threads that were awakened will go back to waiting.","[""synchronized(o) {    while (! IsConditionTrue()) {        o.wait();    }    DoSomethingThatOnlyMakesSenseWhenConditionIsTrue_and_MaybeMakeConditionFalseAgain();}""]",Concurrency,"{""Basic threading"": 0.5, ""Cooperation between tasks"": 2.8499999999999996}"
37089,37090,How can an application use multiple cores or CPUs in .NET or Java?,"When launching a thread or a process in .NET or Java, is there a way to choose which processor or core it is launched on? How does the shared memory model work in such cases?",[],<c#><java><multithreading>,37090,"If you're using multiple threads, the operating system will automatically take care of using multiple cores.",[],Concurrency,"{""Basic threading"": 1.6, ""Sharing resources"": 2.0999999999999996}"
39108,,Drawing animations at the show of a JDialog,"What would be the best way to draw a simple animation just before showing a modal [JDialog](""https://docs.oracle.com/javase/9/docs/api/javax/swing/JDialog.html"")? (i.e. expanding borders from the mouse click point to the dialog location). I thought it would be possible to draw on the glasspane of the parent frame on the setVisible method of the dialog.However, since the JDialog is modal to the parent, I couldn't find a way to pump drawing events into [EDT](""https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html"") before the JDialog becomes visible, since the current event on the EDT has not been completed yet.",[],<java><user-interface><swing><animation>,39868,"Are you trying to show the JDialog indepentently of the annimation? In order to get the order set properly, you may need to bundle those actions in a runnable that is passed to the EDT at once.eg:--CODE--It may be best to subclass JDialog so that you can just add the doAnnimation() logic to the setVisible(..) or show() method before calling the superclass implementation.  Finally, I imagine you'll need to set the dimensions of the dalog manually --  I don't remember if Java will know the actual size of the dialog before it is shown, so you may get some useless information for your annimation if you query the size before showing it.","[""SwingUtilities.invokeLater(new Runnable(){   public void run(){      doAnnimation();      showDialog();   }}""]",Graphical User Interfaces,"{""A selection of Swing components"": 2.2}"
41107,41156,How to generate a random alpha-numeric string?,"I've been looking for a simple Java algorithm to generate a pseudo-random alpha-numeric string.  In my situation it would be used as a unique session/key identifier that would ""likely"" be unique over 500K+ generation (my needs don't really require anything much more sophisticated).  Ideally, I would be able to specify a length depending on my uniqueness needs. For example, a generated string of length 12 might look something like ""AEYGF7K0DM1X"".  ",[],<java><string><random><alphanumeric>,41156,"AlgorithmTo generate a random string, concatenate characters drawn randomly from the set of acceptable symbols until the string reaches the desired length.ImplementationHere's some fairly simple and very flexible code for generating random identifiers. Read the information that follows for important application notes.--CODE--Usage examplesCreate an insecure generator for 8-character identifiers:--CODE--Create a secure generator for session identifiers:--CODE--Create a generator with easy-to-read codes for printing. The strings are longer than full alphanumeric strings to compensate for using fewer symbols:--CODE--Use as session identifiersGenerating session identifiers that are likely to be unique is not good enough, or you could just use a simple counter. Attackers hijack sessions when predictable identifiers are used.There is tension between length and security. Shorter identifiers are easier to guess, because there are fewer possibilities. But longer identifiers consume more storage and bandwidth. A larger set of symbols helps, but might cause encoding problems if identifiers are included in URLs or re-entered by hand.The underlying source of randomness, or entropy, for session identifiers should come from a random number generator designed for cryptography. However, initializing these generators can sometimes be computationally expensive or slow, so effort should be made to re-use them when possible.Use as object identifiersNot every application requires security. Random assignment can be an efficient way for multiple entities to generate identifiers in a shared space without any coordination or partitioning. Coordination can be slow, especially in a clustered or distributed environment, and splitting up a space causes problems when entities end up with shares that are too small or too big.Identifiers generated without taking measures to make them unpredictable should be protected by other means if an attacker might be able to view and manipulate them, as happens in most web applications. There should be a separate authorization system that protects objects whose identifier can be guessed by an attacker without access permission.Care must be also be taken to use identifiers that are long enough to make collisions unlikely given the anticipated total number of identifiers. This is referred to as ""the birthday paradox."" [The probability of a collision,](""https://en.wikipedia.org/wiki/Birthday_problem#Square_approximation"") p, is approximately n2/(2qx), where n is the number of identifiers actually generated, q is the number of distinct symbols in the alphabet, and x is the length of the identifiers. This should be a very small number, like 2&#8209;50 or less.Working this out shows that the chance of collision among 500k 15-character identifiers is about 2&#8209;52, which is probably less likely than undetected errors from cosmic rays, etc.Comparison with UUIDsAccording to their specification, [UUIDs](""https://tools.ietf.org/html/rfc4122#section-6"") are not designed to be unpredictable, and should not be used as session identifiers.UUIDs in their standard format take a lot of space: 36 characters for only 122 bits of entropy. (Not all bits of a ""random"" UUID are selected randomly.) A randomly chosen alphanumeric string packs more entropy in just 21 characters.UUIDs are not flexible; they have a standardized structure and layout. This is their chief virtue as well as their main weakness. When collaborating with an outside party, the standardization offered by UUIDs may be helpful. For purely internal use, they can be inefficient.","[""public class RandomString {    /**     * Generate a random string.     */    public String nextString() {        for (int idx = 0; idx < buf.length; ++idx)            buf[idx] = symbols[random.nextInt(symbols.length)];        return new String(buf);    }    public static final String upper = \""ABCDEFGHIJKLMNOPQRSTUVWXYZ\"";    public static final String lower = upper.toLowerCase(Locale.ROOT);    public static final String digits = \""0123456789\"";    public static final String alphanum = upper + lower + digits;    private final Random random;    private final char[] symbols;    private final char[] buf;    public RandomString(int length, Random random, String symbols) {        if (length < 1) throw new IllegalArgumentException();        if (symbols.length() < 2) throw new IllegalArgumentException();        this.random = Objects.requireNonNull(random);        this.symbols = symbols.toCharArray();        this.buf = new char[length];    }    /**     * Create an alphanumeric string generator.     */    public RandomString(int length, Random random) {        this(length, random, alphanum);    }    /**     * Create an alphanumeric strings from a secure generator.     */    public RandomString(int length) {        this(length, new SecureRandom());    }    /**     * Create session identifiers.     */    public RandomString() {        this(21);    }}"", ""RandomString gen = new RandomString(8, ThreadLocalRandom.current());"", ""RandomString session = new RandomString();"", ""String easy = RandomString.digits + \""ACEFGHJKLMNPQRUVWXYabcdefhijkprstuvwx\"";RandomString tickets = new RandomString(23, new SecureRandom(), easy);""]",Strings,"{""Operations on Strings"": 1.8}"
42990,43017,Regex to match against something that is not a specific substring,"I am looking for a regex that will match a string that starts with one substring and does not end with a certain substring.Example:--CODE--Should match anything that starts with ""foo"" and doesn't end with ""bar"".  I know about the [^...] syntax, but I can't find anything that will do that for a string instead of single characters.  I am specifically trying to do this for Java's regex, but I've run into this before so answers for other regex engines would be great too.  Thanks to @Kibbee for verifying that this works in C# as well.  ","[""// Updated to be correct, thanks @Apocalisp^foo.*(?<!bar)$""]",<c#><java><regex><regex-negation>,43017,"I think in this case you want negative lookbehind, like so:--CODE--","[""foo.*(?<!bar)""]",Strings,"{""Regular expressions"": 3.0}"
45075,45248,Java: Flash a window to grab user's attention,Is there a better way to flash a window in Java than this:--CODE--I know that this code is scary...But it works alright. (I should implement a loop...),"[""public static void flashWindow(JFrame frame) throws InterruptedException {        int sleepTime = 50;        frame.setVisible(false);        Thread.sleep(sleepTime);        frame.setVisible(true);        Thread.sleep(sleepTime);        frame.setVisible(false);        Thread.sleep(sleepTime);        frame.setVisible(true);        Thread.sleep(sleepTime);        frame.setVisible(false);        Thread.sleep(sleepTime);        frame.setVisible(true);}""]",<java><user-interface>,45248,"There are two common ways to do this: use JNI to set urgency hints on the taskbar's window, and create a notification icon/message. I prefer the second way, since it's cross-platform and less annoying.See [documentation on the TrayIcon class](""http://java.sun.com/javase/6/docs/api/java/awt/TrayIcon.html""), particularly the [displayMessage()](""http://java.sun.com/javase/6/docs/api/java/awt/TrayIcon.html#displayMessage(java.lang.String,%20java.lang.String,%20java.awt.TrayIcon.MessageType)"") method.The following links may be of interest:[New System Tray Functionality in Java SE 6](""http://java.sun.com/developer/technicalArticles/J2SE/Desktop/javase6/systemtray/"")[Java Programming - Iconified window blinking](""http://forums.sun.com/thread.jspa?threadID=5130669&amp;messageID=9469354"")[TrayIcon for earlier versions of Java](""https://jdic.dev.java.net/documentation/incubator/tray/"")",[],Graphical User Interfaces,"{""A selection of Swing components"": 2.0500000000000003, ""The Swing event model"": 1.0}"
46146,,What are the Java regular expressions for matching IPv4 and IPv6 strings?,"Looking for a string to pass to String#matches(String) that will match IPv4, and another to match IPv6.",[],<java><regex>,46168,#NAME?,"[""public static final String IPV4_REGEX = \""\\\\A(25[0-5]|2[0-4]\\\\d|[0-1]?\\\\d?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|[0-1]?\\\\d?\\\\d)){3}\\\\z\"";public static final String IPV6_HEX4DECCOMPRESSED_REGEX = \""\\\\A((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?) ::((?:[0-9A-Fa-f]{1,4}:)*)(25[0-5]|2[0-4]\\\\d|[0-1]?\\\\d?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|[0-1]?\\\\d?\\\\d)){3}\\\\z\"";public static final String IPV6_6HEX4DEC_REGEX = \""\\\\A((?:[0-9A-Fa-f]{1,4}:){6,6})(25[0-5]|2[0-4]\\\\d|[0-1]?\\\\d?\\\\d)(\\\\.(25[0-5]|2[0-4]\\\\d|[0-1]?\\\\d?\\\\d)){3}\\\\z\"";public static final String IPV6_HEXCOMPRESSED_REGEX = \""\\\\A((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?)::((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?)\\\\z\"";public static final String IPV6_REGEX = \""\\\\A(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}\\\\z\"";""]",Strings,"{""Regular expressions"": 2.1}"
46160,,Getting an int representation of a String,"I am looking for a way to create an int\long representation of an arbitrary alpha-numeric String. Hash codes won't do it, because I can't afford hash collisions i.e. the representation must be unique and repeatable. The numeric representation will be used to perform efficient (hopefully) compares. The creation of the numeric key will take some time, but it only has to happen once, whereas I need to perform vast numbers of comparisons with it - which will hopefully be much faster than comparing the raw Strings.Any other idea's on faster String comparison will be most appreciated too...",[],<java><performance><string>,46216,"Unless your string is limited in length, you can't avoid collisions. There are 4294967296 possible values for an integer (2^32). If you have a string of more than 4 ASCII characters, or more than two unicode characters, then there are more possible string values than possible integer values. You can't have a unique integer value for every possible 5 character string. Long values have more possible values, but they would only provide a unique value for every possible string of 8 ASCII characters.Hash codes are useful as a two step process: first see if the hash code matches, then check the whole string. For most strings that don't match, you only need to do the first step, and it's really fast.",[],Strings,"{""Operations on Strings"": 1.6500000000000001}"
47605,47628,"String concatenation: concat() vs ""+"" operator","Assuming String a and b:--CODE--Under the hood, are they the same thing?Here is concat decompiled as reference. I'd like to be able to decompile the + operator as well to see what that does.--CODE--","[""a += ba = a.concat(b)"", ""public String concat(String s) {    int i = s.length();    if (i == 0) {        return this;    }    else {        char ac[] = new char[count + i];        getChars(0, count, ac, 0);        s.getChars(0, i, ac, count);        return new String(0, count + i, ac);    }}""]",<java><string><concatenation>,47628,"No, not quite.Firstly, there's a slight difference in semantics. If a is null, then a.concat(b) throws a NullPointerException but a+=b will treat the original value of a as if it were null. Furthermore, the concat() method only accepts String values while the + operator will silently convert the argument to a String (using the toString() method for objects). So the concat() method is more strict in what it accepts.To look under the hood, write a simple class with a += b;--CODE--Now disassemble with javap -c (included in the Sun JDK). You should see a listing including:--CODE--So, a += b is the equivalent of--CODE--The concat method should be faster. However, with more strings the StringBuilder method wins, at least in terms of performance.The source code of String and StringBuilder (and its package-private base class) is available in src.zip of the Sun JDK. You can see that you are building up a char array (resizing as necessary) and then throwing it away when you create the final String. In practice memory allocation is surprisingly fast.Update: As Pawel Adamski notes, performance has changed in more recent HotSpot. javac still produces exactly the same code, but the bytecode compiler cheats. Simple testing entirely fails because the entire body of code is thrown away. Summing System.identityHashCode (not String.hashCode) shows the StringBuffer code has a slight advantage. Subject to change when the next update is released, or if you use a different JVM. From [@lukaseder](""https://twitter.com/lukaseder""), [a list of HotSpot JVM intrinsics](""https://gist.github.com/apangin/7a9b7062a4bd0cd41fcc"").","[""public class Concat {    String cat(String a, String b) {        a += b;        return a;    }}"", ""java.lang.String cat(java.lang.String, java.lang.String);  Code:   0:   new     #2; //class java/lang/StringBuilder   3:   dup   4:   invokespecial   #3; //Method java/lang/StringBuilder.\""<init>\"":()V   7:   aload_1   8:   invokevirtual   #4; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;   11:  aload_2   12:  invokevirtual   #4; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;   15:  invokevirtual   #5; //Method java/lang/StringBuilder.toString:()Ljava/lang/    String;   18:  astore_1   19:  aload_1   20:  areturn"", ""a = new StringBuilder()    .append(a)    .append(b)    .toString();""]",Strings,"{""Operations on Strings"": 2.05}"
50524,50567,"What is a regex ""independent capturing group""?","From the Java 6 [Pattern](""http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html"") documentation:  Special constructs (non-capturing)    (?:X)&nbsp;&nbsp;&nbsp;X, as a non-capturing group    _    (?>X)&nbsp;&nbsp;&nbsp;X, as an independent, non-capturing groupBetween (?:X) and (?>X) what is the difference? What does the independent mean in this context?",[],<java><regex>,50567,"It means that the grouping is [atomic](""http://www.regular-expressions.info/atomic.html""), and it throws away backtracking information for a matched group. So, this expression is possessive; it won't back off even if doing so is the only way for the regex as a whole to succeed. It's ""independent"" in the sense that it doesn't cooperate, via backtracking, with other elements of the regex to ensure a match.",[],Strings,"{""Regular expressions"": 3.0}"
53820,53831,Why does windows XP minimize my swing full screen window on my second screen?,"In the application I'm developping (in Java/swing), I have to show a full screen window on the second screen of the user.I did this using a code similar to the one you'll find below...Be, as soon as I click in a window opened by windows explorer, or as soon as I open windows explorer (i'm using windows XP), the full screen window is minimized...Do you know any way or workaround to fix this problem, or is there something important I did not understand with full screen windows?Thanks for the help,--CODE--","[""import javax.swing.JFrame;import javax.swing.JPanel;import javax.swing.JWindow;import java.awt.BorderLayout;import java.awt.Dimension;import java.awt.GraphicsDevice;import java.awt.GraphicsEnvironment;import java.awt.Window;import javax.swing.JButton;import javax.swing.JToggleButton;import java.awt.Rectangle;import java.awt.GridBagLayout;import javax.swing.JLabel;public class FullScreenTest {    private JFrame jFrame = null;  //  @jve:decl-index=0:visual-constraint=\""94,35\""    private JPanel jContentPane = null;    private JToggleButton jToggleButton = null;    private JPanel jFSPanel = null;  //  @jve:decl-index=0:visual-constraint=\""392,37\""    private JLabel jLabel = null;    private Window window;    /**     * This method initializes jFrame        *       * @return javax.swing.JFrame        */    private JFrame getJFrame() {        if (jFrame == null) {            jFrame = new JFrame();            jFrame.setSize(new Dimension(474, 105));            jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);            jFrame.setContentPane(getJContentPane());        }        return jFrame;    }    /**     * This method initializes jContentPane      *       * @return javax.swing.JPanel        */    private JPanel getJContentPane() {        if (jContentPane == null) {            jContentPane = new JPanel();            jContentPane.setLayout(null);            jContentPane.add(getJToggleButton(), null);        }        return jContentPane;    }    /**     * This method initializes jToggleButton         *       * @return javax.swing.JToggleButton         */    private JToggleButton getJToggleButton() {        if (jToggleButton == null) {            jToggleButton = new JToggleButton();            jToggleButton.setBounds(new Rectangle(50, 23, 360, 28));            jToggleButton.setText(\""Show Full Screen Window on 2nd screen\"");            jToggleButton.addActionListener(new java.awt.event.ActionListener() {                public void actionPerformed(java.awt.event.ActionEvent e) {                    showFullScreenWindow(jToggleButton.isSelected());                }            });        }        return jToggleButton;    }    protected void showFullScreenWindow(boolean b) {        if(window==null){            window = initFullScreenWindow();        }        window.setVisible(b);    }    private Window initFullScreenWindow() {        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();        GraphicsDevice[] gds = ge.getScreenDevices();        GraphicsDevice gd = gds[1];        JWindow window = new JWindow(gd.getDefaultConfiguration());        window.setContentPane(getJFSPanel());        gd.setFullScreenWindow(window);        return window;    }    /**     * This method initializes jFSPanel      *       * @return javax.swing.JPanel        */    private JPanel getJFSPanel() {        if (jFSPanel == null) {            jLabel = new JLabel();            jLabel.setBounds(new Rectangle(18, 19, 500, 66));            jLabel.setText(\""Hello ! Now, juste open windows explorer and see what happens...\"");            jFSPanel = new JPanel();            jFSPanel.setLayout(null);            jFSPanel.setSize(new Dimension(500, 107));            jFSPanel.add(jLabel, null);        }        return jFSPanel;    }    /**     * @param args     */    public static void main(String[] args) {        FullScreenTest me = new FullScreenTest();        me.getJFrame().setVisible(true);    }}""]",<java><windows><swing>,53831,"Usually when an application is in ""full screen"" mode it will take over the entire desktop.  For a user to get to another window they would have to alt-tab to it.  At that point windows would minimize the full screen app so that the other application could come to the front. This sounds like it may be a bug (undocumented feature...) in windows.  It should probably not be doing this for a dual screen setup.  One option to fix this is rather than setting it to be ""full screen"" just make the window the same size as the screen with location (0,0).  You can get screen information from the [GraphicsConfigurations on the GraphicsDevice](""http://java.sun.com/j2se/1.4.2/docs/api/java/awt/GraphicsDevice.html#getConfigurations%28%29"").  ",[],Graphical User Interfaces,"{""A selection of Swing components"": 0.85, ""Controlling layout"": 2.3, ""The Swing event model"": 0.7, ""Swing basics"": 0.3}"
54567,54799,How do I get InputVerifier to work with an editable JComboBox,I've got an JComboBox with a custom inputVerifyer set to limit MaxLength when it's set to editable.The verify method never seems to get called.The same verifyer gets invoked on a JTextField fine.What might I be doing wrong?,[],<java><swing><jcombobox>,54799,"I found a workaround. I thought I'd let the next person with this problem know about. Basically. Instead of setting the inputVerifier on the ComboBox you set it to it's ""Editor Component"". --CODE--","[""JComboBox combo = new JComboBox();JTextField tf = (JTextField)(combo.getEditor().getEditorComponent());tf.setInputVerifier(verifyer);""]",Graphical User Interfaces,"{""A selection of Swing components"": 2.55, ""The Swing event model"": 0.7}"
54926,54927,Make a JPanel not draw its background (Transparent),"Is it possible, in Java, to make a JPanel skip drawing its background thus being transparent except for the components on it?",[],<java><user-interface>,54927,"setOpaque(false)It'll pass off painting the background to its parent, which may draw its own background.You can do a screen capture and then use that to paint the background of the panel.",[],Graphical User Interfaces,"{""A selection of Swing components"": 2.6}"
56707,58166,Java Right Click does not make a selection. What is the easiest way to solve this globally?,Is there a way to globally make right click also select the element that you right click on?  From what I understand this has been a bug in Swing for a long time likely to never be fixed because at this point applications depend on it.  Any advice on doing this on a global scale?  Perhaps on the L&amp;F?,[],<java><swing>,58166,"Using the [Glass Pane](""http://java.sun.com/docs/books/tutorial/uiswing/components/rootpane.html"") will do the trick.[Here's a tutorial](""http://weblogs.java.net/blog/joshy/archive/2003/10/swing_hack_4_th.html"") on how to use the glass pane to get the right click button and redispatch it to the right component.As the glass pane is not a solution in this case, I suggest you take a look at the [Toolkit](""http://java.sun.com/javase/6/docs/api/java/awt/Toolkit.html"") class. Specificaly the addAWTEventListener method. You can add a global event listener with it. To add a mouse event listener:--CODE--Cheers","[""Toolkit.getDefaultToolkit().        addAWTEventListener(listener, AWTEvent.MOUSE_EVENT_MASK);""]",Graphical User Interfaces,"{""The Swing event model"": 2.65}"
60160,60161,How to escape text for regular expression in Java,"Does Java have a built-in way to escape arbitrary text so that it can be included in a regular expression? For example, if my users enter ""$5"", I'd like to match that exactly rather than a ""5"" after the end of input.",[],<java><regex><escaping>,60161,"Since [Java 1.5, yes](""http://download.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#quote(java.lang.String)""):--CODE--","[""Pattern.quote(\""$5\"");""]",Strings,"{""Regular expressions"": 2.8}"
60269,61982,How to implement draggable tab using Java Swing?,"How do I implement a draggable tab using Java Swing? Instead of the static JTabbedPane I would like to drag-and-drop a tab to different position to rearrange the tabs.EDIT: [The Java Tutorials - Drag and Drop and Data Transfer](""http://java.sun.com/docs/books/tutorial/uiswing/dnd/index.html"").",[],<java><user-interface><swing><tabs>,61982,"I liked [Terai Atsuhiro san's DnDTabbedPane](""http://java-swing-tips.blogspot.com/2008/04/drag-and-drop-tabs-in-jtabbedpane.html""), but I wanted more from it. The original Terai implementation transfered tabs within the TabbedPane, but it would be nicer if I could drag from one TabbedPane to another.Inspired by @Tom's effort, I decided to modify the code myself.There are some details I added. For example, the ghost tab now slides along the tabbed pane instead of moving together with the mouse.setAcceptor(TabAcceptor a_acceptor) should let the consumer code decide whether to let one tab transfer from one tabbed pane to another. The default acceptor always returns true.--CODE--","[""/** Modified DnDTabbedPane.java * http://java-swing-tips.blogspot.com/2008/04/drag-and-drop-tabs-in-jtabbedpane.html * originally written by Terai Atsuhiro. * so that tabs can be transfered from one pane to another. * eed3si9n. */import java.awt.*;import java.awt.datatransfer.*;import java.awt.dnd.*;import java.awt.geom.*;import java.awt.image.*;import javax.swing.*;public class DnDTabbedPane extends JTabbedPane {    public static final long serialVersionUID = 1L;    private static final int LINEWIDTH = 3;    private static final String NAME = \""TabTransferData\"";    private final DataFlavor FLAVOR = new DataFlavor(            DataFlavor.javaJVMLocalObjectMimeType, NAME);    private static GhostGlassPane s_glassPane = new GhostGlassPane();    private boolean m_isDrawRect = false;    private final Rectangle2D m_lineRect = new Rectangle2D.Double();    private final Color m_lineColor = new Color(0, 100, 255);    private TabAcceptor m_acceptor = null;    public DnDTabbedPane() {        super();        final DragSourceListener dsl = new DragSourceListener() {            public void dragEnter(DragSourceDragEvent e) {                e.getDragSourceContext().setCursor(DragSource.DefaultMoveDrop);            }            public void dragExit(DragSourceEvent e) {                e.getDragSourceContext()                        .setCursor(DragSource.DefaultMoveNoDrop);                m_lineRect.setRect(0, 0, 0, 0);                m_isDrawRect = false;                s_glassPane.setPoint(new Point(-1000, -1000));                s_glassPane.repaint();            }            public void dragOver(DragSourceDragEvent e) {                //e.getLocation()                //This method returns a Point indicating the cursor location in screen coordinates at the moment                TabTransferData data = getTabTransferData(e);                if (data == null) {                    e.getDragSourceContext().setCursor(                            DragSource.DefaultMoveNoDrop);                    return;                } // if                /*                Point tabPt = e.getLocation();                SwingUtilities.convertPointFromScreen(tabPt, DnDTabbedPane.this);                if (DnDTabbedPane.this.contains(tabPt)) {                    int targetIdx = getTargetTabIndex(tabPt);                    int sourceIndex = data.getTabIndex();                    if (getTabAreaBound().contains(tabPt)                            &amp;&amp; (targetIdx >= 0)                            &amp;&amp; (targetIdx != sourceIndex)                            &amp;&amp; (targetIdx != sourceIndex + 1)) {                        e.getDragSourceContext().setCursor(                                DragSource.DefaultMoveDrop);                        return;                    } // if                    e.getDragSourceContext().setCursor(                            DragSource.DefaultMoveNoDrop);                    return;                } // if                */                e.getDragSourceContext().setCursor(                        DragSource.DefaultMoveDrop);            }            public void dragDropEnd(DragSourceDropEvent e) {                m_isDrawRect = false;                m_lineRect.setRect(0, 0, 0, 0);                // m_dragTabIndex = -1;                if (hasGhost()) {                    s_glassPane.setVisible(false);                    s_glassPane.setImage(null);                }            }            public void dropActionChanged(DragSourceDragEvent e) {            }        };        final DragGestureListener dgl = new DragGestureListener() {            public void dragGestureRecognized(DragGestureEvent e) {                // System.out.println(\""dragGestureRecognized\"");                Point tabPt = e.getDragOrigin();                int dragTabIndex = indexAtLocation(tabPt.x, tabPt.y);                if (dragTabIndex < 0) {                    return;                } // if                initGlassPane(e.getComponent(), e.getDragOrigin(), dragTabIndex);                try {                    e.startDrag(DragSource.DefaultMoveDrop,                             new TabTransferable(DnDTabbedPane.this, dragTabIndex), dsl);                } catch (InvalidDnDOperationException idoe) {                    idoe.printStackTrace();                }            }        };        //dropTarget =        new DropTarget(this, DnDConstants.ACTION_COPY_OR_MOVE,                new CDropTargetListener(), true);        new DragSource().createDefaultDragGestureRecognizer(this,                DnDConstants.ACTION_COPY_OR_MOVE, dgl);        m_acceptor = new TabAcceptor() {            public boolean isDropAcceptable(DnDTabbedPane a_component, int a_index) {                return true;            }        };    }    public TabAcceptor getAcceptor() {        return m_acceptor;    }    public void setAcceptor(TabAcceptor a_value) {        m_acceptor = a_value;    }    private TabTransferData getTabTransferData(DropTargetDropEvent a_event) {               try {            TabTransferData data = (TabTransferData) a_event.getTransferable().getTransferData(FLAVOR);                         return data;        } catch (Exception e) {            e.printStackTrace();        }        return null;    }    private TabTransferData getTabTransferData(DropTargetDragEvent a_event) {        try {            TabTransferData data = (TabTransferData) a_event.getTransferable().getTransferData(FLAVOR);                         return data;        } catch (Exception e) {            e.printStackTrace();        }        return null;    }    private TabTransferData getTabTransferData(DragSourceDragEvent a_event) {        try {            TabTransferData data = (TabTransferData) a_event.getDragSourceContext()                .getTransferable().getTransferData(FLAVOR);                         return data;        } catch (Exception e) {            e.printStackTrace();        }        return null;            }    class TabTransferable implements Transferable {        private TabTransferData m_data = null;        public TabTransferable(DnDTabbedPane a_tabbedPane, int a_tabIndex) {            m_data = new TabTransferData(DnDTabbedPane.this, a_tabIndex);        }        public Object getTransferData(DataFlavor flavor) {            return m_data;            // return DnDTabbedPane.this;        }        public DataFlavor[] getTransferDataFlavors() {            DataFlavor[] f = new DataFlavor[1];            f[0] = FLAVOR;            return f;        }        public boolean isDataFlavorSupported(DataFlavor flavor) {            return flavor.getHumanPresentableName().equals(NAME);        }           }    class TabTransferData {        private DnDTabbedPane m_tabbedPane = null;        private int m_tabIndex = -1;        public TabTransferData() {        }        public TabTransferData(DnDTabbedPane a_tabbedPane, int a_tabIndex) {            m_tabbedPane = a_tabbedPane;            m_tabIndex = a_tabIndex;        }        public DnDTabbedPane getTabbedPane() {            return m_tabbedPane;        }        public void setTabbedPane(DnDTabbedPane pane) {            m_tabbedPane = pane;        }        public int getTabIndex() {            return m_tabIndex;        }        public void setTabIndex(int index) {            m_tabIndex = index;        }    }    private Point buildGhostLocation(Point a_location) {        Point retval = new Point(a_location);        switch (getTabPlacement()) {            case JTabbedPane.TOP: {                retval.y = 1;                retval.x -= s_glassPane.getGhostWidth() / 2;            } break;            case JTabbedPane.BOTTOM: {                retval.y = getHeight() - 1 - s_glassPane.getGhostHeight();                retval.x -= s_glassPane.getGhostWidth() / 2;            } break;            case JTabbedPane.LEFT: {                retval.x = 1;                retval.y -= s_glassPane.getGhostHeight() / 2;            } break;            case JTabbedPane.RIGHT: {                retval.x = getWidth() - 1 - s_glassPane.getGhostWidth();                retval.y -= s_glassPane.getGhostHeight() / 2;            } break;        } // switch        retval = SwingUtilities.convertPoint(DnDTabbedPane.this,                retval, s_glassPane);        return retval;    }    class CDropTargetListener implements DropTargetListener {        public void dragEnter(DropTargetDragEvent e) {            // System.out.println(\""DropTarget.dragEnter: \"" + DnDTabbedPane.this);            if (isDragAcceptable(e)) {                e.acceptDrag(e.getDropAction());            } else {                e.rejectDrag();            } // if        }        public void dragExit(DropTargetEvent e) {            // System.out.println(\""DropTarget.dragExit: \"" + DnDTabbedPane.this);            m_isDrawRect = false;        }        public void dropActionChanged(DropTargetDragEvent e) {        }        public void dragOver(final DropTargetDragEvent e) {            TabTransferData data = getTabTransferData(e);            if (getTabPlacement() == JTabbedPane.TOP                    || getTabPlacement() == JTabbedPane.BOTTOM) {                initTargetLeftRightLine(getTargetTabIndex(e.getLocation()), data);            } else {                initTargetTopBottomLine(getTargetTabIndex(e.getLocation()), data);            } // if-else            repaint();            if (hasGhost()) {                s_glassPane.setPoint(buildGhostLocation(e.getLocation()));                s_glassPane.repaint();            }        }        public void drop(DropTargetDropEvent a_event) {            // System.out.println(\""DropTarget.drop: \"" + DnDTabbedPane.this);            if (isDropAcceptable(a_event)) {                convertTab(getTabTransferData(a_event),                    getTargetTabIndex(a_event.getLocation()));                a_event.dropComplete(true);            } else {                a_event.dropComplete(false);            } // if-else            m_isDrawRect = false;            repaint();        }        public boolean isDragAcceptable(DropTargetDragEvent e) {            Transferable t = e.getTransferable();            if (t == null) {                return false;            } // if            DataFlavor[] flavor = e.getCurrentDataFlavors();            if (!t.isDataFlavorSupported(flavor[0])) {                return false;            } // if            TabTransferData data = getTabTransferData(e);            if (DnDTabbedPane.this == data.getTabbedPane()                    &amp;&amp; data.getTabIndex() >= 0) {                return true;            } // if            if (DnDTabbedPane.this != data.getTabbedPane()) {                if (m_acceptor != null) {                    return m_acceptor.isDropAcceptable(data.getTabbedPane(), data.getTabIndex());                } // if            } // if            return false;        }        public boolean isDropAcceptable(DropTargetDropEvent e) {            Transferable t = e.getTransferable();            if (t == null) {                return false;            } // if            DataFlavor[] flavor = e.getCurrentDataFlavors();            if (!t.isDataFlavorSupported(flavor[0])) {                return false;            } // if            TabTransferData data = getTabTransferData(e);            if (DnDTabbedPane.this == data.getTabbedPane()                    &amp;&amp; data.getTabIndex() >= 0) {                return true;            } // if            if (DnDTabbedPane.this != data.getTabbedPane()) {                if (m_acceptor != null) {                    return m_acceptor.isDropAcceptable(data.getTabbedPane(), data.getTabIndex());                } // if            } // if            return false;        }    }    private boolean m_hasGhost = true;    public void setPaintGhost(boolean flag) {        m_hasGhost = flag;    }    public boolean hasGhost() {        return m_hasGhost;    }    /**     * returns potential index for drop.     * @param a_point point given in the drop site component's coordinate     * @return returns potential index for drop.     */    private int getTargetTabIndex(Point a_point) {        boolean isTopOrBottom = getTabPlacement() == JTabbedPane.TOP                || getTabPlacement() == JTabbedPane.BOTTOM;        // if the pane is empty, the target index is always zero.        if (getTabCount() == 0) {            return 0;        } // if        for (int i = 0; i < getTabCount(); i++) {            Rectangle r = getBoundsAt(i);            if (isTopOrBottom) {                r.setRect(r.x - r.width / 2, r.y, r.width, r.height);            } else {                r.setRect(r.x, r.y - r.height / 2, r.width, r.height);            } // if-else            if (r.contains(a_point)) {                return i;            } // if        } // for        Rectangle r = getBoundsAt(getTabCount() - 1);        if (isTopOrBottom) {            int x = r.x + r.width / 2;            r.setRect(x, r.y, getWidth() - x, r.height);        } else {            int y = r.y + r.height / 2;            r.setRect(r.x, y, r.width, getHeight() - y);        } // if-else        return r.contains(a_point) ? getTabCount() : -1;    }    private void convertTab(TabTransferData a_data, int a_targetIndex) {        DnDTabbedPane source = a_data.getTabbedPane();        int sourceIndex = a_data.getTabIndex();        if (sourceIndex < 0) {            return;        } // if        Component cmp = source.getComponentAt(sourceIndex);        String str = source.getTitleAt(sourceIndex);        if (this != source) {            source.remove(sourceIndex);            if (a_targetIndex == getTabCount()) {                addTab(str, cmp);            } else {                if (a_targetIndex < 0) {                    a_targetIndex = 0;                } // if                insertTab(str, null, cmp, null, a_targetIndex);            } // if            setSelectedComponent(cmp);            // System.out.println(\""press=\""+sourceIndex+\"" next=\""+a_targetIndex);            return;        } // if        if (a_targetIndex < 0 || sourceIndex == a_targetIndex) {            //System.out.println(\""press=\""+prev+\"" next=\""+next);            return;        } // if        if (a_targetIndex == getTabCount()) {            //System.out.println(\""last: press=\""+prev+\"" next=\""+next);            source.remove(sourceIndex);            addTab(str, cmp);            setSelectedIndex(getTabCount() - 1);        } else if (sourceIndex > a_targetIndex) {            //System.out.println(\""   >: press=\""+prev+\"" next=\""+next);            source.remove(sourceIndex);            insertTab(str, null, cmp, null, a_targetIndex);            setSelectedIndex(a_targetIndex);        } else {            //System.out.println(\""   <: press=\""+prev+\"" next=\""+next);            source.remove(sourceIndex);            insertTab(str, null, cmp, null, a_targetIndex - 1);            setSelectedIndex(a_targetIndex - 1);        }    }    private void initTargetLeftRightLine(int next, TabTransferData a_data) {                if (next < 0) {            m_lineRect.setRect(0, 0, 0, 0);            m_isDrawRect = false;            return;        } // if        if ((a_data.getTabbedPane() == this)                &amp;&amp; (a_data.getTabIndex() == next                || next - a_data.getTabIndex() == 1)) {            m_lineRect.setRect(0, 0, 0, 0);            m_isDrawRect = false;        } else if (getTabCount() == 0) {            m_lineRect.setRect(0, 0, 0, 0);            m_isDrawRect = false;            return;        } else if (next == 0) {            Rectangle rect = getBoundsAt(0);            m_lineRect.setRect(-LINEWIDTH / 2, rect.y, LINEWIDTH, rect.height);            m_isDrawRect = true;        } else if (next == getTabCount()) {            Rectangle rect = getBoundsAt(getTabCount() - 1);            m_lineRect.setRect(rect.x + rect.width - LINEWIDTH / 2, rect.y,                    LINEWIDTH, rect.height);            m_isDrawRect = true;        } else {            Rectangle rect = getBoundsAt(next - 1);            m_lineRect.setRect(rect.x + rect.width - LINEWIDTH / 2, rect.y,                    LINEWIDTH, rect.height);            m_isDrawRect = true;        }    }    private void initTargetTopBottomLine(int next, TabTransferData a_data) {        if (next < 0) {            m_lineRect.setRect(0, 0, 0, 0);            m_isDrawRect = false;            return;        } // if        if ((a_data.getTabbedPane() == this)                &amp;&amp; (a_data.getTabIndex() == next                || next - a_data.getTabIndex() == 1)) {            m_lineRect.setRect(0, 0, 0, 0);            m_isDrawRect = false;        } else if (getTabCount() == 0) {            m_lineRect.setRect(0, 0, 0, 0);            m_isDrawRect = false;            return;        } else if (next == getTabCount()) {            Rectangle rect = getBoundsAt(getTabCount() - 1);            m_lineRect.setRect(rect.x, rect.y + rect.height - LINEWIDTH / 2,                    rect.width, LINEWIDTH);            m_isDrawRect = true;        } else if (next == 0) {            Rectangle rect = getBoundsAt(0);            m_lineRect.setRect(rect.x, -LINEWIDTH / 2, rect.width, LINEWIDTH);            m_isDrawRect = true;        } else {            Rectangle rect = getBoundsAt(next - 1);            m_lineRect.setRect(rect.x, rect.y + rect.height - LINEWIDTH / 2,                    rect.width, LINEWIDTH);            m_isDrawRect = true;        }    }    private void initGlassPane(Component c, Point tabPt, int a_tabIndex) {        //Point p = (Point) pt.clone();        getRootPane().setGlassPane(s_glassPane);        if (hasGhost()) {            Rectangle rect = getBoundsAt(a_tabIndex);            BufferedImage image = new BufferedImage(c.getWidth(),                    c.getHeight(), BufferedImage.TYPE_INT_ARGB);            Graphics g = image.getGraphics();            c.paint(g);            image = image.getSubimage(rect.x, rect.y, rect.width, rect.height);            s_glassPane.setImage(image);                    } // if        s_glassPane.setPoint(buildGhostLocation(tabPt));        s_glassPane.setVisible(true);    }    private Rectangle getTabAreaBound() {        Rectangle lastTab = getUI().getTabBounds(this, getTabCount() - 1);        return new Rectangle(0, 0, getWidth(), lastTab.y + lastTab.height);    }    public void paintComponent(Graphics g) {        super.paintComponent(g);        if (m_isDrawRect) {            Graphics2D g2 = (Graphics2D) g;            g2.setPaint(m_lineColor);            g2.fill(m_lineRect);        } // if    }    public interface TabAcceptor {        boolean isDropAcceptable(DnDTabbedPane a_component, int a_index);    }}class GhostGlassPane extends JPanel {    public static final long serialVersionUID = 1L;    private final AlphaComposite m_composite;    private Point m_location = new Point(0, 0);    private BufferedImage m_draggingGhost = null;    public GhostGlassPane() {        setOpaque(false);        m_composite = AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.7f);    }    public void setImage(BufferedImage draggingGhost) {        m_draggingGhost = draggingGhost;    }    public void setPoint(Point a_location) {        m_location.x = a_location.x;        m_location.y = a_location.y;    }    public int getGhostWidth() {        if (m_draggingGhost == null) {            return 0;        } // if        return m_draggingGhost.getWidth(this);    }    public int getGhostHeight() {        if (m_draggingGhost == null) {            return 0;        } // if        return m_draggingGhost.getHeight(this);    }    public void paintComponent(Graphics g) {        if (m_draggingGhost == null) {            return;        } // if         Graphics2D g2 = (Graphics2D) g;        g2.setComposite(m_composite);        g2.drawImage(m_draggingGhost, (int) m_location.getX(), (int) m_location.getY(), null);    }}""]",Graphical User Interfaces,"{""Creating SWT applications"": 1.5, ""A selection of Swing components"": 2.15, ""The Swing event model"": 2.0999999999999996, ""Capturing an event"": 0.6}"
64000,64183,Draining Standard Error in Java,"When launching a process from Java, both stderr and stdout can block on output if I don't read from the pipes.  Currently I have a thread that pro-actively reads from one and the main thread blocks on the other.Is there an easy way to join the two streams or otherwise cause the subprocess to continue while not losing the data in stderr? ",[],<java><multithreading><process-management>,64183,"Set the redirectErrorStream property on ProcessBuilder to send stderr output to stdout:--CODE--You should then create a thread to deal with the process stream, something like the following:--CODE--Where InputHandler is defined as:--CODE--Alternatively, just create two InputHandlers for the InputStream and ErrorStream. Knowing that the program will block if you don't read them is 90% of the battle :)","[""ProcessBuilder builder = new ProcessBuilder(command);builder.redirectErrorStream(true);"", ""Process p = builder.start();InputHandler outHandler = new InputHandler(p.getInputStream());"", ""private static class InputHandler extends Thread {    private final InputStream is;    private final ByteArrayOutputStream os;    public InputHandler(InputStream input) {        this.is = input;        this.os = new ByteArrayOutputStream();    }    public void run() {        try {            int c;            while ((c = is.read()) != -1) {                os.write(c);            }        } catch (Throwable t) {            throw new IllegalStateException(t);        }    }    public String getOutput() {        try {        os.flush();        } catch (Throwable t) {            throw new IllegalStateException(t);        }        return os.toString();    }}""]",Concurrency,"{""Cooperation between tasks"": 2.65}"
65128,65618,track down file handle,"I have a huge ear that uses log4j and there is a single config file that is used to set it up. In this config file there is no mention of certain log files but, additional files apart from those specified in the config file get generated in the logs folder. I've searched for other combinations of (logger|log4j|log).(properties|xml) and haven't found anything promising in all of the jar files included in the ear. How do I track down which is the offending thread/class that is creating these extra files?",[],<java><logging><file><jakarta-ee><websphere>,65618,"Try placing a breakpoint in the File class' constructors and the mkdir and createNewFile methods.  Generally, code will use the File class to create its files or directories.  You should have the Java source code for these classes included with your JVM.",[],IO,"{""The File class"": 2.6}"
66455,86170,Is there an easy way to change the behavior of a Java/Swing control when it gets focus?,"For most GUI's I've used, when a control that contains text gets the focus, the entire contents of the control are selected.  This means if you just start typing, you completely replace the former contents.Example:  You have spin control that is initialized with the value zero.   You tab to it and type ""1"" The value in the control is now 1.With Swing, this doesn't happen.  The text in the control is not selected and the carat appears at one end or another of the existing text.  Continuing the above example:With a Swing JSpinner, when you tab to the spin control, the carat is at the left.  You type ""1"" and the value in the control is now 10.This drives me, (and my users) up a wall, and I'd like to change it.  Even more important, I'd like to change it globally so the new behavior applies to JTextField, JPasswordField, JFormattedTextField, JTextArea, JComboBox, JSpinner, and so on.   The only way I have found to do this to add a FocusAdapter to each control and override the focusGained() method to Do The Right Thing[tm].There's gotta be an easier, and less fragile way.  Please?EDIT: One additional piece of information for this particular case.  The form I am working with was generated using Idea's form designer.  That means I normally don't actually write the code to create the components.  It is possible to tell Idea that you want to create them yourself, but that's a hassle I'd like to avoid.Motto:  All good programmers are basically lazy.",[],<java><user-interface><swing>,86170,After reading the replies so far (Thanks!) I passed the outermost JPanel to the following method: --CODE--It works!,"[""void addTextFocusSelect(JComponent component){    if(component instanceof JTextComponent){        component.addFocusListener(new FocusAdapter() {                @Override                public void focusGained(FocusEvent event) {                    super.focusGained(event);                    JTextComponent component = (JTextComponent)event.getComponent();                    // a trick I found on JavaRanch.com                    // Without this, some components don't honor selectAll                    component.setText(component.getText());                    component.selectAll();                }            });    }    else    {        for(Component child: component.getComponents()){            if(child instanceof JComponent){                addTextFocusSelect((JComponent) child);            }        }    }}""]",Graphical User Interfaces,"{""Capturing an event"": 0.85, ""The Swing event model"": 2.25, ""A selection of Swing components"": 1.5}"
84285,,calling thread.start() within its own constructor,is it legal for a thread to call this.start() inside its own constructor? and if so what potential issues can this cause? I understand that the object wont have fully initialized until the constructor has run to completion but aside from this are there any other issues?  ,[],<java><multithreading>,84937,"For memory-safety reasons, you shouldn't expose a reference to an object or that object's fields to another thread from within its constructor.  Assuming that your custom thread has instance variables, by starting it from within the constructor, you are guaranteed to violate the Java Memory Model guidelines.  See [Brian Goetz's Safe Construction Techniques](""http://www.ibm.com/developerworks/java/library/j-jtp0618.html"") for more info.",[],Concurrency,"{""Basic threading"": 2.9}"
86780,86832,How to check if a String contains another String in a case insensitive manner in Java?,"Say I have two strings,--CODE--I want to perform a check returning that s2 is contained within s1. I can do this with:--CODE--I am pretty sure that contains() is case sensitive, however I can't determine this for sure from reading the documentation. If it is then I suppose my best method would be something like:--CODE--All this aside, is there another (possibly better) way to accomplish this without caring about case-sensitivity?","[""String s1 = \""AbBaCca\"";String s2 = \""bac\"";"", ""return s1.contains(s2);"", ""return s1.toLowerCase().contains(s2.toLowerCase());""]",<java><string>,86832,"Yes, contains is case sensitive.  You can use java.util.regex.Pattern with the CASE_INSENSITIVE flag for case insensitive matching:--CODE--EDIT: If s2 contains regex special characters (of which there are many) it's important to quote it first.  I've corrected my answer since it is the first one people will see, but vote up Matt Quail's since he pointed this out.","[""Pattern.compile(Pattern.quote(wantedStr), Pattern.CASE_INSENSITIVE).matcher(source).find();""]",Strings,"{""Operations on Strings"": 2.6999999999999997, ""Regular expressions"": 2.65}"
88036,88097,Does the unmodifiable wrapper for java collections make them thread safe?,I need to make an ArrayList of ArrayLists thread safe. I also cannot have the client making changes to the collection. Will the unmodifiable wrapper make it thread safe or do I need two wrappers on the collection?,[],<java><multithreading><collections><unmodifiable>,88097,"It depends. The wrapper will only prevent changes to the collection it wraps, not to the objects in the collection. If you have an ArrayList of ArrayLists, the global List as well as each of its element Lists need to be wrapped separately, and you may also have to do something for the contents of those lists. Finally, you have to make sure that the original list objects are not changed, since the wrapper only prevents changes through the wrapper reference, not to the original object.You do NOT need the synchronized wrapper in this case.",[],Concurrency,"{""Sharing resources"": 2.65}"
93091,93216,Why can't strings be mutable in Java and .NET?,Why is it that they decided to make String immutable in Java and .NET (and some other languages)? Why didn't they make it mutable?,[],<java><.net><string><mutable>,93216,"According to [Effective Java](""http://www.oracle.com/technetwork/java/effectivejava-136174.html""), chapter 4, page 73, 2nd edition:  ""There are many good reasons for this: Immutable classes are easier to  design, implement, and use than mutable classes. They are less prone  to error and are more secure.    [...]    ""Immutable objects are simple. An immutable object can be in  exactly one state, the state in which it was created. If you make sure  that all constructors establish class invariants, then it is  guaranteed that these invariants will remain true for all time, with  no effort on your part.    [...]    Immutable objects are inherently thread-safe; they require no synchronization. They cannot be corrupted by multiple threads  accessing them concurrently. This is far and away the easiest approach  to achieving thread safety. In fact, no thread can ever observe any  effect of another thread on an immutable object. Therefore,  immutable objects can be shared freely    [...]Other small points from the same chapter:  Not only can you share immutable objects, but you can share their internals.    [...]    Immutable objects make great building blocks for other objects, whether mutable or immutable.    [...]    The only real disadvantage of immutable classes is that they require a separate object for each distinct value.",[],Strings,"{""Immutable Strings"": 2.85, ""Operations on Strings"": 0.3}"
94011,95636,How to abort a thread in a fast and clean way in java?,"Here is my problem: I've got a dialog with some parameters that the user can change (via a spinner for example). Each time one of these parameters is changed, I launch a thread to update a 3D view according to the new parameter value. If the user changes another value (or the same value again by clicking many times on the spinner arrow) while the first thread is working, I would like to abort the first thread (and the update of the 3D view) and launch a new one with the latest parameter value.How can I do something like that?PS: There is no loop in the run() method of my thread, so checking for a flag is not an option: the thread updating the 3D view basically only calls a single method that is very long to execute. I can't add any flag in this method asking to abort either as I do not have access to its code.",[],<java><multithreading>,95636,"Try interrupt() as some have said to see if it makes any difference to your thread.  If not, try destroying or closing a resource that will make the thread stop.  That has a chance of being a little better than trying to throw Thread.stop() at it.If performance is tolerable, you might view each 3D update as a discrete non-interruptible event and just let it run through to conclusion, checking afterward if there's a new latest update to perform.  This might make the GUI a little choppy to users, as they would be able to make five changes, then see the graphical results from how things were five changes ago, then see the result of their latest change.  But depending on how long this process is, it might be tolerable, and it would avoid having to kill the thread.  Design might look like this:--CODE--","[""boolean stopFlag = false;Object[] latestArgs = null;public void run() {  while (!stopFlag) {    if (latestArgs != null) {      Object[] args = latestArgs;      latestArgs = null;      perform3dUpdate(args);    } else {      Thread.sleep(500);    }  }}public void endThread() {  stopFlag = true;}public void updateSettings(Object[] args) {  latestArgs = args;}""]",Concurrency,"{""Terminating tasks"": 2.85, ""Basic threading"": 1.2999999999999998}"
95767,97176,How can I catch AWT thread exceptions in Java?,We'd like a trace in our application logs of these exceptions - by default Java just outputs them to the console.,[],<java><swing><exception-handling><awt>,97176,There is a distinction between uncaught exceptions in the EDT and outside the EDT.Another question has a solution for both but if you want just the EDT portion chewed up...--CODE--,"[""class AWTExceptionHandler {  public void handle(Throwable t) {    try {      // insert your exception handling code here      // or do nothing to make it go away    } catch (Throwable t) {      // don't let the exception get thrown out, will cause infinite looping!    }  }  public static void registerExceptionHandler() {    System.setProperty('sun.awt.exception.handler', AWTExceptionHandler.class.getName())  }}""]",Graphical User Interfaces,"{""Creating SWT applications"": 0.7, ""Concurrency & Swing"": 1.35, ""Swing basics"": 1.1}"
100707,100751,How much resources do sleeping and waiting threads consume,"I'm wondering, how expensive it is to have many threads in waiting state in java 1.6 x64.To be more specific, I'm writing application which runs across many computers and sends/receives data from one to another. I feel more comfortable to have separate thread for each connected machine and task, like 1) sending data, 2) receiving data, 3) reestablishing connection when it is dropped. So, given that there are N nodes in cluster, each machine is going to have 3 threads for each of N-1 neighbours. Typically there will be 12 machines, which comes to 33 communication threads.Most of those threads will be sleeping most of the time, so for optimization purposes I could reduce number of threads and give more job to each of them. Like, for example. reestablishing connection is responsibility of receiving thread. Or sending to all connected machines is done by single thread.So is there any significant perfomance impact on having many sleeping threads?",[],<java><multithreading><sleep><wait>,100751,"For most cases, the resources consumed by a sleeping thread will be its stack space. Using a 2-threads-per-connection-model, which I think is similar to what you're describing, is known to cause great scalability issues for this very reason when the number of connections grow large.I've been in this situation myself, and when the number of connections grew above 500 connections (about a thousand threads), you tend to get into lots of cases where you get OutOfMemoryError, since the threads stack space usage exceeds the maximum amount of memory for a single process. At least in our case, which was in a Java on 32 bit Windows world. You can tune things and get a bit further, I guess, but in the end it's just not very scalable since you waste lots of memory.If you need a large number of connections, Java NIO (new IO or whatever) is the way to go, making it possible to handle lots of connections in the same thread.Having said that, you shouldn't encounter much of a problem with under a 100 threads on a reasonably modern server, even if it's probably still a waste of resources.",[],Concurrency,"{""Basic threading"": 1.2, ""Cooperation between tasks"": 1.5, ""Sharing resources"": 0.6}"
102171,102737,Method that returns the line number for a given JTextPane position?,"I'm looking for a method that computes the line number of a given text position in a JTextPane with wrapping enabled.Example:  This a very very very very very very very very very very very very very very very very very very very very very very long line.  This is another very very very very very very very very very very very very very very very very very very very very very very long line.|The cursor is on line number four, not two.Can someone provide me with the implementation of the method:--CODE--","[""int getLineNumber(JTextPane pane, int pos){     return ???}""]",<java><user-interface><swing><jtextpane>,102737,Try this--CODE--,"["" /**   * Return an int containing the wrapped line index at the given position   * @param component JTextPane   * @param int pos   * @return int   */  public int getLineNumber(JTextPane component, int pos)   {    int posLine;    int y = 0;    try    {      Rectangle caretCoords = component.modelToView(pos);      y = (int) caretCoords.getY();    }    catch (BadLocationException ex)    {    }    int lineHeight = component.getFontMetrics(component.getFont()).getHeight();    posLine = (y / lineHeight) + 1;    return posLine;  }""]",Graphical User Interfaces,"{""A selection of Swing components"": 2.6, ""The Swing event model"": 1.4}"
103179,103295,How do I set an Application's Icon Globally in Swing?,"I know I can specify one for each form, or for the root form and then it'll cascade through to all of the children forms, but I'd like to have a way of overriding the default Java Coffee Cup for all forms even those I might forget.Any suggestions?",[],<java><swing>,103295,"You can make the root form (by which I assume you mean JFrame) be your own subclass of JFrame, and put standard functionality in its constructor, such as:--CODE--You can bundle other standard stuff in here too, such as memorizing the frame's window metrics as a user preference, managing splash panes, etc.Any new frames spawned by this one would also be instances of this JFrame subclass.  The only thing you have to remember is to instantiate your subclass, instead of JFrame.  I don't think there's any substitute for remembering to do this, but at least now it's a matter of remembering a subclass instead of a setIconImage call (among possibly other features).","[""this.setIconImage(STANDARD_ICON);""]",Graphical User Interfaces,"{""A selection of Swing components"": 2.15, ""Swing basics"": 0.8}"
104184,41990379,Is it safe to get values from a java.util.HashMap from multiple threads (no modification)?,"There is a case where a map will be constructed, and once it is initialized, it will never be modified again.  It will however, be accessed (via get(key) only) from multiple threads.  Is it safe to use a java.util.HashMap in this way?(Currently, I'm happily using a java.util.concurrent.ConcurrentHashMap, and have no measured need to improve performance, but am simply curious if a simple HashMap would suffice.  Hence, this question is not ""Which one should I use?"" nor is it a performance question.  Rather, the question is ""Would it be safe?"")",[],<java><multithreading><concurrency><hashmap>,41990379,"Your idiom is safe if and only if the reference to the HashMap is safely published. Rather than anything relating the internals of HashMap itself, safe publication deals with how the constructing thread makes the reference to the map visible to other threads.Basically, the only possible race here is between the construction of the HashMap and any reading threads that may access it before it is fully constructed. Most of the discussion is about what happens to the state of the map object, but this is irrelevant since you never modify it - so the only interesting part is how the HashMap reference is published. For example, imagine you publish the map like this:--CODE--... and at some point setMap() is called with a map, and other threads are using SomeClass.MAP to access the map, and check for null like this:--CODE--This is not safe even though it probably appears as though it is. The problem is that there is no [happens-before](""https://docs.oracle.com/javase/tutorial/essential/concurrency/memconsist.html"") relationship between the set of SomeObject.MAP and the subsequent read on another thread, so the reading thread is free to see a partially constructed map. This can pretty much do anything and even in practice it does things like [put the reading thread into an infinite loop](""http://mailinator.blogspot.com/2009/06/beautiful-race-condition.html"").To safely publish the map, you need to establish a happens-before relationship between the writing of the reference to the HashMap (i.e., the publication) and the subsequent readers of that reference (i.e., the consumption). Conveniently, there are only a few easy-to-remember ways to [[1]:Exchange the reference through a properly locked field (JLS 17.4.5](""https://stackoverflow.com/q/5458848/149138"">accomplish))Use static initializer to do the initializing stores ([JLS 12.4](""http://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.4""))Exchange the reference via a volatile field ([JLS 17.4.5](""http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5"")), or as the consequence of this rule, via the AtomicX classesInitialize the value into a final field ([JLS 17.5](""http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.5"")).The ones most interesting for your scenario are (2), (3) and (4). In particular, (3) applies directly to the code I have above: if you transform the declaration of MAP to:--CODE--then everything is kosher: readers who see a non-null value necessarily have a happens-before relationship with the store to MAP and hence see all the stores associated with the map initialization.The other methods change the semantics of your method, since both (2) (using the static initalizer) and (4) (using final) imply that you cannot set MAP dynamically at runtime. If you don't need to do that, then just declare MAP as a static final HashMap and you are guaranteed safe publication.In practice, the rules are simple for safe access to ""never-modified objects"":If you are publishing an object which is not inherently immutable (as in all fields declared final) and:You already can create the object that will be assigned at the moment of declarationa: just use a final field (including static final for static members).You want to assign the object later, after the reference is already visible: use a volatile fieldb.That's it!In practice, it is very efficient. The use of a static final field, for example, allows the JVM to assume the value is unchanged for the life of the program and optimize it heavily. The use of a final member field allows most architectures to read the field in a way equivalent to a normal field read and doesn't inhibit further optimizationsc. Finally, the use of volatile does have some impact: no hardware barrier is needed on many architectures (such as x86, specifically those that don't allow reads to pass reads), but some optimization and reordering may not occur at compile time - but this effect is generally small. In exchange, you actually get more than what you asked for - not only can you safely publish one HashMap, you can store as many more not-modified HashMaps as you want to the same reference and be assured that all readers will see a safely published map.For more gory details, refer to [Shipilev](""https://shipilev.net/blog/2014/safe-public-construction/"") or [this FAQ by Manson and Goetz](""https://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html#finalRight"").[1] Directly quoting from [shipilev](""https://shipilev.net/blog/2014/safe-public-construction/"").a That sounds complicated, but what I mean is that you can assign the reference at construction time - either at the declaration point or in the constructor (member fields) or static initializer (static fields).b Optionally, you can use a synchronized method to get/set, or an AtomicReference or something, but we're talking about the minimum work you can do.c Some architectures with very weak memory models (I'm looking at you, Alpha) may require some type of read barrier before a final read - but these are very rare today.","[""class SomeClass {   public static HashMap<Object, Object> MAP;   public synchronized static setMap(HashMap<Object, Object> m) {     MAP = m;   }}"", ""HashMap<Object,Object> map = SomeClass.MAP;if (map != null) {  .. use the map} else {  .. some default behavior}"", ""public static volatile HashMap<Object, Object> MAP;""]",Containers in Depth,"{""Understanding Maps"": 2.05, ""Utilities"": 0.9}"
104373,453629,Mac OS X Java Swing Buttons are Disabled for no aparent reason,I wrote an application in Java and when it runs on one customer's computer running OS X The Save and Export buttons are disabled. (Everything else works in the application.)Both of these buttons open up a standard save file dialog.Any ideas?,[],<java><macos><swing><button>,453629,This was caused by misinformation recieved from the customer.Turns out the customer was trying to save to a location where files can't be saved on his/her hard drive.,[],Graphical User Interfaces,"{""Making a button"": 0.8, ""A selection of Swing components"": 1.7999999999999998}"
116957,122082,Which Layout Manager do you use?,"What java GUI layout manager does everyone use?  Lately, I have been using [MigLayout](""http://www.miglayout.com/""), which has some powerful component controls.  Just wanted to see what other developers are using other than the standard JDK ones.",[],<java><swing><layout>,122082,"[MiGLayout](""http://www.miglayout.com/"") is the GUI layout manager which is widely used by Java Developers.",[],Graphical User Interfaces,"{""Controlling layout"": 2.75}"
118371,118388,How do you ensure multiple threads can safely access a class field?,"When a class field is accessed via a getter method by multiple threads, how do you maintain thread safety? Is the synchronized keyword sufficient?Is this safe:--CODE--or does the setter introduce further complications?","[""public class SomeClass {    private int val;    public synchronized int getVal() {        return val;    }    private void setVal(int val) {        this.val = val;    }}""]",<java><multithreading><synchronized>,118388,"If you use 'synchronized' on the setter here too, this code is threadsafe. However it may not be sufficiently granular; if you have 20 getters and setters and they're all synchronized, you may be creating a synchronization bottleneck.In this specific instance, with a single int variable, then eliminating the 'synchronized' and marking the int field 'volatile' will also ensure visibility (each thread will see the latest value of 'val' when calling the getter) but it may not be synchronized enough for your needs. For example, expecting--CODE--to set val to 2 if and only if it's already 1 is incorrect. For this you need an external lock, or some atomic compare-and-set method.I strongly suggest you read Java Concurrency In Practice by Brian Goetz et al, it has the best coverage of Java's concurrency constructs.","["" int old = someThing.getVal(); if (old == 1) {    someThing.setVal(2); }""]",Concurrency,"{""Sharing resources"": 2.6}"
119328,119586,"How do I truncate a java string to fit in a given number of bytes, once UTF-8 encoded?",How do I truncate a java String so that I know it will fit in a given number of bytes storage once it is UTF-8 encoded?,[],<java><string><unicode><utf-8><truncate>,119586,"Here is a simple loop that counts how big the UTF-8 representation is going to be, and truncates when it is exceeded:--CODE--This does handle [surrogate pairs](""http://en.wikipedia.org/wiki/UTF-16"") that appear in the input string. Java's UTF-8 encoder (correctly) outputs surrogate pairs as a single 4-byte sequence instead of two 3-byte sequences, so truncateWhenUTF8() will return the longest truncated string it can. If you ignore surrogate pairs in the implementation then the truncated strings may be shorted than they needed to be.I haven't done a lot of testing on that code, but here are some preliminary tests:--CODE--Updated Modified code example, it now handles surrogate pairs.","[""public static String truncateWhenUTF8(String s, int maxBytes) {    int b = 0;    for (int i = 0; i < s.length(); i++) {        char c = s.charAt(i);        // ranges from http://en.wikipedia.org/wiki/UTF-8        int skip = 0;        int more;        if (c <= 0x007f) {            more = 1;        }        else if (c <= 0x07FF) {            more = 2;        } else if (c <= 0xd7ff) {            more = 3;        } else if (c <= 0xDFFF) {            // surrogate area, consume next char as well            more = 4;            skip = 1;        } else {            more = 3;        }        if (b + more > maxBytes) {            return s.substring(0, i);        }        b += more;        i += skip;    }    return s;}"", ""private static void test(String s, int maxBytes, int expectedBytes) {    String result = truncateWhenUTF8(s, maxBytes);    byte[] utf8 = result.getBytes(Charset.forName(\""UTF-8\""));    if (utf8.length > maxBytes) {        System.out.println(\""BAD: our truncation of \"" + s + \"" was too big\"");    }    if (utf8.length != expectedBytes) {        System.out.println(\""BAD: expected \"" + expectedBytes + \"" got \"" + utf8.length);    }    System.out.println(s + \"" truncated to \"" + result);}public static void main(String[] args) {    test(\""abcd\"", 0, 0);    test(\""abcd\"", 1, 1);    test(\""abcd\"", 2, 2);    test(\""abcd\"", 3, 3);    test(\""abcd\"", 4, 4);    test(\""abcd\"", 5, 4);    test(\""a\\u0080b\"", 0, 0);    test(\""a\\u0080b\"", 1, 1);    test(\""a\\u0080b\"", 2, 1);    test(\""a\\u0080b\"", 3, 3);    test(\""a\\u0080b\"", 4, 4);    test(\""a\\u0080b\"", 5, 4);    test(\""a\\u0800b\"", 0, 0);    test(\""a\\u0800b\"", 1, 1);    test(\""a\\u0800b\"", 2, 1);    test(\""a\\u0800b\"", 3, 1);    test(\""a\\u0800b\"", 4, 4);    test(\""a\\u0800b\"", 5, 5);    test(\""a\\u0800b\"", 6, 5);    // surrogate pairs    test(\""\\uD834\\uDD1E\"", 0, 0);    test(\""\\uD834\\uDD1E\"", 1, 0);    test(\""\\uD834\\uDD1E\"", 2, 0);    test(\""\\uD834\\uDD1E\"", 3, 0);    test(\""\\uD834\\uDD1E\"", 4, 4);    test(\""\\uD834\\uDD1E\"", 5, 4);}""]",Strings,"{""Operations on Strings"": 2.0, ""Immutable Strings"": 0.3}"
125333,125354,How to implement simple threading with a fixed number of worker threads,"I'm looking for the simplest, most straightforward way to implement the following:The main program instantiates workerthreads to do a task.Only n tasks can be running at once.When n is reached, no more workersare started until the count ofrunning threads drops back below n.",[],<java><multithreading><concurrency>,125354,"I think that [Executors.newFixedThreadPool](""http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool(int)"") fits your requirements.  There are a number of different ways to use the resulting ExecutorService, depending on whether you want a result returned to the main thread, or whether the task is totally self-contained, and whether you have a collection of tasks to perform up front, or whether tasks are queued in response to some event.  --CODE--Alternatively, if you have a new asynchronous task to perform in response to some event, you probably just want to use the ExecutorService's simple execute(Runnable) method.","[""  Collection<YourTask> tasks = new ArrayList<YourTask>();  YourTask yt1 = new YourTask();  ...  tasks.add(yt1);  ...  ExecutorService exec = Executors.newFixedThreadPool(5);  List<Future<YourResultType>> results = exec.invokeAll(tasks);""]",Concurrency,"{""Cooperation between tasks"": 1.8, ""Basic threading"": 1.5}"
129451,129472,JavaScript or Java String Subtraction,"If you are using Java or JavaScript, is there a good way to do something like a String subtraction so that given two strings:--CODE--you just get:--CODE--I know that I could just write code to walk the string comparing characters, but I was hoping there was a way to do it in a really compact way.  Another use-case is to find the diff between the strings:--CODE--I actually only want to remove the sections that are identical.","[""org.company.project.componentorg.company.project.component.sub_component"", ""sub_component"", ""org.company.project.component.difforg.company.project.component.sub_component""]",<java><javascript><regex>,129472,"Depends on precisely what you want.  If you're looking for a way to compare strings in the general case -- meaning finding common sub-strings between arbitrary inputs -- then you're looking at something closer to the Levenshtein distance and similar algorithms.  However, if all you need is prefix/suffix comparison, this should work:--CODE--...or something roughly to that effect.","[""public static String sub(String a, String b) {    if (b.startsWith(a)) {        return b.subString(a.length());    }    if (b.endsWith(a)) {        return b.subString(0, b.length() - a.length());    }    return \""\"";}""]",Strings,"{""Operations on Strings"": 2.45, ""Regular expressions"": 0.5}"
130506,131524,How many threads should I use in my Java program?,"I recently inherited a small Java program that takes information from a large database, does some processing and produces a detailed image regarding the information. The original author wrote the code using a single thread, then later modified it to allow it to use multiple threads. In the code he defines a constant;--CODE--Which then sets the number of threads that are used to create the image.I understand his reasoning that the number of threads cannot be greater than the number of available processors, so set it the the amount to get the full potential out of the processor(s). Is this correct? or is there a better way to utilize the full potential of the processor(s)?EDIT: To give some more clarification, The specific algorithm that is being threaded scales to the resolution of the picture being created, (1 thread per pixel). That is obviously not the best solution though. The work that this algorithm does is what takes all the time, and is wholly mathematical operations, there are no locks or other factors that will cause any given thread to sleep. I just want to maximize the programs CPU utilization to decrease the time to completion.","[""//  number of threadspublic static final int THREADS =  Runtime.getRuntime().availableProcessors();""]",<java><multithreading>,131524,"Threads are fine, but as others have noted, you have to be highly aware of your bottlenecks.  Your algorithm sounds like it would be susceptible to cache contention between multiple CPUs - this is particularly nasty because it has the potential to hit the performance of all of your threads (normally you think of using multiple threads to continue processing while waiting for slow or high latency IO operations).Cache contention is a very important aspect of using multi CPUs to process a highly parallelized algorithm:  Make sure that you take your memory utilization into account.  If you can construct your data objects so each thread has it's own memory that it is working on, you can greatly reduce cache contention between the CPUs.  For example, it may be easier to have a big array of ints and have different threads working on different parts of that array - but in Java, the bounds checks on that array are going to be trying to access the same address in memory, which can cause a given CPU to have to reload data from L2 or L3 cache.Splitting the data into it's own data structures, and configure those data structures so they are thread local (might even be more optimal to use [ThreadLocal](""http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ThreadLocal.html"") - that actually uses constructs in the OS that provide guarantees that the CPU can use to optimize cache.The best piece of advice I can give you is test, test, test.  Don't make assumptions about how CPUs will perform - there is a huge amount of magic going on in CPUs these days, often with counterintuitive results.  Note also that the JIT runtime optimization will add an additional layer of complexity here (maybe good, maybe not). ",[],Concurrency,"{""Cooperation between tasks"": 0.3, ""Performance tuning"": 0.8, ""Basic threading"": 0.7, ""Sharing resources"": 0.2, ""Simulation"": 0.2}"
133988,134014,Synchronizing on String objects in Java,"I have a webapp that I am in the middle of doing some load/performance testing on, particularily on a feature where we expect a few hundred users to be accessing the same page and hitting refresh about every 10 seconds on this page. One area of improvement that we found we could make with this function was to cache the responses from the web service for some period of time, since the data is not changing.After implementing this basic caching, in some further testing I found out that I didn't consider how concurrent threads could access the Cache at the same time. I found that within the matter of ~100ms, about 50 threads were trying to fetch the object from the Cache, finding that it had expired, hitting the web service to fetch the data, and then putting the object back in the cache.The original code looked something like this:--CODE--So, to make sure that only one thread was calling the web service when the object at key expired, I thought I needed to synchronize the Cache get/set operation, and it seemed like using the cache key would be a good candidate for an object to synchronize on (this way, calls to this method for email b@b.com would not be blocked by method calls to a@a.com).I updated the method to look like this:--CODE--I also added logging lines for things like ""before synchronization block"", ""inside synchronization block"", ""about to leave synchronization block"", and ""after synchronization block"", so I could determine if I was effectively synchronizing the get/set operation.However it doesn't seem like this has worked. My test logs have output like:  (log output is 'threadname' 'logger name' 'message')  http-80-Processor253 jsp.view-page - getSomeDataForEmail: about to enter synchronization block  http-80-Processor253 jsp.view-page - getSomeDataForEmail: inside synchronization block  http-80-Processor253 cache.StaticCache - get: object at key [SomeData-test@test.com] has expired  http-80-Processor253 cache.StaticCache - get: key [SomeData-test@test.com] returning value [null]  http-80-Processor263 jsp.view-page - getSomeDataForEmail: about to enter synchronization block  http-80-Processor263 jsp.view-page - getSomeDataForEmail: inside synchronization block  http-80-Processor263 cache.StaticCache - get: object at key [SomeData-test@test.com] has expired  http-80-Processor263 cache.StaticCache - get: key [SomeData-test@test.com] returning value [null]  http-80-Processor131 jsp.view-page - getSomeDataForEmail: about to enter synchronization block  http-80-Processor131 jsp.view-page - getSomeDataForEmail: inside synchronization block  http-80-Processor131 cache.StaticCache - get: object at key [SomeData-test@test.com] has expired  http-80-Processor131 cache.StaticCache - get: key [SomeData-test@test.com] returning value [null]  http-80-Processor104 jsp.view-page - getSomeDataForEmail: inside synchronization block  http-80-Processor104 cache.StaticCache - get: object at key [SomeData-test@test.com] has expired  http-80-Processor104 cache.StaticCache - get: key [SomeData-test@test.com] returning value [null]  http-80-Processor252 jsp.view-page - getSomeDataForEmail: about to enter synchronization block  http-80-Processor283 jsp.view-page - getSomeDataForEmail: about to enter synchronization block  http-80-Processor2 jsp.view-page - getSomeDataForEmail: about to enter synchronization block  http-80-Processor2 jsp.view-page - getSomeDataForEmail: inside synchronization block  I wanted to see only one thread at a time entering/exiting the synchronization block around the get/set operations.Is there an issue in synchronizing on String objects? I thought the cache-key would be a good choice as it is unique to the operation, and even though the final String key is declared within the method, I was thinking that each thread would be getting a reference to the same object and therefore would synchronization on this single object.What am I doing wrong here?Update: after looking further at the logs, it seems like methods with the same synchronization logic where the key is always the same, such as --CODE--do not exhibit the same concurrency problem - only one thread at a time is entering the block.Update 2: Thanks to everyone for the help! I accepted the first answer about intern()ing Strings, which solved my initial problem - where multiple threads were entering synchronized blocks where I thought they shouldn't, because the key's had the same value.As others have pointed out, using intern() for such a purpose and synchronizing on those Strings does indeed turn out to be a bad idea - when running JMeter tests against the webapp to simulate the expected load, I saw the used heap size grow to almost 1GB in just under 20 minutes.Currently I'm using the simple solution of just synchronizing the entire method - but I really like the code samples provided by martinprobst and MBCook, but since I have about 7 similar getData() methods in this class currently (since it needs about 7 different pieces of data from a web service), I didn't want to add almost-duplicate logic about getting and releasing locks to each method. But this is definitely very, very valuable info for future usage. I think these are ultimately the correct answers on how best to make an operation like this thread-safe, and I'd give out more votes to these answers if I could!","[""private SomeData[] getSomeDataByEmail(WebServiceInterface service, String email) {  final String key = \""Data-\"" + email;  SomeData[] data = (SomeData[]) StaticCache.get(key);  if (data == null) {      data = service.getSomeDataForEmail(email);      StaticCache.set(key, data, CACHE_TIME);  }  else {      logger.debug(\""getSomeDataForEmail: using cached object\"");  }  return data;}"", ""private SomeData[] getSomeDataByEmail(WebServiceInterface service, String email) {  SomeData[] data = null;  final String key = \""Data-\"" + email;  synchronized(key) {          data =(SomeData[]) StaticCache.get(key);    if (data == null) {        data = service.getSomeDataForEmail(email);        StaticCache.set(key, data, CACHE_TIME);    }    else {      logger.debug(\""getSomeDataForEmail: using cached object\"");    }  }  return data;}"", ""final String key = \""blah\"";...synchronized(key) { ...""]",<java><multithreading><synchronization><thread-safety><synchronized>,134014,"Without putting my brain fully into gear, from a quick scan of what you say it looks as though you need to intern() your Strings:--CODE--Two Strings with the same value are otherwise not necessarily the same object.Note that this may introduce a new point of contention, since deep in the VM, intern() may have to acquire a lock. I have no idea what modern VMs look like in this area, but one hopes they are fiendishly optimised.I assume you know that StaticCache still needs to be thread-safe. But the contention there should be tiny compared with what you'd have if you were locking on the cache rather than just the key while calling getSomeDataForEmail.Response to question update:I think that's because a string literal always yields the same object. Dave Costa points out in a comment that it's even better than that: a literal always yields the canonical representation. So all String literals with the same value anywhere in the program would yield the same object.EditOthers have pointed out that synchronizing on intern strings is actually a really bad idea - partly because creating intern strings is permitted to cause them to exist in perpetuity, and partly because if more than one bit of code anywhere in your program synchronizes on intern strings, you have dependencies between those bits of code, and preventing deadlocks or other bugs may be impossible.Strategies to avoid this by storing a lock object per key string are being developed in other answers as I type.Here's an alternative - it still uses a singular lock, but we know we're going to need one of those for the cache anyway, and you were talking about 50 threads, not 5000, so that may not be fatal. I'm also assuming that the performance bottleneck here is slow blocking I/O in DoSlowThing() which will therefore hugely benefit from not being serialised. If that's not the bottleneck, then:If the CPU is busy then this approach may not be sufficient and you need another approach.If the CPU is not busy, and access to server is not a bottleneck, then this approach is overkill, and you might as well forget both this and per-key locking, put a big synchronized(StaticCache) around the whole operation, and do it the easy way.Obviously this approach needs to be soak tested for scalability before use -- I guarantee nothing.This code does NOT require that StaticCache is synchronized or otherwise thread-safe. That needs to be revisited if any other code (for example scheduled clean-up of old data) ever touches the cache.IN_PROGRESS is a dummy value - not exactly clean, but the code's simple and it saves having two hashtables. It doesn't handle InterruptedException because I don't know what your app wants to do in that case. Also, if DoSlowThing() consistently fails for a given key this code as it stands is not exactly elegant, since every thread through will retry it. Since I don't know what the failure criteria are, and whether they are liable to be temporary or permanent, I don't handle this either, I just make sure threads don't block forever. In practice you may want to put a data value in the cache which indicates 'not available', perhaps with a reason, and a timeout for when to retry.--CODE--Every time anything is added to the cache, all threads wake up and check the cache (no matter what key they're after), so it's possible to get better performance with less contentious algorithms. However, much of that work will take place during your copious idle CPU time blocking on I/O, so it may not be a problem.This code could be commoned-up for use with multiple caches, if you define suitable abstractions for the cache and its associated lock, the data it returns, the IN_PROGRESS dummy, and the slow operation to perform. Rolling the whole thing into a method on the cache might not be a bad idea.","[""final String firstkey = \""Data-\"" + email;final String key = firstkey.intern();"", ""// do not attempt double-check locking here. I mean it.synchronized(StaticObject) {    data = StaticCache.get(key);    while (data == IN_PROGRESS) {        // another thread is getting the data        StaticObject.wait();        data = StaticCache.get(key);    }    if (data == null) {        // we must get the data        StaticCache.put(key, IN_PROGRESS, TIME_MAX_VALUE);    }}if (data == null) {    // we must get the data    try {        data = server.DoSlowThing(key);    } finally {        synchronized(StaticObject) {            // WARNING: failure here is fatal, and must be allowed to terminate            // the app or else waiters will be left forever. Choose a suitable            // collection type in which replacing the value for a key is guaranteed.            StaticCache.put(key, data, CURRENT_TIME);            StaticObject.notifyAll();        }    }}""]",Concurrency,"{""Sharing resources"": 2.5, ""Cooperation between tasks"": 1.4}"
139088,144142,JFrame.setDefaultLookAndFeelDecorated(true);,when i use setDefaultLookAndFeelDecorated(true) method in Javawhy is the Frame appear FullScreen when i maximize the Frame ?and how can i disaple the FullScreen mode in this method ?,[],<java><user-interface><swing>,144142,"Setting setDefaultLookAndFeelDecorated to true causes the decorations to be handled by the look and feel; this means that a System look-and-feel on both Windows and Mac (I have no Linux at hand now) retains the borders you would expect them of a native window, e.g. staying clear of the taskbar in Windows.When using the Cross Platform look-and-feel, a.k.a. Metal, which is the default on Windows, the Windows version will take over the entire screen, making it look like a full-screen window. On Mac, the OS refuses to give away its own titlebar, and draws a complete Metal frame (including the title bar) in a Mac-native window.So, in short, if you want to make sure the taskbar gets respected, use the Windows system look-and-feel on Windows. You can set it by using something like--CODE--","[""UIManager.setLookAndFeel((LookAndFeel) Class.forName(UIManager.getCrossPlatformLookAndFeelClassName()).newInstance());""]",Graphical User Interfaces,"{""A selection of Swing components"": 1.65, ""Swing basics"": 0.6, ""Controlling layout"": 0.8}"
144892,144893,How to center a Window in Java?,"What's the easiest way to centre a java.awt.Window, such as a JFrame or a JDialog?",[],<java><swing><user-interface><awt>,144893,"From [this link](""https://web.archive.org/web/20080921040824/http://blog.codebeach.com/2008/02/center-dialog-box-frame-or-window-in.html"")  If you are using Java 1.4 or newer,  you can use the simple method  setLocationRelativeTo(null) on the  dialog box, frame, or window to center  it.",[],Graphical User Interfaces,"{""A selection of Swing components"": 2.25, ""Creating SWT applications"": 0.7, ""Controlling layout"": 1.2999999999999998}"
145052,145173,"Simplest way to use ""BeanUtils alike"" replace","Is there any libraries that would allow me to use the same known notation as we use in BeanUtils for extracting POJO parameters, but for easily replacing placeholders in a string?I know it would be possible to roll my own, using BeanUtils itself or other libraries with similar features, but I didn't want to reinvent the wheel.I would like to take a String as follows:--CODE--And passing one instance of the User class below:--CODE--To something like:--CODE--Would get each placeholder replaced with actual values.Any ideas?","[""String s = \""User ${user.name} just placed an order. Deliver is to bemade to ${user.address.street}, ${user.address.number} - ${user.address.city} / ${user.address.state}\"";"", ""public class User {   private String name;   private Address address;    // (...)   public String getName() { return name; }    public Address getAddress() {  return address; } }public class Address {   private String street;   private int number;   private String city;   private String state;   public String getStreet() { return street; }   public int getNumber() {  return number; }   // other getters...}"", ""System.out.println(BeanUtilsReplacer.replaceString(s, user));""]",<java><string><replace><placeholder>,145173,"Rolling your own using BeanUtils wouldn't take too much wheel reinvention (assuming you want it to be as basic as asked for). This implementation takes a Map for replacement context, where the map key should correspond to the first portion of the variable lookup paths given for replacement.--CODE--Given the variables provided in your question:--CODE--","[""import java.lang.reflect.InvocationTargetException;import java.util.Map;import java.util.regex.Matcher;import java.util.regex.Pattern;import org.apache.commons.beanutils.BeanUtils;public class BeanUtilsReplacer{    private static Pattern lookupPattern = Pattern.compile(\""\\\\$\\\\{([^\\\\}]+)\\\\}\"");    public static String replaceString(String input, Map<String, Object> context)        throws IllegalAccessException, InvocationTargetException, NoSuchMethodException    {        int position = 0;        StringBuffer result = new StringBuffer();        Matcher m = lookupPattern.matcher(input);        while (m.find())        {            result.append(input.substring(position, m.start()));            result.append(BeanUtils.getNestedProperty(context, m.group(1)));            position = m.end();        }        if (position == 0)        {            return input;        }        else        {            result.append(input.substring(position));            return result.toString();        }    }}"", ""Map<String, Object> context = new HashMap<String, Object>();context.put(\""user\"", user);System.out.println(BeanUtilsReplacer.replaceString(s, context));""]",Strings,"{""Operations on Strings"": 2.45, ""Regular expressions"": 1.5}"
146498,147428,JTable column spanning,"I am trying to make a JTable that has column spans available. Specifically, I am looking to nest a JTable inside another JTable, and when the user clicks to view the nested table, it should expand to push down the rows below and fill the empty space. This is similar to what you see in MS Access where you can nest tables, and clicking the expand button on a row will show you the corresponding entries in the nested table. If someone knows of a way to perform a column span with JTable, can you please point me in the right direction? Or if you know of an alternative way to do this, I am open to suggestions. The application is being built with Swing. Elements in the table, both high level and low level, have to be editable in any solution. Using nested JTables this won't be a problem, and any other solution would have to take this into consideration as well.",[],<java><swing><jtable>,147428,"As a pointer in the right direction, try [this article](""http://www.swingwiki.org/howto:column_spanning"") at SwingWiki that explains the TableUI method of column spanning quite well. Before this, I also tried some alternatives such as overriding the TableCellRenderer paint methods without much success.",[],Graphical User Interfaces,"{""A selection of Swing components"": 2.5}"
147802,147898,Why does Swing in my Java Applet flicker on fast mouse over?,"I made a Java Applet with some Standard GUI Components on it. I used the [MigLayout](""http://www.miglayout.com/"") Manager.If I move the mouse slowly over the various GUI Components everything appears to be fine, but if I move the mouse fast, it flickers.What could make that nasty ugly redraw?(Core 2 Duo 6300, 2GB Ram, Windows XP)",[],<java><swing><applet>,147898,One thought would be to check your code (and/or the MigLayout code) for unnecessary repaint() operations.Custom UIs and layouts can cause weird problems sometimes...,[],Graphical User Interfaces,"{""Applets"": 0.7, ""The Swing event model"": 2.0999999999999996}"
154031,154040,"In a java regex, how can I get a character class e.g. [a-z] to match a - minus sign?","--CODE--Is it possible to have the character class match a ""-"" ?","[""Pattern pattern = Pattern.compile(\""^[a-z]+$\"");String string = \""abc-def\"";assertTrue( pattern.matcher(string).matches() ); // obviously fails""]",<java><regex>,154040,Don't put the minus sign between characters.--CODE--,"[""\""[a-z-]\""""]",Strings,"{""Regular expressions"": 2.9}"
154791,159358,Java TreeNode: How to prevent getChildCount from doing expensive operation?,"I'm writing a Java Tree in which tree nodes could have children that take a long time to compute (in this case, it's a file system, where there may be network timeouts that prevent getting a list of files from an attached drive).The problem I'm finding is this:getChildCount() is called before the user specifically requests opening a particular branch of the tree.  I believe this is done so the JTree knows whether to show a + icon next to the node.An accurate count of children from getChildCount() would need to perform the potentially expensive operation If I fake the value of getChildCount(), the tree only allocates space for that many child nodes before asking for an enumeration of the children.  (If I return '1', I'll only see 1 child listed, despite that there are more)The enumeration of the children can be expensive and time-consuming, I'm okay with that.  But I'm not okay with getChildCount() needing to know the exact number of children.Any way I can work around this?Added: The other problem is that if one of the nodes represents a floppy drive (how archaic!), the drive will be polled before the user asks for its files; if there's no disk in the drive, this results in a system error.Update: Unfortunately, implementing the TreeWillExpand listener isn't the solution.  That can allow you to veto an expansion, but the number of nodes shown is still restricted by the value returned by TreeNode.getChildCount().",[],<java><swing><jtree>,159358,"There are a few parts to the solution:Like Lorenzo Boccaccia said, use the [TreeWillExpandListener](""http://java.sun.com/docs/books/tutorial/uiswing/components/tree.html#data"")Also, need to call nodesWereInserted on the tree, so the proper number of nodes will be displayed.  [See this code](""http://www.jroller.com/Thierry/resource/SwingX/LazyLoadingTreeNode.java"")I have determined that if you don't know the child count, TreeNode.getChildCount() needs to return at least 1 (it can't return 0)",[],Graphical User Interfaces,"{""A selection of Swing components"": 2.2}"
156472,156489,Is there a good drop-in replacement for Java's JEditorPane?,"I'm not happy with the rendering of HTML by Swing's JEditorPane. In particular bullets for unordered lists are hideous. Customising the rendering seems extremely difficult. Therefore I'm looking for a replacement with better HTML rendering.Does this exist? (I asked Google, and found nothing except a promising dead link).",[],<java><swing><jeditorpane>,156489,"Something that I looked at extensively a while back - and there are many options - however I nearly ended up using [http://lobobrowser.org/cobra.jsp](""http://lobobrowser.org/cobra.jsp""), but then the project was cancelled so I can't tell you how it all turned out...",[],Graphical User Interfaces,"{""A selection of Swing components"": 2.2}"
156912,218811,Sending a keyboard event from java to any application (on-screen-keyboard),"I am working on developing an on-screen keyboard with java.  This keyboard has a JComponent for every possible key.  When a mouse down is detected on the button, I want to send a specific keyboard code to the application currently on focus.  The keyboard itself is within a JFrame with no decorations and set to always-on-top.I found that the Robot class can be used to simulate these keyboard events on the native queue.  However, in this case, selecting the JComponent would mean that the key-press is received on the JFrame, and I wouldn't be able to receive it in the other applicationHow can I keep my on-screen keyboard ""Always-without-focus""? Is it maybe possible to use another approach to send the key-press? ",[],<java><events><swing><keyboard><java-native-interface>,218811,"Apparently the only way to do this is to have a JNI layer that will make the conversion from java to native.  Java has no easy way to provide such funcionality.This could be an interesting concept for a small, third party library for someone who wants to learn JNI...",[],Graphical User Interfaces,"{""The Swing event model"": 2.0, ""A selection of Swing components"": 2.2}"
156975,157046,How to add a horizontal gap with a JLabel,"I have a JLabel (actually, it is a JXLabel).I have put an icon and text on it.Now I wand to add some spacing on the left side of the component, like this:I DON'T accept suggestion to move the JLabel or add spacing by modifying the image.I just want to know how to do it with plain java code.",[],<java><swing><jlabel><swingx>,157046,I have found the solution!--CODE--Thanks everyone!,"[""setBorder(new EmptyBorder(0,10,0,0));""]",Graphical User Interfaces,"{""A selection of Swing components"": 2.5}"
164088,164180,Make your collections thread-safe?,"When designing a collection class, is there any reason not to implement locking privately to make it thread safe? Or should I leave that responsibility up to the consumer of the collection?",[],<c#><java><multithreading><collections>,164180,"  is there any reason not to implement locking privately to make it thread safe? It depends. Is your goal to write a collection class which is accessed by multiple threads?If so, make it thread safe. If not, don't waste your time. This kind of thing is what people refer to when they talk about 'premature optimization'Solve the problems that you have. Don't try to solve future problems that you think you may have some years in the future, because you can't see the future, and you'll invariably be wrong.Note: You still need to write your code in a maintainable way, such that if you did need to come along and add locking to the collection, it wouldn't be terribly hard. My point is ""don't implement features that you don't need and won't use""",[],Concurrency,"{""Sharing resources"": 1.1}"
169799,169857,How do I dynamically add Panels to other panels at runtime in Java?,I'm trying to get into java again (it's been a few years). I never really did any GUI coding in java. I've been using Netbeans to get started with this.When using winforms in C# at work I use a usercontrols to build parts of my UI and add them to forms dynamically. I've been trying to use JPanels like usercontrols in C#. I created a JPanel form called BlurbEditor. This has a few simple controls on it. I am trying to add it to another panel at run time on a button event. Here is the code that I thought would work:--CODE--This unfortunately is not working. What am I doing wrong?,"[""mainPanel.add(new BlurbEditor());mainPanel.revalidate();//I've also tried all possible combinations of these too//mainPanel.repaint();//mainPanel.validate();""]",<java><swing>,169857,I figured it out. The comments under the accepted answer here explain it:Dynamically added JTable not displayingBasically I just added the following before the mainPanel.add()--CODE--,"[""mainPanel.setLayout(new java.awt.BorderLayout());""]",Graphical User Interfaces,"{""A selection of Swing components"": 2.2, ""The Swing event model"": 0.6}"
172841,190302,Selection overridden by formatter,"I have applied a Formatter to a JFormattedTextField using a FormatterFactory, when a user clicks into the text field I want to select the contents. A focus listener does not work as expected because the formatter gets called, which eventually causes the value to be reset which ultimately de-selects the fields contents. I think what is happening is that after the value changes, the Caret moves to the rightmost position and this deselects the field.Does anyone have any knowledge of how to get around this and select the fields contents correctly?",[],<java><swing><caret><formatter>,190302,Quick and dirty workaround is to use EventQueue.invokeLater from your focusListener.--CODE--,"["" EventQueue.invokeLater(new Runnable(){  public void run() { yourTextField.selectAll();}});""]",Graphical User Interfaces,"{""The Swing event model"": 2.45}"
178667,1421097,Does JEditorPane have Charset problems when showing HTML?,"I have the following code:--CODE--If you run it, you'll notice the frame is blank. However, if I remove the ""; charset=ISO-8859-1"" from the meta tag, the HTML shows up. Any ideas why and what I can do to prevent this (other than manually hacking the HTML string over which I have no control...).Edit #1 - putProperty( ""Ignore-Charset"", ""true"" ) makes no difference unfortunately.","[""import javax.swing.JEditorPane;import javax.swing.JFrame;import javax.swing.JScrollPane;import javax.swing.ScrollPaneConstants;public class ScratchPad {    public static void main(String args[]) throws Exception {        String html =\""<html>\""+\""<head>\""+\""<meta http-equiv=\\\""Content-Type\\\"" content=\\\""text/html; charset=ISO-8859-1\\\""/>\""+ // this is the problem right here\""<title>Error 400 BAD_REQUEST</title>\""+\""</head>\""+\""<body>\""+\""<h2>HTTP ERROR: 400</h2><pre>BAD_REQUEST</pre>\""+\""<p>RequestURI=null</p>\""+\""<p><i><small><a href=\\\""http://jetty.mortbay.org\\\"">Powered by jetty://</a></small></i></p>\""+\""</body>\""+\""</html>\"";        JFrame f = new JFrame();        JEditorPane editor = new JEditorPane();        editor.setEditable( false );        editor.getDocument().putProperty( \""Ignore-Charset\"", \""true\"" );  // this line makes no difference either way        editor.setContentType( \""text/html\"" );        editor.setText( html );        f.add( new JScrollPane(editor, ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED,                                ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER) );        f.pack();        f.setVisible( true );    }}""]",<java><html><swing><jeditorpane>,1421097,Use the follow line before setText and after setContentType.--CODE--This is one of the mystic undocumented features. setContentType create a new Document that it has no effect if you set it before.,"[""editor.getDocument().putProperty(\""IgnoreCharsetDirective\"", Boolean.TRUE);""]",Graphical User Interfaces,"{""A selection of Swing components"": 1.9}"
182316,182422,Java: Swing Libraries & Thread Safety,"I've often heard criticism of the lack of thread safety in the Swing libraries.  Yet, I am not sure as to what I would be doing in my own code with could cause issues:In what situations does the fact Swing is not thread safe come into play ?What should I actively avoid doing ?",[],<java><multithreading><swing>,182422,"Never do long running tasks in response to a button, event, etc as these are on the event thread. If you block the event thread, the ENTIRE GUI will be completely unresponsive resulting in REALLY pissed off users. This is why Swing seems slow and crusty. Use Threads, Executors, and SwingWorker to run tasks NOT ON THE EDT ( event dispatch thread). Do not update or create widgets outside of the EDT. Just about the only call you can do outside of the EDT is Component.repaint(). Use SwingUtilitis.invokeLater to ensure certain code executes on the EDT.Use [EDT Debug Techniques](""http://weblogs.java.net/blog/alexfromsun/archive/2006/02/debugging_swing.html"") and a smart look and feel (like [Substance](""https://substance.dev.java.net/""), which checks for EDT violation)If you follow these rules, Swing can make some very attractive and RESPONSIVE GUIsAn example of some REALLY awesome Swing UI work: [Palantir Technologies](""http://www.palantirtech.com/""). Note: I DO NOT work for them, just an example of awesome swing. Shame no public demo... Their [blog](""http://blog.palantirtech.com/"") is good too, sparse, but good",[],Graphical User Interfaces,"{""Concurrency & Swing"": 2.55, ""The Swing event model"": 0.7}"